gplink-2.2.34 (Jun  1 2022)
Listing File Generated: 2024-8-2  16:40:04
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_CLR_RAM
                                           	extern	_TIMER0_INT_Init
                                           	extern	_TIMER1_INT_Init
                                           	extern	__mulint
                                           	extern	_INDFbits
                                           	extern	_T0CNTbits
                                           	extern	_PCLbits
                                           	extern	_STATUSbits
                                           	extern	_FSRbits
                                           	extern	_P1bits
                                           	extern	_MCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_PCLATHbits
                                           	extern	_PDCONbits
                                           	extern	_ODCONbits
                                           	extern	_PUCONbits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_T0CRbits
                                           	extern	_DDR1bits
                                           	extern	_TMRCRbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_INDF
                                           	extern	_T0CNT
                                           	extern	_PCL
                                           	extern	_STATUS
                                           	extern	_FSR
                                           	extern	_P1
                                           	extern	_MCR
                                           	extern	_P1KBCR
                                           	extern	_PCLATH
                                           	extern	_PDCON
                                           	extern	_ODCON
                                           	extern	_PUCON
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_T0CR
                                           	extern	_DDR1
                                           	extern	_TMRCR
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_Sys_Init
                                           	global	_IO_Init
                                           	global	_delay_100us
                                           	global	_delay_ms
                                           	global	_timer0_config
                                           	global	_sig_feedback_pin_config
                                           	global	_C_RAM
                                           	global	_pwm_init
                                           	global	___set_input_pull_up
                                           	global	___set_output_open_drain
                                           	global	_send_38khz_sig
                                           	global	___sel_chx
                                           	global	_get_distance
                                           	global	_send_32bits_data_by_irsir
                                           	global	_main
                                           	global	_int_isr
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_cnt_100us
                                           	global	_distance
                                           	global	_flag1
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0010
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC30P6280_0	udata
                                           _abuf	res	1
                                           
                                           UD_MC30P6280_1	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC30P6280_2	udata
                                           _cnt_100us	res	2
                                           
                                           UD_MC30P6280_3	udata
                                           _distance	res	4
                                           
                                           UD_MC30P6280_4	udata
                                           _flag1	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC30P6280_0	udata
                                           r0x100A	res	1
                                           r0x1009	res	1
                                           r0x1008	res	1
                                           r0x1007	res	1
                                           r0x100B	res	1
                                           r0x100C	res	1
                                           r0x100D	res	1
                                           r0x100E	res	1
                                           r0x1012	res	1
                                           r0x1011	res	1
                                           r0x1010	res	1
                                           r0x100F	res	1
                                           r0x1013	res	1
                                           r0x1017	res	1
                                           r0x1016	res	1
                                           r0x1015	res	1
                                           r0x1014	res	1
                                           r0x1018	res	1
                                           r0x101D	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ;@Allocation info for local variables in function 'delay_100us'
                                           ;@delay_100us CLR_RAM                   Allocated to registers ;size:2
                                           ;@delay_100us IO_Init                   Allocated to registers ;size:2
                                           ;@delay_100us TIMER0_INT_Init           Allocated to registers ;size:2
                                           ;@delay_100us TIMER1_INT_Init           Allocated to registers ;size:2
                                           ;@delay_100us Sys_Init                  Allocated to registers ;size:2
                                           ;@delay_100us delay_100us               Allocated to registers ;size:2
                                           ;@delay_100us INDFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us PCLbits                   Allocated to registers ;size:1
                                           ;@delay_100us STATUSbits                Allocated to registers ;size:1
                                           ;@delay_100us FSRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1bits                    Allocated to registers ;size:1
                                           ;@delay_100us MCRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_100us PCLATHbits                Allocated to registers ;size:1
                                           ;@delay_100us PDCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us ODCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us PUCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us INTEbits                  Allocated to registers ;size:1
                                           ;@delay_100us INTFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us DDR1bits                  Allocated to registers ;size:1
                                           ;@delay_100us TMRCRbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_100us T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_100us abuf                      Allocated to registers ;size:1
                                           ;@delay_100us statusbuf                 Allocated to registers ;size:1
                                           ;@delay_100us cnt_100us                 Allocated to registers ;size:2
                                           ;@delay_100us distance                  Allocated to registers ;size:4
                                           ;@delay_100us flag1                     Allocated to registers ;size:1
                                           ;@delay_100us xus                       Allocated to registers ;size:4
                                           ;@delay_100us i                         Allocated to registers r0x100B ;size:1
                                           ;@delay_100us INDF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CNT                     Allocated to registers ;size:1
                                           ;@delay_100us PCL                       Allocated to registers ;size:1
                                           ;@delay_100us STATUS                    Allocated to registers ;size:1
                                           ;@delay_100us FSR                       Allocated to registers ;size:1
                                           ;@delay_100us P1                        Allocated to registers ;size:1
                                           ;@delay_100us MCR                       Allocated to registers ;size:1
                                           ;@delay_100us P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_100us PCLATH                    Allocated to registers ;size:1
                                           ;@delay_100us PDCON                     Allocated to registers ;size:1
                                           ;@delay_100us ODCON                     Allocated to registers ;size:1
                                           ;@delay_100us PUCON                     Allocated to registers ;size:1
                                           ;@delay_100us INTE                      Allocated to registers ;size:1
                                           ;@delay_100us INTF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CR                      Allocated to registers ;size:1
                                           ;@delay_100us DDR1                      Allocated to registers ;size:1
                                           ;@delay_100us TMRCR                     Allocated to registers ;size:1
                                           ;@delay_100us T1CR                      Allocated to registers ;size:1
                                           ;@delay_100us T1CNT                     Allocated to registers ;size:1
                                           ;@delay_100us T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_100us T1DATA                    Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_100us';
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms xms                       Allocated to registers ;size:4
                                           ;@delay_ms i                         Allocated to registers r0x100B r0x100C ;size:2
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'timer0_config'
                                           ;@end Allocation info for local variables in function 'timer0_config';
                                           ;@Allocation info for local variables in function 'sig_feedback_pin_config'
                                           ;@end Allocation info for local variables in function 'sig_feedback_pin_config';
                                           ;@Allocation info for local variables in function 'C_RAM'
                                           ;@end Allocation info for local variables in function 'C_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'pwm_init'
                                           ;@end Allocation info for local variables in function 'pwm_init';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function '__set_input_pull_up'
                                           ;@end Allocation info for local variables in function '__set_input_pull_up';
                                           ;@Allocation info for local variables in function '__set_output_open_drain'
                                           ;@end Allocation info for local variables in function '__set_output_open_drain';
                                           ;@Allocation info for local variables in function 'send_38khz_sig'
                                           ;@end Allocation info for local variables in function 'send_38khz_sig';
                                           ;@Allocation info for local variables in function '__sel_chx'
                                           ;@__sel_chx chx                       Allocated to registers r0x1007 ;size:1
                                           ;@end Allocation info for local variables in function '__sel_chx';
                                           ;@Allocation info for local variables in function 'get_distance'
                                           ;@end Allocation info for local variables in function 'get_distance';
                                           ;@Allocation info for local variables in function 'send_32bits_data_by_irsir'
                                           ;@send_32bits_data_by_irsir send_data                 Allocated to registers r0x1012 r0x1011 r0x1010 r0x100F ;size:4
                                           ;@send_32bits_data_by_irsir i                         Allocated to registers r0x1013 ;size:1
                                           ;@end Allocation info for local variables in function 'send_32bits_data_by_irsir';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@main i                         Allocated to registers r0x1018 ;size:1
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
000000   2818     goto    0x18             	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	334; "MC30P6280.c"	__endasm;
                                           	;
000008   15bb     movra   0x3b             	movra	_abuf;
000009   1103     swapar  0x3              	swapar	_STATUS;
00000a   15bc     movra   0x3c             	movra	_statusbuf;
                                           	
                                           ;	.line	336; "MC30P6280.c"	if ((T0IF) && (T0IE))
00000b   300f     jbset   0xf, 0           	JBSET	_INTFbits,0
00000c   2813     goto    0x13             	GOTO	_00291_DS_
00000d   300e     jbset   0xe, 0           	JBSET	_INTEbits,0
00000e   2813     goto    0x13             	GOTO	_00291_DS_
                                           ;	.line	339; "MC30P6280.c"	T0CNT = 256 - 100;
00000f   0b9c     movai   0x9c             	MOVAI	0x9c
000010   1581     movra   0x1              	MOVRA	_T0CNT
                                           ;	.line	340; "MC30P6280.c"	TIMER_0_IT_FLAG = 1; // 标志位，表示定时器0触发了中断
000011   383d     bset    0x3d, 0          	BSET	_flag1,0
                                           ;	.line	341; "MC30P6280.c"	T0IF = 0;
000012   3c0f     bclr    0xf, 0           	BCLR	_INTFbits,0
                                           _00291_DS_
                                           ;	.line	349; "MC30P6280.c"	__endasm;
                                           	;
000013   113c     swapar  0x3c             	swapar	_statusbuf;
000014   1583     movra   0x3              	movra	_STATUS;
000015   11bb     swapr   0x3b             	swapr	_abuf;
000016   113b     swapar  0x3b             	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	350; "MC30P6280.c"	}
000017   000d     retie                    	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC30P6280	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   ___sel_chx
                                           ;   _get_distance
                                           ;   _send_32bits_data_by_irsir
                                           ;   _delay_ms
                                           ;   _Sys_Init
                                           ;   ___sel_chx
                                           ;   _get_distance
                                           ;   _send_32bits_data_by_irsir
                                           ;   _delay_ms
                                           ;12 compiler assigned registers:
                                           ;   r0x1018
                                           ;   r0x1019
                                           ;   r0x101A
                                           ;   r0x101B
                                           ;   r0x101C
                                           ;   r0x101D
                                           ;   r0x101E
                                           ;   r0x101F
                                           ;   r0x1020
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	300; "MC30P6280.c"	Sys_Init();
000018   2129     call    0x129            	CALL	_Sys_Init
                                           _00285_DS_
                                           ;	.line	306; "MC30P6280.c"	for (u8 i = 0; i < 4; i++)
000019   1da8     clrr    0x28             	CLRR	r0x1018
                                           ;;unsigned compare: left < lit(0x4=4), size=1
                                           _00279_DS_
00001a   0b04     movai   0x4              	MOVAI	0x04
00001b   1228     rsubar  0x28             	RSUBAR	r0x1018
00001c   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
00001d   2819     goto    0x19             	GOTO	_00285_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	309; "MC30P6280.c"	__sel_chx(i); // 切换通道
00001e   1628     movar   0x28             	MOVAR	r0x1018
00001f   20fc     call    0xfc             	CALL	___sel_chx
                                           ;	.line	311; "MC30P6280.c"	get_distance();						 // 获取距离，结果存放到全局变量中
000020   20a5     call    0xa5             	CALL	_get_distance
                                           ;	.line	312; "MC30P6280.c"	distance &= ~((u32)0x03 << 16);		 // 清零第16位，17位，准备存放通道号
000021   0bfc     movai   0xfc             	MOVAI	0xfc
000022   1eb7     andra   0x37             	ANDRA	(_distance + 2)
                                           ;;102	MOVAR	r0x1018
                                           ;;100	MOVRA	r0x101E
                                           ;;1	MOVRA	r0x1019
                                           ;;1	CLRR	r0x101A
                                           ;;1	CLRR	r0x101B
                                           ;;1	CLRR	r0x101C
                                           ;	.line	313; "MC30P6280.c"	distance |= ((u32)i << 16);			 // 第16、17位，存放通道号
000023   0b00     movai   0                	MOVAI	0x00
000024   15a9     movra   0x29             	MOVRA	r0x101D
                                           ;;99	MOVAR	r0x1019
                                           ;;1	CLRR	r0x101F
                                           ;;1	CLRR	r0x1020
000025   0b00     movai   0                	MOVAI	0x00
000026   17b5     orra    0x35             	ORRA	_distance
000027   0b00     movai   0                	MOVAI	0x00
000028   17b6     orra    0x36             	ORRA	(_distance + 1)
                                           ;;101	MOVAR	r0x101E
000029   1628     movar   0x28             	MOVAR	r0x1018
00002a   17b7     orra    0x37             	ORRA	(_distance + 2)
00002b   1629     movar   0x29             	MOVAR	r0x101D
00002c   17b8     orra    0x38             	ORRA	(_distance + 3)
                                           ;	.line	314; "MC30P6280.c"	send_32bits_data_by_irsir(distance); // 第16、17位，存放通道号，0~15存放距离（单位：mm）
00002d   1635     movar   0x35             	MOVAR	_distance
00002e   1594     movra   0x14             	MOVRA	STK02
00002f   1636     movar   0x36             	MOVAR	(_distance + 1)
000030   1595     movra   0x15             	MOVRA	STK01
000031   1637     movar   0x37             	MOVAR	(_distance + 2)
000032   1596     movra   0x16             	MOVRA	STK00
000033   1638     movar   0x38             	MOVAR	(_distance + 3)
000034   2040     call    0x40             	CALL	_send_32bits_data_by_irsir
                                           ;	.line	315; "MC30P6280.c"	delay_ms(500);
000035   0bf4     movai   0xf4             	MOVAI	0xf4
000036   1594     movra   0x14             	MOVRA	STK02
000037   0b01     movai   0x1              	MOVAI	0x01
000038   1595     movra   0x15             	MOVRA	STK01
000039   0b00     movai   0                	MOVAI	0x00
00003a   1596     movra   0x16             	MOVRA	STK00
00003b   0b00     movai   0                	MOVAI	0x00
00003c   2155     call    0x155            	CALL	_delay_ms
                                           ;	.line	306; "MC30P6280.c"	for (u8 i = 0; i < 4; i++)
00003d   19a8     incr    0x28             	INCR	r0x1018
00003e   281a     goto    0x1a             	GOTO	_00279_DS_
                                           ;	.line	320; "MC30P6280.c"	}
00003f   000c     return                   	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _send_32bits_data_by_irsir	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_output_open_drain
                                           ;   _delay_ms
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   ___set_output_open_drain
                                           ;   _delay_ms
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;12 compiler assigned registers:
                                           ;   r0x100F
                                           ;   STK00
                                           ;   r0x1010
                                           ;   STK01
                                           ;   r0x1011
                                           ;   STK02
                                           ;   r0x1012
                                           ;   r0x1013
                                           ;   r0x1014
                                           ;   r0x1015
                                           ;   r0x1016
                                           ;   r0x1017
                                           ;; Starting pCode block
                                           _send_32bits_data_by_irsir	;Function start
                                           ; 2 exit points
                                           ;	.line	263; "MC30P6280.c"	void send_32bits_data_by_irsir(u32 send_data)
000040   15a2     movra   0x22             	MOVRA	r0x100F
000041   1616     movar   0x16             	MOVAR	STK00
000042   15a1     movra   0x21             	MOVRA	r0x1010
000043   1615     movar   0x15             	MOVAR	STK01
000044   15a0     movra   0x20             	MOVRA	r0x1011
000045   1614     movar   0x14             	MOVAR	STK02
000046   159f     movra   0x1f             	MOVRA	r0x1012
                                           ;	.line	266; "MC30P6280.c"	__set_output_open_drain(); // 低电平
000047   2123     call    0x123            	CALL	___set_output_open_drain
                                           ;	.line	267; "MC30P6280.c"	delay_ms(9);
000048   0b09     movai   0x9              	MOVAI	0x09
000049   1594     movra   0x14             	MOVRA	STK02
00004a   0b00     movai   0                	MOVAI	0x00
00004b   1595     movra   0x15             	MOVRA	STK01
00004c   0b00     movai   0                	MOVAI	0x00
00004d   1596     movra   0x16             	MOVRA	STK00
00004e   0b00     movai   0                	MOVAI	0x00
00004f   2155     call    0x155            	CALL	_delay_ms
                                           ;	.line	268; "MC30P6280.c"	__set_input_pull_up(); // 高电平
000050   2126     call    0x126            	CALL	___set_input_pull_up
                                           ;	.line	269; "MC30P6280.c"	delay_100us(45);		   // 延时4.5ms
000051   0b2d     movai   0x2d             	MOVAI	0x2d
000052   1594     movra   0x14             	MOVRA	STK02
000053   0b00     movai   0                	MOVAI	0x00
000054   1595     movra   0x15             	MOVRA	STK01
000055   0b00     movai   0                	MOVAI	0x00
000056   1596     movra   0x16             	MOVRA	STK00
000057   0b00     movai   0                	MOVAI	0x00
000058   2181     call    0x181            	CALL	_delay_100us
                                           ;	.line	271; "MC30P6280.c"	for (u8 i = 0; i < 32; i++)
000059   1da3     clrr    0x23             	CLRR	r0x1013
                                           ;;unsigned compare: left < lit(0x20=32), size=1
                                           _00250_DS_
00005a   0b20     movai   0x20             	MOVAI	0x20
00005b   1223     rsubar  0x23             	RSUBAR	r0x1013
00005c   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
00005d   289a     goto    0x9a             	GOTO	_00248_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	273; "MC30P6280.c"	if ((send_data >> i) & 0x01)
00005e   1622     movar   0x22             	MOVAR	r0x100F
00005f   15a7     movra   0x27             	MOVRA	r0x1014
000060   1621     movar   0x21             	MOVAR	r0x1010
000061   15a6     movra   0x26             	MOVRA	r0x1015
000062   1620     movar   0x20             	MOVAR	r0x1011
000063   15a5     movra   0x25             	MOVRA	r0x1016
000064   161f     movar   0x1f             	MOVAR	r0x1012
000065   15a4     movra   0x24             	MOVRA	r0x1017
000066   1623     movar   0x23             	MOVAR	r0x1013
000067   0900     isubai  0                	ISUBAI	0x00
000068   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
000069   2871     goto    0x71             	GOTO	_00269_DS_
                                           _00268_DS_
00006a   13a7     rrr     0x27             	RRR	r0x1014
00006b   13a6     rrr     0x26             	RRR	r0x1015
00006c   13a5     rrr     0x25             	RRR	r0x1016
00006d   13a4     rrr     0x24             	RRR	r0x1017
00006e   0e01     addai   0x1              	ADDAI	0x01
00006f   3003     jbset   0x3, 0           	JBSET	STATUS,0
000070   286a     goto    0x6a             	GOTO	_00268_DS_
                                           _00269_DS_
000071   3024     jbset   0x24, 0          	JBSET	r0x1017,0
000072   2886     goto    0x86             	GOTO	_00246_DS_
                                           ;	.line	276; "MC30P6280.c"	__set_output_open_drain(); // 低电平
000073   2123     call    0x123            	CALL	___set_output_open_drain
                                           ;	.line	277; "MC30P6280.c"	delay_100us(6);			   // 600us
000074   0b06     movai   0x6              	MOVAI	0x06
000075   1594     movra   0x14             	MOVRA	STK02
000076   0b00     movai   0                	MOVAI	0x00
000077   1595     movra   0x15             	MOVRA	STK01
000078   0b00     movai   0                	MOVAI	0x00
000079   1596     movra   0x16             	MOVRA	STK00
00007a   0b00     movai   0                	MOVAI	0x00
00007b   2181     call    0x181            	CALL	_delay_100us
                                           ;	.line	278; "MC30P6280.c"	__set_input_pull_up();	   // 高电平
00007c   2126     call    0x126            	CALL	___set_input_pull_up
                                           ;	.line	279; "MC30P6280.c"	delay_100us(17);		   // 1700us
00007d   0b11     movai   0x11             	MOVAI	0x11
00007e   1594     movra   0x14             	MOVRA	STK02
00007f   0b00     movai   0                	MOVAI	0x00
000080   1595     movra   0x15             	MOVRA	STK01
000081   0b00     movai   0                	MOVAI	0x00
000082   1596     movra   0x16             	MOVRA	STK00
000083   0b00     movai   0                	MOVAI	0x00
000084   2181     call    0x181            	CALL	_delay_100us
000085   2898     goto    0x98             	GOTO	_00251_DS_
                                           _00246_DS_
                                           ;	.line	284; "MC30P6280.c"	__set_output_open_drain(); // 低电平
000086   2123     call    0x123            	CALL	___set_output_open_drain
                                           ;	.line	285; "MC30P6280.c"	delay_100us(6);			   // 600us
000087   0b06     movai   0x6              	MOVAI	0x06
000088   1594     movra   0x14             	MOVRA	STK02
000089   0b00     movai   0                	MOVAI	0x00
00008a   1595     movra   0x15             	MOVRA	STK01
00008b   0b00     movai   0                	MOVAI	0x00
00008c   1596     movra   0x16             	MOVRA	STK00
00008d   0b00     movai   0                	MOVAI	0x00
00008e   2181     call    0x181            	CALL	_delay_100us
                                           ;	.line	286; "MC30P6280.c"	__set_input_pull_up();	   // 高电平
00008f   2126     call    0x126            	CALL	___set_input_pull_up
                                           ;	.line	287; "MC30P6280.c"	delay_100us(6);			   // 600us
000090   0b06     movai   0x6              	MOVAI	0x06
000091   1594     movra   0x14             	MOVRA	STK02
000092   0b00     movai   0                	MOVAI	0x00
000093   1595     movra   0x15             	MOVRA	STK01
000094   0b00     movai   0                	MOVAI	0x00
000095   1596     movra   0x16             	MOVRA	STK00
000096   0b00     movai   0                	MOVAI	0x00
000097   2181     call    0x181            	CALL	_delay_100us
                                           _00251_DS_
                                           ;	.line	271; "MC30P6280.c"	for (u8 i = 0; i < 32; i++)
000098   19a3     incr    0x23             	INCR	r0x1013
000099   285a     goto    0x5a             	GOTO	_00250_DS_
                                           _00248_DS_
                                           ;	.line	292; "MC30P6280.c"	__set_output_open_drain(); // 低电平
00009a   2123     call    0x123            	CALL	___set_output_open_drain
                                           ;	.line	293; "MC30P6280.c"	delay_100us(6);
00009b   0b06     movai   0x6              	MOVAI	0x06
00009c   1594     movra   0x14             	MOVRA	STK02
00009d   0b00     movai   0                	MOVAI	0x00
00009e   1595     movra   0x15             	MOVRA	STK01
00009f   0b00     movai   0                	MOVAI	0x00
0000a0   1596     movra   0x16             	MOVRA	STK00
0000a1   0b00     movai   0                	MOVAI	0x00
0000a2   2181     call    0x181            	CALL	_delay_100us
                                           ;	.line	294; "MC30P6280.c"	__set_input_pull_up();	   // 高电平
0000a3   2126     call    0x126            	CALL	___set_input_pull_up
                                           ;	.line	295; "MC30P6280.c"	}
0000a4   000c     return                   	RETURN	
                                           ; exit point of _send_32bits_data_by_irsir
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_distance	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _send_38khz_sig
                                           ;   _delay_100us
                                           ;   __mulint
                                           ;   _send_38khz_sig
                                           ;   _delay_100us
                                           ;   __mulint
                                           ;5 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;; Starting pCode block
                                           _get_distance	;Function start
                                           ; 2 exit points
                                           ;	.line	184; "MC30P6280.c"	cnt_100us = 0; // 每次进来，先清空全局变量cnt_100us的值
0000a5   1db9     clrr    0x39             	CLRR	_cnt_100us
0000a6   1dba     clrr    0x3a             	CLRR	(_cnt_100us + 1)
                                           ;	.line	185; "MC30P6280.c"	send_38khz_sig();
0000a7   2118     call    0x118            	CALL	_send_38khz_sig
                                           ;	.line	186; "MC30P6280.c"	delay_100us(15); // 延时1.5ms，避免自身发送的信号造成的干扰
0000a8   0b0f     movai   0xf              	MOVAI	0x0f
0000a9   1594     movra   0x14             	MOVRA	STK02
0000aa   0b00     movai   0                	MOVAI	0x00
0000ab   1595     movra   0x15             	MOVRA	STK01
0000ac   0b00     movai   0                	MOVAI	0x00
0000ad   1596     movra   0x16             	MOVRA	STK00
0000ae   0b00     movai   0                	MOVAI	0x00
0000af   2181     call    0x181            	CALL	_delay_100us
                                           ;	.line	189; "MC30P6280.c"	T0IE = 1; // 使能定时器0
0000b0   380e     bset    0xe, 0           	BSET	_INTEbits,0
                                           _00196_DS_
                                           ;	.line	193; "MC30P6280.c"	if (TIMER_0_IT_FLAG)
0000b1   303d     jbset   0x3d, 0          	JBSET	_flag1,0
0000b2   28b7     goto    0xb7             	GOTO	_00181_DS_
                                           ;	.line	195; "MC30P6280.c"	TIMER_0_IT_FLAG = 0;
0000b3   3c3d     bclr    0x3d, 0          	BCLR	_flag1,0
                                           ;	.line	196; "MC30P6280.c"	cnt_100us++; //
0000b4   19b9     incr    0x39             	INCR	_cnt_100us
0000b5   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0000b6   19ba     incr    0x3a             	INCR	(_cnt_100us + 1)
                                           ;;unsigned compare: left < lit(0x249=585), size=2
                                           _00181_DS_
                                           ;	.line	199; "MC30P6280.c"	if (cnt_100us >= 585) // 如果超过了60ms（延时1.5ms加上每次100us的计数）--最大支持10.2m，不包括10.2m
0000b7   0b02     movai   0x2              	MOVAI	0x02
0000b8   123a     rsubar  0x3a             	RSUBAR	(_cnt_100us + 1)
0000b9   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0000ba   28bd     goto    0xbd             	GOTO	_00239_DS_
0000bb   0b49     movai   0x49             	MOVAI	0x49
0000bc   1239     rsubar  0x39             	RSUBAR	_cnt_100us
                                           _00239_DS_
0000bd   3003     jbset   0x3, 0           	JBSET	STATUS,0
0000be   28c6     goto    0xc6             	GOTO	_00183_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	203; "MC30P6280.c"	T0IE = 0; // 关闭定时器0
0000bf   3c0e     bclr    0xe, 0           	BCLR	_INTEbits,0
                                           ;	.line	206; "MC30P6280.c"	distance = 0xFFFFFFFF;
0000c0   0bff     movai   0xff             	MOVAI	0xff
0000c1   15b5     movra   0x35             	MOVRA	_distance
0000c2   15b6     movra   0x36             	MOVRA	(_distance + 1)
0000c3   15b7     movra   0x37             	MOVRA	(_distance + 2)
0000c4   15b8     movra   0x38             	MOVRA	(_distance + 3)
                                           ;	.line	207; "MC30P6280.c"	return;
0000c5   28fb     goto    0xfb             	GOTO	_00201_DS_
                                           _00183_DS_
                                           ;	.line	210; "MC30P6280.c"	if (0 == SIG_FEEDBACK_PIN)
0000c6   3406     jbclr   0x6, 0           	JBCLR	_P1bits,0
0000c7   28d1     goto    0xd1             	GOTO	_00190_DS_
                                           _00186_DS_
                                           ;	.line	215; "MC30P6280.c"	while (0 == SIG_FEEDBACK_PIN)
0000c8   3406     jbclr   0x6, 0           	JBCLR	_P1bits,0
0000c9   28d1     goto    0xd1             	GOTO	_00190_DS_
                                           ;	.line	218; "MC30P6280.c"	if (TIMER_0_IT_FLAG)
0000ca   303d     jbset   0x3d, 0          	JBSET	_flag1,0
0000cb   28c8     goto    0xc8             	GOTO	_00186_DS_
                                           ;	.line	220; "MC30P6280.c"	TIMER_0_IT_FLAG = 0;
0000cc   3c3d     bclr    0x3d, 0          	BCLR	_flag1,0
                                           ;	.line	221; "MC30P6280.c"	cnt_100us++; //
0000cd   19b9     incr    0x39             	INCR	_cnt_100us
0000ce   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0000cf   19ba     incr    0x3a             	INCR	(_cnt_100us + 1)
                                           ;	.line	222; "MC30P6280.c"	LOW_LEVEL_100us_FLAG = 1;
0000d0   38bd     bset    0x3d, 0x1        	BSET	_flag1,1
                                           _00190_DS_
                                           ;	.line	231; "MC30P6280.c"	if (LOW_LEVEL_100us_FLAG)
0000d1   30bd     jbset   0x3d, 0x1        	JBSET	_flag1,1
0000d2   28b1     goto    0xb1             	GOTO	_00196_DS_
                                           ;	.line	233; "MC30P6280.c"	if (SIG_FEEDBACK_PIN)
0000d3   3006     jbset   0x6, 0           	JBSET	_P1bits,0
0000d4   28b1     goto    0xb1             	GOTO	_00196_DS_
                                           ;	.line	236; "MC30P6280.c"	LOW_LEVEL_100us_FLAG = 0; // 清除标志位
0000d5   3cbd     bclr    0x3d, 0x1        	BCLR	_flag1,1
                                           ;	.line	243; "MC30P6280.c"	T0IE = 0;
0000d6   3c0e     bclr    0xe, 0           	BCLR	_INTEbits,0
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x3=3), size=2
                                           ;	.line	250; "MC30P6280.c"	if (cnt_100us <= 2)
0000d7   0b00     movai   0                	MOVAI	0x00
0000d8   123a     rsubar  0x3a             	RSUBAR	(_cnt_100us + 1)
0000d9   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0000da   28dd     goto    0xdd             	GOTO	_00240_DS_
0000db   0b03     movai   0x3              	MOVAI	0x03
0000dc   1239     rsubar  0x39             	RSUBAR	_cnt_100us
                                           _00240_DS_
0000dd   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
0000de   28e4     goto    0xe4             	GOTO	_00199_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	253; "MC30P6280.c"	distance = 0; // 距离过小，当作0处理
0000df   1db5     clrr    0x35             	CLRR	_distance
0000e0   1db6     clrr    0x36             	CLRR	(_distance + 1)
0000e1   1db7     clrr    0x37             	CLRR	(_distance + 2)
0000e2   1db8     clrr    0x38             	CLRR	(_distance + 3)
0000e3   28fb     goto    0xfb             	GOTO	_00201_DS_
                                           _00199_DS_
                                           ;	.line	258; "MC30P6280.c"	distance = (cnt_100us + 15) * 17; // 计算结果误差在1cm
0000e4   0b0f     movai   0xf              	MOVAI	0x0f
0000e5   1f39     addar   0x39             	ADDAR	_cnt_100us
0000e6   159c     movra   0x1c             	MOVRA	r0x100C
0000e7   1d9d     clrr    0x1d             	CLRR	r0x100D
0000e8   149d     rlr     0x1d             	RLR	r0x100D
0000e9   163a     movar   0x3a             	MOVAR	(_cnt_100us + 1)
0000ea   1f9d     addra   0x1d             	ADDRA	r0x100D
0000eb   161c     movar   0x1c             	MOVAR	r0x100C
0000ec   1594     movra   0x14             	MOVRA	STK02
0000ed   161d     movar   0x1d             	MOVAR	r0x100D
0000ee   1595     movra   0x15             	MOVRA	STK01
0000ef   0b11     movai   0x11             	MOVAI	0x11
0000f0   1596     movra   0x16             	MOVRA	STK00
0000f1   0b00     movai   0                	MOVAI	0x00
0000f2   21a4     call    0x1a4            	CALL	__mulint
0000f3   159d     movra   0x1d             	MOVRA	r0x100D
0000f4   1616     movar   0x16             	MOVAR	STK00
0000f5   15b5     movra   0x35             	MOVRA	_distance
0000f6   159c     movra   0x1c             	MOVRA	r0x100C
                                           ;;103	MOVAR	r0x100C
0000f7   161d     movar   0x1d             	MOVAR	r0x100D
0000f8   15b6     movra   0x36             	MOVRA	(_distance + 1)
0000f9   1db7     clrr    0x37             	CLRR	(_distance + 2)
0000fa   1db8     clrr    0x38             	CLRR	(_distance + 3)
                                           _00201_DS_
                                           ;	.line	260; "MC30P6280.c"	}
0000fb   000c     return                   	RETURN	
                                           ; exit point of _get_distance
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___sel_chx	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;1 compiler assigned register :
                                           ;   r0x1007
                                           ;; Starting pCode block
                                           ___sel_chx	;Function start
                                           ; 2 exit points
                                           ;	.line	155; "MC30P6280.c"	void __sel_chx(u8 chx)
0000fc   159a     movra   0x1a             	MOVRA	r0x1007
                                           ;;swapping arguments (AOP_TYPEs 1/2)
                                           ;;unsigned compare: left >= lit(0x4=4), size=1
                                           ;	.line	157; "MC30P6280.c"	switch (chx)
0000fd   0b04     movai   0x4              	MOVAI	0x04
0000fe   121a     rsubar  0x1a             	RSUBAR	r0x1007
0000ff   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
000100   2917     goto    0x117            	GOTO	_00168_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
000101   0b01     movai   0x1              	MOVAI	HIGH(_00175_DS_)
000102   158a     movra   0xa              	MOVRA	PCLATH
000103   0b08     movai   0x8              	MOVAI	_00175_DS_
000104   1f1a     addar   0x1a             	ADDAR	r0x1007
000105   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
000106   198a     incr    0xa              	INCR	PCLATH
000107   1582     movra   0x2              	MOVRA	PCL
                                           _00175_DS_
000108   290c     goto    0x10c            	GOTO	_00163_DS_
000109   290f     goto    0x10f            	GOTO	_00164_DS_
00010a   2912     goto    0x112            	GOTO	_00165_DS_
00010b   2915     goto    0x115            	GOTO	_00166_DS_
                                           _00163_DS_
                                           ;	.line	160; "MC30P6280.c"	P15D = 0;
00010c   3e86     bclr    0x6, 0x5         	BCLR	_P1bits,5
                                           ;	.line	161; "MC30P6280.c"	P14D = 0;
00010d   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	162; "MC30P6280.c"	break;
00010e   2917     goto    0x117            	GOTO	_00168_DS_
                                           _00164_DS_
                                           ;	.line	165; "MC30P6280.c"	P15D = 0;
00010f   3e86     bclr    0x6, 0x5         	BCLR	_P1bits,5
                                           ;	.line	166; "MC30P6280.c"	P14D = 1;
000110   3a06     bset    0x6, 0x4         	BSET	_P1bits,4
                                           ;	.line	167; "MC30P6280.c"	break;
000111   2917     goto    0x117            	GOTO	_00168_DS_
                                           _00165_DS_
                                           ;	.line	170; "MC30P6280.c"	P15D = 1;
000112   3a86     bset    0x6, 0x5         	BSET	_P1bits,5
                                           ;	.line	171; "MC30P6280.c"	P14D = 0;
000113   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	172; "MC30P6280.c"	break;
000114   2917     goto    0x117            	GOTO	_00168_DS_
                                           _00166_DS_
                                           ;	.line	175; "MC30P6280.c"	P15D = 1;
000115   3a86     bset    0x6, 0x5         	BSET	_P1bits,5
                                           ;	.line	176; "MC30P6280.c"	P14D = 1;
000116   3a06     bset    0x6, 0x4         	BSET	_P1bits,4
                                           _00168_DS_
                                           ;	.line	179; "MC30P6280.c"	}
000117   000c     return                   	RETURN	
                                           ; exit point of ___sel_chx
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _send_38khz_sig	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_100us
                                           ;   _delay_100us
                                           ;3 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _send_38khz_sig	;Function start
                                           ; 2 exit points
                                           ;	.line	146; "MC30P6280.c"	PWM1EC = 1; // 允许端口输出PWM波形
000118   3b4c     bset    0x4c, 0x6        	BSET	_T1CRbits,6
                                           ;	.line	148; "MC30P6280.c"	delay_100us(4); //
000119   0b04     movai   0x4              	MOVAI	0x04
00011a   1594     movra   0x14             	MOVRA	STK02
00011b   0b00     movai   0                	MOVAI	0x00
00011c   1595     movra   0x15             	MOVRA	STK01
00011d   0b00     movai   0                	MOVAI	0x00
00011e   1596     movra   0x16             	MOVRA	STK00
00011f   0b00     movai   0                	MOVAI	0x00
000120   2181     call    0x181            	CALL	_delay_100us
                                           ;	.line	150; "MC30P6280.c"	PWM1EC = 0; // 禁止端口输出PWM波形
000121   3f4c     bclr    0x4c, 0x6        	BCLR	_T1CRbits,6
                                           ;	.line	151; "MC30P6280.c"	}
000122   000c     return                   	RETURN	
                                           ; exit point of _send_38khz_sig
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;	.line	139; "MC30P6280.c"	DDR1 &= ~(0x01 << 3); // P13配置为输出模式，P13只有开漏输出
000123   3dc6     bclr    0x46, 0x3        	BCLR	_DDR1,3
                                           ;	.line	140; "MC30P6280.c"	P13D = 0;
000124   3d86     bclr    0x6, 0x3         	BCLR	_P1bits,3
                                           ;	.line	141; "MC30P6280.c"	}
000125   000c     return                   	RETURN	
                                           ; exit point of ___set_output_open_drain
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;	.line	132; "MC30P6280.c"	DDR1 |= 0x01 << 3;	   // P13配置成输入模式
000126   39c6     bset    0x46, 0x3        	BSET	_DDR1,3
                                           ;	.line	133; "MC30P6280.c"	PUCON &= ~(0x01 << 3); // 使能P13上拉电阻
000127   3d8d     bclr    0xd, 0x3         	BCLR	_PUCON,3
                                           ;	.line	134; "MC30P6280.c"	}
000128   000c     return                   	RETURN	
                                           ; exit point of ___set_input_pull_up
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _pwm_init
                                           ;   _timer0_config
                                           ;   _sig_feedback_pin_config
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _pwm_init
                                           ;   _timer0_config
                                           ;   _sig_feedback_pin_config
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	119; "MC30P6280.c"	GIE = 0;
000129   3f8e     bclr    0xe, 0x7         	BCLR	_INTEbits,7
                                           ;	.line	120; "MC30P6280.c"	C_RAM();
00012a   2142     call    0x142            	CALL	_C_RAM
                                           ;	.line	121; "MC30P6280.c"	IO_Init();
00012b   213a     call    0x13a            	CALL	_IO_Init
                                           ;	.line	123; "MC30P6280.c"	pwm_init();				   // 38KHz 50% PWM
00012c   2131     call    0x131            	CALL	_pwm_init
                                           ;	.line	124; "MC30P6280.c"	timer0_config();		   // 定时器0配置
00012d   214f     call    0x14f            	CALL	_timer0_config
                                           ;	.line	125; "MC30P6280.c"	sig_feedback_pin_config(); // 信号反馈检测引脚的配置（初始化）
00012e   214c     call    0x14c            	CALL	_sig_feedback_pin_config
                                           ;	.line	126; "MC30P6280.c"	GIE = 1;
00012f   3b8e     bset    0xe, 0x7         	BSET	_INTEbits,7
                                           ;	.line	127; "MC30P6280.c"	}
000130   000c     return                   	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pwm_init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pwm_init	;Function start
                                           ; 2 exit points
                                           ;	.line	105; "MC30P6280.c"	T1CNT = 210;  // T1递减计数器
000131   0bd2     movai   0xd2             	MOVAI	0xd2
000132   15cd     movra   0x4d             	MOVRA	_T1CNT
                                           ;	.line	106; "MC30P6280.c"	T1LOAD = 210; // 重载寄存器，不能配置为0
000133   0bd2     movai   0xd2             	MOVAI	0xd2
000134   15ce     movra   0x4e             	MOVRA	_T1LOAD
                                           ;	.line	107; "MC30P6280.c"	T1DATA = 106; // 比较寄存器，用于设置PWM占空比
000135   0b6a     movai   0x6a             	MOVAI	0x6a
000136   15cf     movra   0x4f             	MOVRA	_T1DATA
                                           ;	.line	108; "MC30P6280.c"	T1CR = 0xC0;  // 寄存器位从高到低，对应实现的功能：开启定时器、使能PWM0功能、禁止端口输出BUZ波形、T1时钟选择FCPU、T1时钟分频
000137   0bc0     movai   0xc0             	MOVAI	0xc0
000138   15cc     movra   0x4c             	MOVRA	_T1CR
                                           ;	.line	109; "MC30P6280.c"	}
000139   000c     return                   	RETURN	
                                           ; exit point of _pwm_init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	96; "MC30P6280.c"	P1 = 0x00;	  // 1:input 0:output
00013a   1d86     clrr    0x6              	CLRR	_P1
                                           ;	.line	97; "MC30P6280.c"	DDR1 = 0x00;  // 1:input 0:output
00013b   1dc6     clrr    0x46             	CLRR	_DDR1
                                           ;	.line	98; "MC30P6280.c"	PUCON = 0xff; // 0:Effective 1:invalid
00013c   0bff     movai   0xff             	MOVAI	0xff
00013d   158d     movra   0xd              	MOVRA	_PUCON
                                           ;	.line	99; "MC30P6280.c"	PDCON = 0xff; // 0:Effective 1:invalid
00013e   0bff     movai   0xff             	MOVAI	0xff
00013f   158b     movra   0xb              	MOVRA	_PDCON
                                           ;	.line	100; "MC30P6280.c"	ODCON = 0x00; // 0:推挽输出  1:开漏输出
000140   1d8c     clrr    0xc              	CLRR	_ODCON
                                           ;	.line	101; "MC30P6280.c"	}
000141   000c     return                   	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _C_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _C_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	85; "MC30P6280.c"	__endasm;
                                           	;
000142   0b3f     movai   0x3f             	movai	0x3F;
000143   1584     movra   0x4              	movra	FSR;
000144   0b2f     movai   0x2f             	movai	47;
000145   15bf     movra   0x3f             	movra	0x3F;
000146   1b84     decr    0x4              	decr	FSR;
000147   1d80     clrr    0                	clrr	INDF;
000148   1abf     djzr    0x3f             	djzr	0x3F;
000149   2946     goto    0x146            	goto	$ - 3;
00014a   1dbf     clrr    0x3f             	clrr	0x3F;
                                           	
                                           ;	.line	86; "MC30P6280.c"	}
00014b   000c     return                   	RETURN	
                                           ; exit point of _C_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sig_feedback_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _sig_feedback_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	61; "MC30P6280.c"	DDR1 |= 0x01;	  // P10配置成输入模式
00014c   3846     bset    0x46, 0          	BSET	_DDR1,0
                                           ;	.line	62; "MC30P6280.c"	PUCON &= ~(0x01); // 使能P10的上拉电阻
00014d   3c0d     bclr    0xd, 0           	BCLR	_PUCON,0
                                           ;	.line	65; "MC30P6280.c"	}
00014e   000c     return                   	RETURN	
                                           ; exit point of _sig_feedback_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer0_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer0_config	;Function start
                                           ; 2 exit points
                                           ;	.line	48; "MC30P6280.c"	T0CR = 0x02;	   // 时钟为CPU时钟    定时器4分频
00014f   0b02     movai   0x2              	MOVAI	0x02
000150   15c1     movra   0x41             	MOVRA	_T0CR
                                           ;	.line	49; "MC30P6280.c"	T0CNT = 256 - 100; // 递增计数器
000151   0b9c     movai   0x9c             	MOVAI	0x9c
000152   1581     movra   0x1              	MOVRA	_T0CNT
                                           ;	.line	51; "MC30P6280.c"	T0IE = 0; // 不使能定时器0
000153   3c0e     bclr    0xe, 0           	BCLR	_INTEbits,0
                                           ;	.line	52; "MC30P6280.c"	}
000154   000c     return                   	RETURN	
                                           ; exit point of _timer0_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;11 compiler assigned registers:
                                           ;   r0x1007
                                           ;   STK00
                                           ;   r0x1008
                                           ;   STK01
                                           ;   r0x1009
                                           ;   STK02
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	32; "MC30P6280.c"	void delay_ms(u32 xms)
000155   159a     movra   0x1a             	MOVRA	r0x1007
000156   1616     movar   0x16             	MOVAR	STK00
000157   1599     movra   0x19             	MOVRA	r0x1008
000158   1615     movar   0x15             	MOVAR	STK01
000159   1598     movra   0x18             	MOVRA	r0x1009
00015a   1614     movar   0x14             	MOVAR	STK02
00015b   1597     movra   0x17             	MOVRA	r0x100A
                                           _00119_DS_
                                           ;	.line	34; "MC30P6280.c"	while (xms)
00015c   1617     movar   0x17             	MOVAR	r0x100A
00015d   1718     orar    0x18             	ORAR	r0x1009
00015e   1719     orar    0x19             	ORAR	r0x1008
00015f   171a     orar    0x1a             	ORAR	r0x1007
000160   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
000161   2980     goto    0x180            	GOTO	_00122_DS_
                                           ;	.line	37; "MC30P6280.c"	while (i--)
000162   0b13     movai   0x13             	MOVAI	0x13
000163   159b     movra   0x1b             	MOVRA	r0x100B
000164   0b02     movai   0x2              	MOVAI	0x02
000165   159c     movra   0x1c             	MOVRA	r0x100C
                                           _00116_DS_
000166   161b     movar   0x1b             	MOVAR	r0x100B
000167   159d     movra   0x1d             	MOVRA	r0x100D
000168   161c     movar   0x1c             	MOVAR	r0x100C
000169   159e     movra   0x1e             	MOVRA	r0x100E
00016a   0bff     movai   0xff             	MOVAI	0xff
00016b   1f9b     addra   0x1b             	ADDRA	r0x100B
00016c   3003     jbset   0x3, 0           	JBSET	STATUS,0
00016d   1b9c     decr    0x1c             	DECR	r0x100C
00016e   161d     movar   0x1d             	MOVAR	r0x100D
00016f   171e     orar    0x1e             	ORAR	r0x100E
000170   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
000171   2974     goto    0x174            	GOTO	_00118_DS_
                                           ;	.line	39; "MC30P6280.c"	Nop();
000172   0000     nop                      	nop
000173   2966     goto    0x166            	GOTO	_00116_DS_
                                           _00118_DS_
                                           ;	.line	41; "MC30P6280.c"	xms--;
000174   0bff     movai   0xff             	MOVAI	0xff
000175   1f97     addra   0x17             	ADDRA	r0x100A
000176   0bff     movai   0xff             	MOVAI	0xff
000177   3003     jbset   0x3, 0           	JBSET	STATUS,0
000178   1f98     addra   0x18             	ADDRA	r0x1009
000179   0bff     movai   0xff             	MOVAI	0xff
00017a   3003     jbset   0x3, 0           	JBSET	STATUS,0
00017b   1f99     addra   0x19             	ADDRA	r0x1008
00017c   0bff     movai   0xff             	MOVAI	0xff
00017d   3003     jbset   0x3, 0           	JBSET	STATUS,0
00017e   1f9a     addra   0x1a             	ADDRA	r0x1007
00017f   295c     goto    0x15c            	GOTO	_00119_DS_
                                           _00122_DS_
                                           ;	.line	43; "MC30P6280.c"	}
000180   000c     return                   	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_100us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;8 compiler assigned registers:
                                           ;   r0x1007
                                           ;   STK00
                                           ;   r0x1008
                                           ;   STK01
                                           ;   r0x1009
                                           ;   STK02
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;; Starting pCode block
                                           _delay_100us	;Function start
                                           ; 2 exit points
                                           ;	.line	16; "MC30P6280.c"	void delay_100us(u32 xus)
000181   159a     movra   0x1a             	MOVRA	r0x1007
000182   1616     movar   0x16             	MOVAR	STK00
000183   1599     movra   0x19             	MOVRA	r0x1008
000184   1615     movar   0x15             	MOVAR	STK01
000185   1598     movra   0x18             	MOVRA	r0x1009
000186   1614     movar   0x14             	MOVAR	STK02
000187   1597     movra   0x17             	MOVRA	r0x100A
                                           _00108_DS_
                                           ;	.line	18; "MC30P6280.c"	while (xus)
000188   1617     movar   0x17             	MOVAR	r0x100A
000189   1718     orar    0x18             	ORAR	r0x1009
00018a   1719     orar    0x19             	ORAR	r0x1008
00018b   171a     orar    0x1a             	ORAR	r0x1007
00018c   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
00018d   29a3     goto    0x1a3            	GOTO	_00111_DS_
                                           ;	.line	21; "MC30P6280.c"	while (i)
00018e   0b61     movai   0x61             	MOVAI	0x61
00018f   159b     movra   0x1b             	MOVRA	r0x100B
                                           _00105_DS_
000190   0b00     movai   0                	MOVAI	0x00
000191   171b     orar    0x1b             	ORAR	r0x100B
000192   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
000193   2997     goto    0x197            	GOTO	_00107_DS_
                                           ;	.line	23; "MC30P6280.c"	Nop();
000194   0000     nop                      	nop
                                           ;	.line	24; "MC30P6280.c"	i--;
000195   1b9b     decr    0x1b             	DECR	r0x100B
000196   2990     goto    0x190            	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	26; "MC30P6280.c"	xus--;
000197   0bff     movai   0xff             	MOVAI	0xff
000198   1f97     addra   0x17             	ADDRA	r0x100A
000199   0bff     movai   0xff             	MOVAI	0xff
00019a   3003     jbset   0x3, 0           	JBSET	STATUS,0
00019b   1f98     addra   0x18             	ADDRA	r0x1009
00019c   0bff     movai   0xff             	MOVAI	0xff
00019d   3003     jbset   0x3, 0           	JBSET	STATUS,0
00019e   1f99     addra   0x19             	ADDRA	r0x1008
00019f   0bff     movai   0xff             	MOVAI	0xff
0001a0   3003     jbset   0x3, 0           	JBSET	STATUS,0
0001a1   1f9a     addra   0x1a             	ADDRA	r0x1007
0001a2   2988     goto    0x188            	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	28; "MC30P6280.c"	}
0001a3   000c     return                   	RETURN	
                                           ; exit point of _delay_100us
                                           
                                           
                                           ;	code size estimation:
                                           ;	  394+    0 =   394 instructions (  788 byte)
                                           
                                           	end
                                           ;--------------------------------------------------------
                                           ; File Created by SN-SDCC : SinoMCU ANSI-C Compiler
                                           ; Version 2.0.0 (Dec 11 2019) (MINGW32)
                                           ; This file was generated Fri Aug 02 16:40:04 2024
                                           ;--------------------------------------------------------
                                           ; MC30 port for the RISC core
                                           ;--------------------------------------------------------
                                           ;	.file	"MC30P6280.c"
                                           	list	p=1K6280
                                           	radix dec
                                           	include "1K6280.inc"
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_CLR_RAM
                                           	extern	_TIMER0_INT_Init
                                           	extern	_TIMER1_INT_Init
                                           	extern	__mulint
                                           	extern	_INDFbits
                                           	extern	_T0CNTbits
                                           	extern	_PCLbits
                                           	extern	_STATUSbits
                                           	extern	_FSRbits
                                           	extern	_P1bits
                                           	extern	_MCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_PCLATHbits
                                           	extern	_PDCONbits
                                           	extern	_ODCONbits
                                           	extern	_PUCONbits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_T0CRbits
                                           	extern	_DDR1bits
                                           	extern	_TMRCRbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_INDF
                                           	extern	_T0CNT
                                           	extern	_PCL
                                           	extern	_STATUS
                                           	extern	_FSR
                                           	extern	_P1
                                           	extern	_MCR
                                           	extern	_P1KBCR
                                           	extern	_PCLATH
                                           	extern	_PDCON
                                           	extern	_ODCON
                                           	extern	_PUCON
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_T0CR
                                           	extern	_DDR1
                                           	extern	_TMRCR
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_Sys_Init
                                           	global	_IO_Init
                                           	global	_delay_100us
                                           	global	_delay_ms
                                           	global	_timer0_config
                                           	global	_sig_feedback_pin_config
                                           	global	_C_RAM
                                           	global	_pwm_init
                                           	global	___set_input_pull_up
                                           	global	___set_output_open_drain
                                           	global	_send_38khz_sig
                                           	global	___sel_chx
                                           	global	_get_distance
                                           	global	_send_32bits_data_by_irsir
                                           	global	_main
                                           	global	_int_isr
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_cnt_100us
                                           	global	_distance
                                           	global	_flag1
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0010
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC30P6280_0	udata
                                           _abuf	res	1
                                           
                                           UD_MC30P6280_1	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC30P6280_2	udata
                                           _cnt_100us	res	2
                                           
                                           UD_MC30P6280_3	udata
                                           _distance	res	4
                                           
                                           UD_MC30P6280_4	udata
                                           _flag1	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC30P6280_0	udata
                                           r0x100A	res	1
                                           r0x1009	res	1
                                           r0x1008	res	1
                                           r0x1007	res	1
                                           r0x100B	res	1
                                           r0x100C	res	1
                                           r0x100D	res	1
                                           r0x100E	res	1
                                           r0x1012	res	1
                                           r0x1011	res	1
                                           r0x1010	res	1
                                           r0x100F	res	1
                                           r0x1013	res	1
                                           r0x1017	res	1
                                           r0x1016	res	1
                                           r0x1015	res	1
                                           r0x1014	res	1
                                           r0x1018	res	1
                                           r0x101D	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ;@Allocation info for local variables in function 'delay_100us'
                                           ;@delay_100us CLR_RAM                   Allocated to registers ;size:2
                                           ;@delay_100us IO_Init                   Allocated to registers ;size:2
                                           ;@delay_100us TIMER0_INT_Init           Allocated to registers ;size:2
                                           ;@delay_100us TIMER1_INT_Init           Allocated to registers ;size:2
                                           ;@delay_100us Sys_Init                  Allocated to registers ;size:2
                                           ;@delay_100us delay_100us               Allocated to registers ;size:2
                                           ;@delay_100us INDFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us PCLbits                   Allocated to registers ;size:1
                                           ;@delay_100us STATUSbits                Allocated to registers ;size:1
                                           ;@delay_100us FSRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1bits                    Allocated to registers ;size:1
                                           ;@delay_100us MCRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_100us PCLATHbits                Allocated to registers ;size:1
                                           ;@delay_100us PDCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us ODCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us PUCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us INTEbits                  Allocated to registers ;size:1
                                           ;@delay_100us INTFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us DDR1bits                  Allocated to registers ;size:1
                                           ;@delay_100us TMRCRbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_100us T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_100us abuf                      Allocated to registers ;size:1
                                           ;@delay_100us statusbuf                 Allocated to registers ;size:1
                                           ;@delay_100us cnt_100us                 Allocated to registers ;size:2
                                           ;@delay_100us distance                  Allocated to registers ;size:4
                                           ;@delay_100us flag1                     Allocated to registers ;size:1
                                           ;@delay_100us xus                       Allocated to registers ;size:4
                                           ;@delay_100us i                         Allocated to registers r0x100B ;size:1
                                           ;@delay_100us INDF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CNT                     Allocated to registers ;size:1
                                           ;@delay_100us PCL                       Allocated to registers ;size:1
                                           ;@delay_100us STATUS                    Allocated to registers ;size:1
                                           ;@delay_100us FSR                       Allocated to registers ;size:1
                                           ;@delay_100us P1                        Allocated to registers ;size:1
                                           ;@delay_100us MCR                       Allocated to registers ;size:1
                                           ;@delay_100us P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_100us PCLATH                    Allocated to registers ;size:1
                                           ;@delay_100us PDCON                     Allocated to registers ;size:1
                                           ;@delay_100us ODCON                     Allocated to registers ;size:1
                                           ;@delay_100us PUCON                     Allocated to registers ;size:1
                                           ;@delay_100us INTE                      Allocated to registers ;size:1
                                           ;@delay_100us INTF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CR                      Allocated to registers ;size:1
                                           ;@delay_100us DDR1                      Allocated to registers ;size:1
                                           ;@delay_100us TMRCR                     Allocated to registers ;size:1
                                           ;@delay_100us T1CR                      Allocated to registers ;size:1
                                           ;@delay_100us T1CNT                     Allocated to registers ;size:1
                                           ;@delay_100us T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_100us T1DATA                    Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_100us';
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms xms                       Allocated to registers ;size:4
                                           ;@delay_ms i                         Allocated to registers r0x100B r0x100C ;size:2
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'timer0_config'
                                           ;@end Allocation info for local variables in function 'timer0_config';
                                           ;@Allocation info for local variables in function 'sig_feedback_pin_config'
                                           ;@end Allocation info for local variables in function 'sig_feedback_pin_config';
                                           ;@Allocation info for local variables in function 'C_RAM'
                                           ;@end Allocation info for local variables in function 'C_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'pwm_init'
                                           ;@end Allocation info for local variables in function 'pwm_init';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function '__set_input_pull_up'
                                           ;@end Allocation info for local variables in function '__set_input_pull_up';
                                           ;@Allocation info for local variables in function '__set_output_open_drain'
                                           ;@end Allocation info for local variables in function '__set_output_open_drain';
                                           ;@Allocation info for local variables in function 'send_38khz_sig'
                                           ;@end Allocation info for local variables in function 'send_38khz_sig';
                                           ;@Allocation info for local variables in function '__sel_chx'
                                           ;@__sel_chx chx                       Allocated to registers r0x1007 ;size:1
                                           ;@end Allocation info for local variables in function '__sel_chx';
                                           ;@Allocation info for local variables in function 'get_distance'
                                           ;@end Allocation info for local variables in function 'get_distance';
                                           ;@Allocation info for local variables in function 'send_32bits_data_by_irsir'
                                           ;@send_32bits_data_by_irsir send_data                 Allocated to registers r0x1012 r0x1011 r0x1010 r0x100F ;size:4
                                           ;@send_32bits_data_by_irsir i                         Allocated to registers r0x1013 ;size:1
                                           ;@end Allocation info for local variables in function 'send_32bits_data_by_irsir';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@main i                         Allocated to registers r0x1018 ;size:1
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
                                           	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	334; "MC30P6280.c"	__endasm;
                                           	;
                                           	movra	_abuf;
                                           	swapar	_STATUS;
                                           	movra	_statusbuf;
                                           	
                                           ;	.line	336; "MC30P6280.c"	if ((T0IF) && (T0IE))
                                           	JBSET	_INTFbits,0
                                           	GOTO	_00291_DS_
                                           	JBSET	_INTEbits,0
                                           	GOTO	_00291_DS_
                                           ;	.line	339; "MC30P6280.c"	T0CNT = 256 - 100;
                                           	MOVAI	0x9c
                                           	MOVRA	_T0CNT
                                           ;	.line	340; "MC30P6280.c"	TIMER_0_IT_FLAG = 1; // 标志位，表示定时器0触发了中断
                                           	BSET	_flag1,0
                                           ;	.line	341; "MC30P6280.c"	T0IF = 0;
                                           	BCLR	_INTFbits,0
                                           _00291_DS_
                                           ;	.line	349; "MC30P6280.c"	__endasm;
                                           	;
                                           	swapar	_statusbuf;
                                           	movra	_STATUS;
                                           	swapr	_abuf;
                                           	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	350; "MC30P6280.c"	}
                                           	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC30P6280	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   ___sel_chx
                                           ;   _get_distance
                                           ;   _send_32bits_data_by_irsir
                                           ;   _delay_ms
                                           ;   _Sys_Init
                                           ;   ___sel_chx
                                           ;   _get_distance
                                           ;   _send_32bits_data_by_irsir
                                           ;   _delay_ms
                                           ;12 compiler assigned registers:
                                           ;   r0x1018
                                           ;   r0x1019
                                           ;   r0x101A
                                           ;   r0x101B
                                           ;   r0x101C
                                           ;   r0x101D
                                           ;   r0x101E
                                           ;   r0x101F
                                           ;   r0x1020
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	300; "MC30P6280.c"	Sys_Init();
                                           	CALL	_Sys_Init
                                           _00285_DS_
                                           ;	.line	306; "MC30P6280.c"	for (u8 i = 0; i < 4; i++)
                                           	CLRR	r0x1018
                                           ;;unsigned compare: left < lit(0x4=4), size=1
                                           _00279_DS_
                                           	MOVAI	0x04
                                           	RSUBAR	r0x1018
                                           	JBCLR	STATUS,0
                                           	GOTO	_00285_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	309; "MC30P6280.c"	__sel_chx(i); // 切换通道
                                           	MOVAR	r0x1018
                                           	CALL	___sel_chx
                                           ;	.line	311; "MC30P6280.c"	get_distance();						 // 获取距离，结果存放到全局变量中
                                           	CALL	_get_distance
                                           ;	.line	312; "MC30P6280.c"	distance &= ~((u32)0x03 << 16);		 // 清零第16位，17位，准备存放通道号
                                           	MOVAI	0xfc
                                           	ANDRA	(_distance + 2)
                                           ;;102	MOVAR	r0x1018
                                           ;;100	MOVRA	r0x101E
                                           ;;1	MOVRA	r0x1019
                                           ;;1	CLRR	r0x101A
                                           ;;1	CLRR	r0x101B
                                           ;;1	CLRR	r0x101C
                                           ;	.line	313; "MC30P6280.c"	distance |= ((u32)i << 16);			 // 第16、17位，存放通道号
                                           	MOVAI	0x00
                                           	MOVRA	r0x101D
                                           ;;99	MOVAR	r0x1019
                                           ;;1	CLRR	r0x101F
                                           ;;1	CLRR	r0x1020
                                           	MOVAI	0x00
                                           	ORRA	_distance
                                           	MOVAI	0x00
                                           	ORRA	(_distance + 1)
                                           ;;101	MOVAR	r0x101E
                                           	MOVAR	r0x1018
                                           	ORRA	(_distance + 2)
                                           	MOVAR	r0x101D
                                           	ORRA	(_distance + 3)
                                           ;	.line	314; "MC30P6280.c"	send_32bits_data_by_irsir(distance); // 第16、17位，存放通道号，0~15存放距离（单位：mm）
                                           	MOVAR	_distance
                                           	MOVRA	STK02
                                           	MOVAR	(_distance + 1)
                                           	MOVRA	STK01
                                           	MOVAR	(_distance + 2)
                                           	MOVRA	STK00
                                           	MOVAR	(_distance + 3)
                                           	CALL	_send_32bits_data_by_irsir
                                           ;	.line	315; "MC30P6280.c"	delay_ms(500);
                                           	MOVAI	0xf4
                                           	MOVRA	STK02
                                           	MOVAI	0x01
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	306; "MC30P6280.c"	for (u8 i = 0; i < 4; i++)
                                           	INCR	r0x1018
                                           	GOTO	_00279_DS_
                                           ;	.line	320; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _send_32bits_data_by_irsir	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_output_open_drain
                                           ;   _delay_ms
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   ___set_output_open_drain
                                           ;   _delay_ms
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;   _delay_100us
                                           ;   ___set_output_open_drain
                                           ;   _delay_100us
                                           ;   ___set_input_pull_up
                                           ;12 compiler assigned registers:
                                           ;   r0x100F
                                           ;   STK00
                                           ;   r0x1010
                                           ;   STK01
                                           ;   r0x1011
                                           ;   STK02
                                           ;   r0x1012
                                           ;   r0x1013
                                           ;   r0x1014
                                           ;   r0x1015
                                           ;   r0x1016
                                           ;   r0x1017
                                           ;; Starting pCode block
                                           _send_32bits_data_by_irsir	;Function start
                                           ; 2 exit points
                                           ;	.line	263; "MC30P6280.c"	void send_32bits_data_by_irsir(u32 send_data)
                                           	MOVRA	r0x100F
                                           	MOVAR	STK00
                                           	MOVRA	r0x1010
                                           	MOVAR	STK01
                                           	MOVRA	r0x1011
                                           	MOVAR	STK02
                                           	MOVRA	r0x1012
                                           ;	.line	266; "MC30P6280.c"	__set_output_open_drain(); // 低电平
                                           	CALL	___set_output_open_drain
                                           ;	.line	267; "MC30P6280.c"	delay_ms(9);
                                           	MOVAI	0x09
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	268; "MC30P6280.c"	__set_input_pull_up(); // 高电平
                                           	CALL	___set_input_pull_up
                                           ;	.line	269; "MC30P6280.c"	delay_100us(45);		   // 延时4.5ms
                                           	MOVAI	0x2d
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           ;	.line	271; "MC30P6280.c"	for (u8 i = 0; i < 32; i++)
                                           	CLRR	r0x1013
                                           ;;unsigned compare: left < lit(0x20=32), size=1
                                           _00250_DS_
                                           	MOVAI	0x20
                                           	RSUBAR	r0x1013
                                           	JBCLR	STATUS,0
                                           	GOTO	_00248_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	273; "MC30P6280.c"	if ((send_data >> i) & 0x01)
                                           	MOVAR	r0x100F
                                           	MOVRA	r0x1014
                                           	MOVAR	r0x1010
                                           	MOVRA	r0x1015
                                           	MOVAR	r0x1011
                                           	MOVRA	r0x1016
                                           	MOVAR	r0x1012
                                           	MOVRA	r0x1017
                                           	MOVAR	r0x1013
                                           	ISUBAI	0x00
                                           	JBCLR	STATUS,2
                                           	GOTO	_00269_DS_
                                           _00268_DS_
                                           	RRR	r0x1014
                                           	RRR	r0x1015
                                           	RRR	r0x1016
                                           	RRR	r0x1017
                                           	ADDAI	0x01
                                           	JBSET	STATUS,0
                                           	GOTO	_00268_DS_
                                           _00269_DS_
                                           	JBSET	r0x1017,0
                                           	GOTO	_00246_DS_
                                           ;	.line	276; "MC30P6280.c"	__set_output_open_drain(); // 低电平
                                           	CALL	___set_output_open_drain
                                           ;	.line	277; "MC30P6280.c"	delay_100us(6);			   // 600us
                                           	MOVAI	0x06
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           ;	.line	278; "MC30P6280.c"	__set_input_pull_up();	   // 高电平
                                           	CALL	___set_input_pull_up
                                           ;	.line	279; "MC30P6280.c"	delay_100us(17);		   // 1700us
                                           	MOVAI	0x11
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           	GOTO	_00251_DS_
                                           _00246_DS_
                                           ;	.line	284; "MC30P6280.c"	__set_output_open_drain(); // 低电平
                                           	CALL	___set_output_open_drain
                                           ;	.line	285; "MC30P6280.c"	delay_100us(6);			   // 600us
                                           	MOVAI	0x06
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           ;	.line	286; "MC30P6280.c"	__set_input_pull_up();	   // 高电平
                                           	CALL	___set_input_pull_up
                                           ;	.line	287; "MC30P6280.c"	delay_100us(6);			   // 600us
                                           	MOVAI	0x06
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           _00251_DS_
                                           ;	.line	271; "MC30P6280.c"	for (u8 i = 0; i < 32; i++)
                                           	INCR	r0x1013
                                           	GOTO	_00250_DS_
                                           _00248_DS_
                                           ;	.line	292; "MC30P6280.c"	__set_output_open_drain(); // 低电平
                                           	CALL	___set_output_open_drain
                                           ;	.line	293; "MC30P6280.c"	delay_100us(6);
                                           	MOVAI	0x06
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           ;	.line	294; "MC30P6280.c"	__set_input_pull_up();	   // 高电平
                                           	CALL	___set_input_pull_up
                                           ;	.line	295; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _send_32bits_data_by_irsir
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_distance	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _send_38khz_sig
                                           ;   _delay_100us
                                           ;   __mulint
                                           ;   _send_38khz_sig
                                           ;   _delay_100us
                                           ;   __mulint
                                           ;5 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;; Starting pCode block
                                           _get_distance	;Function start
                                           ; 2 exit points
                                           ;	.line	184; "MC30P6280.c"	cnt_100us = 0; // 每次进来，先清空全局变量cnt_100us的值
                                           	CLRR	_cnt_100us
                                           	CLRR	(_cnt_100us + 1)
                                           ;	.line	185; "MC30P6280.c"	send_38khz_sig();
                                           	CALL	_send_38khz_sig
                                           ;	.line	186; "MC30P6280.c"	delay_100us(15); // 延时1.5ms，避免自身发送的信号造成的干扰
                                           	MOVAI	0x0f
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           ;	.line	189; "MC30P6280.c"	T0IE = 1; // 使能定时器0
                                           	BSET	_INTEbits,0
                                           _00196_DS_
                                           ;	.line	193; "MC30P6280.c"	if (TIMER_0_IT_FLAG)
                                           	JBSET	_flag1,0
                                           	GOTO	_00181_DS_
                                           ;	.line	195; "MC30P6280.c"	TIMER_0_IT_FLAG = 0;
                                           	BCLR	_flag1,0
                                           ;	.line	196; "MC30P6280.c"	cnt_100us++; //
                                           	INCR	_cnt_100us
                                           	JBCLR	STATUS,2
                                           	INCR	(_cnt_100us + 1)
                                           ;;unsigned compare: left < lit(0x249=585), size=2
                                           _00181_DS_
                                           ;	.line	199; "MC30P6280.c"	if (cnt_100us >= 585) // 如果超过了60ms（延时1.5ms加上每次100us的计数）--最大支持10.2m，不包括10.2m
                                           	MOVAI	0x02
                                           	RSUBAR	(_cnt_100us + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00239_DS_
                                           	MOVAI	0x49
                                           	RSUBAR	_cnt_100us
                                           _00239_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00183_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	203; "MC30P6280.c"	T0IE = 0; // 关闭定时器0
                                           	BCLR	_INTEbits,0
                                           ;	.line	206; "MC30P6280.c"	distance = 0xFFFFFFFF;
                                           	MOVAI	0xff
                                           	MOVRA	_distance
                                           	MOVRA	(_distance + 1)
                                           	MOVRA	(_distance + 2)
                                           	MOVRA	(_distance + 3)
                                           ;	.line	207; "MC30P6280.c"	return;
                                           	GOTO	_00201_DS_
                                           _00183_DS_
                                           ;	.line	210; "MC30P6280.c"	if (0 == SIG_FEEDBACK_PIN)
                                           	JBCLR	_P1bits,0
                                           	GOTO	_00190_DS_
                                           _00186_DS_
                                           ;	.line	215; "MC30P6280.c"	while (0 == SIG_FEEDBACK_PIN)
                                           	JBCLR	_P1bits,0
                                           	GOTO	_00190_DS_
                                           ;	.line	218; "MC30P6280.c"	if (TIMER_0_IT_FLAG)
                                           	JBSET	_flag1,0
                                           	GOTO	_00186_DS_
                                           ;	.line	220; "MC30P6280.c"	TIMER_0_IT_FLAG = 0;
                                           	BCLR	_flag1,0
                                           ;	.line	221; "MC30P6280.c"	cnt_100us++; //
                                           	INCR	_cnt_100us
                                           	JBCLR	STATUS,2
                                           	INCR	(_cnt_100us + 1)
                                           ;	.line	222; "MC30P6280.c"	LOW_LEVEL_100us_FLAG = 1;
                                           	BSET	_flag1,1
                                           _00190_DS_
                                           ;	.line	231; "MC30P6280.c"	if (LOW_LEVEL_100us_FLAG)
                                           	JBSET	_flag1,1
                                           	GOTO	_00196_DS_
                                           ;	.line	233; "MC30P6280.c"	if (SIG_FEEDBACK_PIN)
                                           	JBSET	_P1bits,0
                                           	GOTO	_00196_DS_
                                           ;	.line	236; "MC30P6280.c"	LOW_LEVEL_100us_FLAG = 0; // 清除标志位
                                           	BCLR	_flag1,1
                                           ;	.line	243; "MC30P6280.c"	T0IE = 0;
                                           	BCLR	_INTEbits,0
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x3=3), size=2
                                           ;	.line	250; "MC30P6280.c"	if (cnt_100us <= 2)
                                           	MOVAI	0x00
                                           	RSUBAR	(_cnt_100us + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00240_DS_
                                           	MOVAI	0x03
                                           	RSUBAR	_cnt_100us
                                           _00240_DS_
                                           	JBCLR	STATUS,0
                                           	GOTO	_00199_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	253; "MC30P6280.c"	distance = 0; // 距离过小，当作0处理
                                           	CLRR	_distance
                                           	CLRR	(_distance + 1)
                                           	CLRR	(_distance + 2)
                                           	CLRR	(_distance + 3)
                                           	GOTO	_00201_DS_
                                           _00199_DS_
                                           ;	.line	258; "MC30P6280.c"	distance = (cnt_100us + 15) * 17; // 计算结果误差在1cm
                                           	MOVAI	0x0f
                                           	ADDAR	_cnt_100us
                                           	MOVRA	r0x100C
                                           	CLRR	r0x100D
                                           	RLR	r0x100D
                                           	MOVAR	(_cnt_100us + 1)
                                           	ADDRA	r0x100D
                                           	MOVAR	r0x100C
                                           	MOVRA	STK02
                                           	MOVAR	r0x100D
                                           	MOVRA	STK01
                                           	MOVAI	0x11
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	__mulint
                                           	MOVRA	r0x100D
                                           	MOVAR	STK00
                                           	MOVRA	_distance
                                           	MOVRA	r0x100C
                                           ;;103	MOVAR	r0x100C
                                           	MOVAR	r0x100D
                                           	MOVRA	(_distance + 1)
                                           	CLRR	(_distance + 2)
                                           	CLRR	(_distance + 3)
                                           _00201_DS_
                                           ;	.line	260; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _get_distance
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___sel_chx	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;1 compiler assigned register :
                                           ;   r0x1007
                                           ;; Starting pCode block
                                           ___sel_chx	;Function start
                                           ; 2 exit points
                                           ;	.line	155; "MC30P6280.c"	void __sel_chx(u8 chx)
                                           	MOVRA	r0x1007
                                           ;;swapping arguments (AOP_TYPEs 1/2)
                                           ;;unsigned compare: left >= lit(0x4=4), size=1
                                           ;	.line	157; "MC30P6280.c"	switch (chx)
                                           	MOVAI	0x04
                                           	RSUBAR	r0x1007
                                           	JBCLR	STATUS,0
                                           	GOTO	_00168_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           	MOVAI	HIGH(_00175_DS_)
                                           	MOVRA	PCLATH
                                           	MOVAI	_00175_DS_
                                           	ADDAR	r0x1007
                                           	JBCLR	STATUS,0
                                           	INCR	PCLATH
                                           	MOVRA	PCL
                                           _00175_DS_
                                           	GOTO	_00163_DS_
                                           	GOTO	_00164_DS_
                                           	GOTO	_00165_DS_
                                           	GOTO	_00166_DS_
                                           _00163_DS_
                                           ;	.line	160; "MC30P6280.c"	P15D = 0;
                                           	BCLR	_P1bits,5
                                           ;	.line	161; "MC30P6280.c"	P14D = 0;
                                           	BCLR	_P1bits,4
                                           ;	.line	162; "MC30P6280.c"	break;
                                           	GOTO	_00168_DS_
                                           _00164_DS_
                                           ;	.line	165; "MC30P6280.c"	P15D = 0;
                                           	BCLR	_P1bits,5
                                           ;	.line	166; "MC30P6280.c"	P14D = 1;
                                           	BSET	_P1bits,4
                                           ;	.line	167; "MC30P6280.c"	break;
                                           	GOTO	_00168_DS_
                                           _00165_DS_
                                           ;	.line	170; "MC30P6280.c"	P15D = 1;
                                           	BSET	_P1bits,5
                                           ;	.line	171; "MC30P6280.c"	P14D = 0;
                                           	BCLR	_P1bits,4
                                           ;	.line	172; "MC30P6280.c"	break;
                                           	GOTO	_00168_DS_
                                           _00166_DS_
                                           ;	.line	175; "MC30P6280.c"	P15D = 1;
                                           	BSET	_P1bits,5
                                           ;	.line	176; "MC30P6280.c"	P14D = 1;
                                           	BSET	_P1bits,4
                                           _00168_DS_
                                           ;	.line	179; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of ___sel_chx
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _send_38khz_sig	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_100us
                                           ;   _delay_100us
                                           ;3 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _send_38khz_sig	;Function start
                                           ; 2 exit points
                                           ;	.line	146; "MC30P6280.c"	PWM1EC = 1; // 允许端口输出PWM波形
                                           	BSET	_T1CRbits,6
                                           ;	.line	148; "MC30P6280.c"	delay_100us(4); //
                                           	MOVAI	0x04
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           ;	.line	150; "MC30P6280.c"	PWM1EC = 0; // 禁止端口输出PWM波形
                                           	BCLR	_T1CRbits,6
                                           ;	.line	151; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _send_38khz_sig
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;	.line	139; "MC30P6280.c"	DDR1 &= ~(0x01 << 3); // P13配置为输出模式，P13只有开漏输出
                                           	BCLR	_DDR1,3
                                           ;	.line	140; "MC30P6280.c"	P13D = 0;
                                           	BCLR	_P1bits,3
                                           ;	.line	141; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of ___set_output_open_drain
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;	.line	132; "MC30P6280.c"	DDR1 |= 0x01 << 3;	   // P13配置成输入模式
                                           	BSET	_DDR1,3
                                           ;	.line	133; "MC30P6280.c"	PUCON &= ~(0x01 << 3); // 使能P13上拉电阻
                                           	BCLR	_PUCON,3
                                           ;	.line	134; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of ___set_input_pull_up
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _pwm_init
                                           ;   _timer0_config
                                           ;   _sig_feedback_pin_config
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _pwm_init
                                           ;   _timer0_config
                                           ;   _sig_feedback_pin_config
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	119; "MC30P6280.c"	GIE = 0;
                                           	BCLR	_INTEbits,7
                                           ;	.line	120; "MC30P6280.c"	C_RAM();
                                           	CALL	_C_RAM
                                           ;	.line	121; "MC30P6280.c"	IO_Init();
                                           	CALL	_IO_Init
                                           ;	.line	123; "MC30P6280.c"	pwm_init();				   // 38KHz 50% PWM
                                           	CALL	_pwm_init
                                           ;	.line	124; "MC30P6280.c"	timer0_config();		   // 定时器0配置
                                           	CALL	_timer0_config
                                           ;	.line	125; "MC30P6280.c"	sig_feedback_pin_config(); // 信号反馈检测引脚的配置（初始化）
                                           	CALL	_sig_feedback_pin_config
                                           ;	.line	126; "MC30P6280.c"	GIE = 1;
                                           	BSET	_INTEbits,7
                                           ;	.line	127; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pwm_init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pwm_init	;Function start
                                           ; 2 exit points
                                           ;	.line	105; "MC30P6280.c"	T1CNT = 210;  // T1递减计数器
                                           	MOVAI	0xd2
                                           	MOVRA	_T1CNT
                                           ;	.line	106; "MC30P6280.c"	T1LOAD = 210; // 重载寄存器，不能配置为0
                                           	MOVAI	0xd2
                                           	MOVRA	_T1LOAD
                                           ;	.line	107; "MC30P6280.c"	T1DATA = 106; // 比较寄存器，用于设置PWM占空比
                                           	MOVAI	0x6a
                                           	MOVRA	_T1DATA
                                           ;	.line	108; "MC30P6280.c"	T1CR = 0xC0;  // 寄存器位从高到低，对应实现的功能：开启定时器、使能PWM0功能、禁止端口输出BUZ波形、T1时钟选择FCPU、T1时钟分频
                                           	MOVAI	0xc0
                                           	MOVRA	_T1CR
                                           ;	.line	109; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _pwm_init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	96; "MC30P6280.c"	P1 = 0x00;	  // 1:input 0:output
                                           	CLRR	_P1
                                           ;	.line	97; "MC30P6280.c"	DDR1 = 0x00;  // 1:input 0:output
                                           	CLRR	_DDR1
                                           ;	.line	98; "MC30P6280.c"	PUCON = 0xff; // 0:Effective 1:invalid
                                           	MOVAI	0xff
                                           	MOVRA	_PUCON
                                           ;	.line	99; "MC30P6280.c"	PDCON = 0xff; // 0:Effective 1:invalid
                                           	MOVAI	0xff
                                           	MOVRA	_PDCON
                                           ;	.line	100; "MC30P6280.c"	ODCON = 0x00; // 0:推挽输出  1:开漏输出
                                           	CLRR	_ODCON
                                           ;	.line	101; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _C_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _C_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	85; "MC30P6280.c"	__endasm;
                                           	;
                                           	movai	0x3F;
                                           	movra	FSR;
                                           	movai	47;
                                           	movra	0x3F;
                                           	decr	FSR;
                                           	clrr	INDF;
                                           	djzr	0x3F;
                                           	goto	$ - 3;
                                           	clrr	0x3F;
                                           	
                                           ;	.line	86; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _C_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sig_feedback_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _sig_feedback_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	61; "MC30P6280.c"	DDR1 |= 0x01;	  // P10配置成输入模式
                                           	BSET	_DDR1,0
                                           ;	.line	62; "MC30P6280.c"	PUCON &= ~(0x01); // 使能P10的上拉电阻
                                           	BCLR	_PUCON,0
                                           ;	.line	65; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _sig_feedback_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer0_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer0_config	;Function start
                                           ; 2 exit points
                                           ;	.line	48; "MC30P6280.c"	T0CR = 0x02;	   // 时钟为CPU时钟    定时器4分频
                                           	MOVAI	0x02
                                           	MOVRA	_T0CR
                                           ;	.line	49; "MC30P6280.c"	T0CNT = 256 - 100; // 递增计数器
                                           	MOVAI	0x9c
                                           	MOVRA	_T0CNT
                                           ;	.line	51; "MC30P6280.c"	T0IE = 0; // 不使能定时器0
                                           	BCLR	_INTEbits,0
                                           ;	.line	52; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _timer0_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;11 compiler assigned registers:
                                           ;   r0x1007
                                           ;   STK00
                                           ;   r0x1008
                                           ;   STK01
                                           ;   r0x1009
                                           ;   STK02
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	32; "MC30P6280.c"	void delay_ms(u32 xms)
                                           	MOVRA	r0x1007
                                           	MOVAR	STK00
                                           	MOVRA	r0x1008
                                           	MOVAR	STK01
                                           	MOVRA	r0x1009
                                           	MOVAR	STK02
                                           	MOVRA	r0x100A
                                           _00119_DS_
                                           ;	.line	34; "MC30P6280.c"	while (xms)
                                           	MOVAR	r0x100A
                                           	ORAR	r0x1009
                                           	ORAR	r0x1008
                                           	ORAR	r0x1007
                                           	JBCLR	STATUS,2
                                           	GOTO	_00122_DS_
                                           ;	.line	37; "MC30P6280.c"	while (i--)
                                           	MOVAI	0x13
                                           	MOVRA	r0x100B
                                           	MOVAI	0x02
                                           	MOVRA	r0x100C
                                           _00116_DS_
                                           	MOVAR	r0x100B
                                           	MOVRA	r0x100D
                                           	MOVAR	r0x100C
                                           	MOVRA	r0x100E
                                           	MOVAI	0xff
                                           	ADDRA	r0x100B
                                           	JBSET	STATUS,0
                                           	DECR	r0x100C
                                           	MOVAR	r0x100D
                                           	ORAR	r0x100E
                                           	JBCLR	STATUS,2
                                           	GOTO	_00118_DS_
                                           ;	.line	39; "MC30P6280.c"	Nop();
                                           	nop
                                           	GOTO	_00116_DS_
                                           _00118_DS_
                                           ;	.line	41; "MC30P6280.c"	xms--;
                                           	MOVAI	0xff
                                           	ADDRA	r0x100A
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1009
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1008
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1007
                                           	GOTO	_00119_DS_
                                           _00122_DS_
                                           ;	.line	43; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_100us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;8 compiler assigned registers:
                                           ;   r0x1007
                                           ;   STK00
                                           ;   r0x1008
                                           ;   STK01
                                           ;   r0x1009
                                           ;   STK02
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;; Starting pCode block
                                           _delay_100us	;Function start
                                           ; 2 exit points
                                           ;	.line	16; "MC30P6280.c"	void delay_100us(u32 xus)
                                           	MOVRA	r0x1007
                                           	MOVAR	STK00
                                           	MOVRA	r0x1008
                                           	MOVAR	STK01
                                           	MOVRA	r0x1009
                                           	MOVAR	STK02
                                           	MOVRA	r0x100A
                                           _00108_DS_
                                           ;	.line	18; "MC30P6280.c"	while (xus)
                                           	MOVAR	r0x100A
                                           	ORAR	r0x1009
                                           	ORAR	r0x1008
                                           	ORAR	r0x1007
                                           	JBCLR	STATUS,2
                                           	GOTO	_00111_DS_
                                           ;	.line	21; "MC30P6280.c"	while (i)
                                           	MOVAI	0x61
                                           	MOVRA	r0x100B
                                           _00105_DS_
                                           	MOVAI	0x00
                                           	ORAR	r0x100B
                                           	JBCLR	STATUS,2
                                           	GOTO	_00107_DS_
                                           ;	.line	23; "MC30P6280.c"	Nop();
                                           	nop
                                           ;	.line	24; "MC30P6280.c"	i--;
                                           	DECR	r0x100B
                                           	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	26; "MC30P6280.c"	xus--;
                                           	MOVAI	0xff
                                           	ADDRA	r0x100A
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1009
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1008
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1007
                                           	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	28; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _delay_100us
                                           
                                           
                                           ;	code size estimation:
                                           ;	  394+    0 =   394 instructions (  788 byte)
                                           
                                           	end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XX-------------- XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXX-------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   485

