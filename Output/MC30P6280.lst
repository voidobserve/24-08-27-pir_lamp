gplink-2.2.37 (Jan 22 2024)
Listing File Generated: 2024-8-27  15:08:05
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_INDFbits
                                           	extern	_T0CNTbits
                                           	extern	_PCLbits
                                           	extern	_STATUSbits
                                           	extern	_FSRbits
                                           	extern	_P1bits
                                           	extern	_MCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_PCLATHbits
                                           	extern	_PDCONbits
                                           	extern	_ODCONbits
                                           	extern	_PUCONbits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_T0CRbits
                                           	extern	_DDR1bits
                                           	extern	_TMRCRbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_INDF
                                           	extern	_T0CNT
                                           	extern	_PCL
                                           	extern	_STATUS
                                           	extern	_FSR
                                           	extern	_P1
                                           	extern	_MCR
                                           	extern	_P1KBCR
                                           	extern	_PCLATH
                                           	extern	_PDCON
                                           	extern	_ODCON
                                           	extern	_PUCON
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_T0CR
                                           	extern	_DDR1
                                           	extern	_TMRCR
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_Sys_Init
                                           	global	_IO_Init
                                           	global	_C_RAM
                                           	global	_delay_100us
                                           	global	_delay_5us
                                           	global	_delay_ms
                                           	global	_pir_pin_in
                                           	global	_pir_pin_out
                                           	global	_sel_pin_config
                                           	global	_light_sensor_pin_config
                                           	global	_get_pirdata
                                           	global	___set_input_pull_up
                                           	global	___set_output_open_drain
                                           	global	_led_on
                                           	global	_led_off
                                           	global	_get_detected_light
                                           	global	_mode_pir
                                           	global	_main
                                           	global	_int_isr
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_cur_light_status
                                           	global	_detect_cnt
                                           	global	_pir_val
                                           	global	_loop_cnt
                                           	global	_wake_up_times
                                           	global	_flag1
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0010
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC30P6280_0	udata
                                           _abuf	res	1
                                           
                                           UD_MC30P6280_1	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC30P6280_2	udata
                                           _detect_cnt	res	1
                                           
                                           UD_MC30P6280_3	udata
                                           _pir_val	res	2
                                           
                                           UD_MC30P6280_4	udata
                                           _loop_cnt	res	1
                                           
                                           UD_MC30P6280_5	udata
                                           _wake_up_times	res	1
                                           
                                           UD_MC30P6280_6	udata
                                           _flag1	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC30P6280_0	udata
                                           r0x100A	res	1
                                           r0x1009	res	1
                                           r0x1008	res	1
                                           r0x1007	res	1
                                           r0x100B	res	1
                                           r0x100C	res	1
                                           r0x100D	res	1
                                           r0x100E	res	1
                                           r0x100F	res	1
                                           r0x1010	res	1
                                           r0x1011	res	1
                                           r0x1012	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ID_MC30P6280_0	idata
                                           _cur_light_status
                                           	db	0x00
                                           
                                           
                                           ;@Allocation info for local variables in function 'delay_100us'
                                           ;@delay_100us C_RAM                     Allocated to registers ;size:2
                                           ;@delay_100us IO_Init                   Allocated to registers ;size:2
                                           ;@delay_100us Sys_Init                  Allocated to registers ;size:2
                                           ;@delay_100us delay_100us               Allocated to registers ;size:2
                                           ;@delay_100us INDFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us PCLbits                   Allocated to registers ;size:1
                                           ;@delay_100us STATUSbits                Allocated to registers ;size:1
                                           ;@delay_100us FSRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1bits                    Allocated to registers ;size:1
                                           ;@delay_100us MCRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_100us PCLATHbits                Allocated to registers ;size:1
                                           ;@delay_100us PDCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us ODCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us PUCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us INTEbits                  Allocated to registers ;size:1
                                           ;@delay_100us INTFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us DDR1bits                  Allocated to registers ;size:1
                                           ;@delay_100us TMRCRbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_100us T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_100us abuf                      Allocated to registers ;size:1
                                           ;@delay_100us statusbuf                 Allocated to registers ;size:1
                                           ;@delay_100us cur_light_status          Allocated to registers ;size:1
                                           ;@delay_100us detect_cnt                Allocated to registers ;size:1
                                           ;@delay_100us pir_val                   Allocated to registers ;size:2
                                           ;@delay_100us loop_cnt                  Allocated to registers ;size:1
                                           ;@delay_100us wake_up_times             Allocated to registers ;size:1
                                           ;@delay_100us flag1                     Allocated to registers ;size:1
                                           ;@delay_100us xus                       Allocated to registers ;size:4
                                           ;@delay_100us i                         Allocated to registers r0x100B ;size:1
                                           ;@delay_100us INDF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CNT                     Allocated to registers ;size:1
                                           ;@delay_100us PCL                       Allocated to registers ;size:1
                                           ;@delay_100us STATUS                    Allocated to registers ;size:1
                                           ;@delay_100us FSR                       Allocated to registers ;size:1
                                           ;@delay_100us P1                        Allocated to registers ;size:1
                                           ;@delay_100us MCR                       Allocated to registers ;size:1
                                           ;@delay_100us P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_100us PCLATH                    Allocated to registers ;size:1
                                           ;@delay_100us PDCON                     Allocated to registers ;size:1
                                           ;@delay_100us ODCON                     Allocated to registers ;size:1
                                           ;@delay_100us PUCON                     Allocated to registers ;size:1
                                           ;@delay_100us INTE                      Allocated to registers ;size:1
                                           ;@delay_100us INTF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CR                      Allocated to registers ;size:1
                                           ;@delay_100us DDR1                      Allocated to registers ;size:1
                                           ;@delay_100us TMRCR                     Allocated to registers ;size:1
                                           ;@delay_100us T1CR                      Allocated to registers ;size:1
                                           ;@delay_100us T1CNT                     Allocated to registers ;size:1
                                           ;@delay_100us T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_100us T1DATA                    Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_100us';
                                           ;@Allocation info for local variables in function 'delay_5us'
                                           ;@delay_5us xus                       Allocated to registers r0x1007 ;size:1
                                           ;@end Allocation info for local variables in function 'delay_5us';
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms xms                       Allocated to registers ;size:4
                                           ;@delay_ms i                         Allocated to registers r0x100B r0x100C ;size:2
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'pir_pin_in'
                                           ;@end Allocation info for local variables in function 'pir_pin_in';
                                           ;@Allocation info for local variables in function 'pir_pin_out'
                                           ;@end Allocation info for local variables in function 'pir_pin_out';
                                           ;@Allocation info for local variables in function 'sel_pin_config'
                                           ;@end Allocation info for local variables in function 'sel_pin_config';
                                           ;@Allocation info for local variables in function 'light_sensor_pin_config'
                                           ;@end Allocation info for local variables in function 'light_sensor_pin_config';
                                           ;@Allocation info for local variables in function 'C_RAM'
                                           ;@end Allocation info for local variables in function 'C_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function 'get_pirdata'
                                           ;@get_pirdata pirData                   Allocated to registers r0x100C r0x100D ;size:2
                                           ;@get_pirdata checkCode                 Allocated to registers r0x100E ;size:1
                                           ;@get_pirdata i                         Allocated to registers r0x100F ;size:1
                                           ;@end Allocation info for local variables in function 'get_pirdata';
                                           ;@Allocation info for local variables in function '__set_input_pull_up'
                                           ;@end Allocation info for local variables in function '__set_input_pull_up';
                                           ;@Allocation info for local variables in function '__set_output_open_drain'
                                           ;@end Allocation info for local variables in function '__set_output_open_drain';
                                           ;@Allocation info for local variables in function 'led_on'
                                           ;@end Allocation info for local variables in function 'led_on';
                                           ;@Allocation info for local variables in function 'led_off'
                                           ;@end Allocation info for local variables in function 'led_off';
                                           ;@Allocation info for local variables in function 'get_detected_light'
                                           ;@end Allocation info for local variables in function 'get_detected_light';
                                           ;@Allocation info for local variables in function 'mode_pir'
                                           ;@mode_pir i                         Allocated to registers r0x1011 r0x1012 ;size:2
                                           ;@end Allocation info for local variables in function 'mode_pir';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@main i                         Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
000000   2817     goto    0x17             	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	622; "MC30P6280.c"	__endasm;
                                           	;
000008   15a5     movra   0x25             	movra	_abuf;
000009   1103     swapar  0x3              	swapar	_STATUS;
00000a   15a6     movra   0x26             	movra	_statusbuf;
                                           	
                                           ;	.line	624; "MC30P6280.c"	if ((T0IF) && (T0IE))
00000b   300f     jbset   0xf, 0           	JBSET	_INTFbits,0
00000c   2812     goto    0x12             	GOTO	_00401_DS_
00000d   300e     jbset   0xe, 0           	JBSET	_INTEbits,0
00000e   2812     goto    0x12             	GOTO	_00401_DS_
                                           ;	.line	626; "MC30P6280.c"	T0CNT = 255 - T0_CNT_TIME; // 递增计数器
00000f   0beb     movai   0xeb             	MOVAI	0xeb
000010   1581     movra   0x1              	MOVRA	_T0CNT
                                           ;	.line	627; "MC30P6280.c"	T0IF = 0;
000011   3c0f     bclr    0xf, 0           	BCLR	_INTFbits,0
                                           _00401_DS_
                                           ;	.line	635; "MC30P6280.c"	__endasm;
                                           	;
000012   1126     swapar  0x26             	swapar	_statusbuf;
000013   1583     movra   0x3              	movra	_STATUS;
000014   11a5     swapr   0x25             	swapr	_abuf;
000015   1125     swapar  0x25             	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	636; "MC30P6280.c"	}
000016   000d     retie                    	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC30P6280	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   _led_off
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _mode_pir
                                           ;   _Sys_Init
                                           ;   _led_off
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _mode_pir
                                           ;3 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	506; "MC30P6280.c"	Sys_Init();
000017   2167     call    0x167            	CALL	_Sys_Init
                                           ;	.line	508; "MC30P6280.c"	P15D = 1;  // 传感器要一直供电
000018   3a86     bset    0x6, 0x5         	BSET	_P1bits,5
                                           ;	.line	509; "MC30P6280.c"	led_off(); // 熄灭所有LED
000019   20ee     call    0xee             	CALL	_led_off
                                           _00395_DS_
                                           ;	.line	558; "MC30P6280.c"	led_on(); // 点亮LED
00001a   20f1     call    0xf1             	CALL	_led_on
                                           ;	.line	559; "MC30P6280.c"	cur_light_status = 1;
00001b   0b01     movai   0x1              	MOVAI	0x01
00001c   15ab     movra   0x2b             	MOVRA	_cur_light_status
                                           ;	.line	560; "MC30P6280.c"	delay_ms(3000);
00001d   0bb8     movai   0xb8             	MOVAI	0xb8
00001e   1594     movra   0x14             	MOVRA	STK02
00001f   0b0b     movai   0xb              	MOVAI	0x0b
000020   1595     movra   0x15             	MOVRA	STK01
000021   0b00     movai   0                	MOVAI	0x00
000022   1596     movra   0x16             	MOVRA	STK00
000023   0b00     movai   0                	MOVAI	0x00
000024   218b     call    0x18b            	CALL	_delay_ms
                                           ;	.line	561; "MC30P6280.c"	led_off(); // 熄灭LED
000025   20ee     call    0xee             	CALL	_led_off
                                           ;	.line	562; "MC30P6280.c"	cur_light_status = 0;
000026   1dab     clrr    0x2b             	CLRR	_cur_light_status
                                           ;	.line	564; "MC30P6280.c"	mode_pir(); // 人体感应模式 (内部有关循环)
000027   202b     call    0x2b             	CALL	_mode_pir
                                           ;	.line	570; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
000028   1da8     clrr    0x28             	CLRR	_loop_cnt
000029   281a     goto    0x1a             	GOTO	_00395_DS_
                                           ;	.line	608; "MC30P6280.c"	}
00002a   000c     return                   	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _mode_pir	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _get_detected_light
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _get_detected_light
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;5 compiler assigned registers:
                                           ;   r0x1011
                                           ;   r0x1012
                                           ;   STK00
                                           ;   STK02
                                           ;   STK01
                                           ;; Starting pCode block
                                           _mode_pir	;Function start
                                           ; 2 exit points
                                           _00286_DS_
                                           ;	.line	369; "MC30P6280.c"	if (1 == get_detected_light())
00002b   20e8     call    0xe8             	CALL	_get_detected_light
00002c   15a1     movra   0x21             	MOVRA	r0x1011
00002d   1621     movar   0x21             	MOVAR	r0x1011
00002e   0801     xorai   0x1              	XORAI	0x01
00002f   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000030   28a4     goto    0xa4             	GOTO	_00272_DS_
                                           ;	.line	374; "MC30P6280.c"	for (i = 0; i < 3; i++)
000031   1da1     clrr    0x21             	CLRR	r0x1011
000032   1da2     clrr    0x22             	CLRR	r0x1012
                                           _00288_DS_
                                           ;	.line	376; "MC30P6280.c"	pir_val = get_pirdata();
000033   20fa     call    0xfa             	CALL	_get_pirdata
000034   15a4     movra   0x24             	MOVRA	(_pir_val + 1)
000035   1616     movar   0x16             	MOVAR	STK00
000036   15a3     movra   0x23             	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           ;	.line	378; "MC30P6280.c"	if (wake_up_times >= 15)
000037   0b0f     movai   0xf              	MOVAI	0x0f
000038   1229     rsubar  0x29             	RSUBAR	_wake_up_times
000039   3003     jbset   0x3, 0           	JBSET	STATUS,0
00003a   284b     goto    0x4b             	GOTO	_00256_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x78=120), size=2
                                           ;	.line	380; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
00003b   0b00     movai   0                	MOVAI	0x00
00003c   1224     rsubar  0x24             	RSUBAR	(_pir_val + 1)
00003d   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
00003e   2841     goto    0x41             	GOTO	_00379_DS_
00003f   0b78     movai   0x78             	MOVAI	0x78
000040   1223     rsubar  0x23             	RSUBAR	_pir_val
                                           _00379_DS_
000041   3003     jbset   0x3, 0           	JBSET	STATUS,0
000042   2845     goto    0x45             	GOTO	_00251_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	383; "MC30P6280.c"	detect_cnt++;
000043   19a7     incr    0x27             	INCR	_detect_cnt
000044   2846     goto    0x46             	GOTO	_00252_DS_
                                           _00251_DS_
                                           ;	.line	387; "MC30P6280.c"	detect_cnt = 0;
000045   1da7     clrr    0x27             	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00252_DS_
                                           ;	.line	390; "MC30P6280.c"	if (detect_cnt >= 3)
000046   0b03     movai   0x3              	MOVAI	0x03
000047   1227     rsubar  0x27             	RSUBAR	_detect_cnt
000048   3003     jbset   0x3, 0           	JBSET	STATUS,0
000049   284b     goto    0x4b             	GOTO	_00256_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	392; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
00004a   392a     bset    0x2a, 0x2        	BSET	_flag1,2
                                           _00256_DS_
                                           ;	.line	396; "MC30P6280.c"	delay_ms(20);
00004b   0b14     movai   0x14             	MOVAI	0x14
00004c   1594     movra   0x14             	MOVRA	STK02
00004d   0b00     movai   0                	MOVAI	0x00
00004e   1595     movra   0x15             	MOVRA	STK01
00004f   0b00     movai   0                	MOVAI	0x00
000050   1596     movra   0x16             	MOVRA	STK00
000051   0b00     movai   0                	MOVAI	0x00
000052   218b     call    0x18b            	CALL	_delay_ms
                                           ;	.line	374; "MC30P6280.c"	for (i = 0; i < 3; i++)
000053   19a1     incr    0x21             	INCR	r0x1011
000054   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
000055   19a2     incr    0x22             	INCR	r0x1012
                                           ;;unsigned compare: left < lit(0x3=3), size=2
000056   0b00     movai   0                	MOVAI	0x00
000057   1222     rsubar  0x22             	RSUBAR	r0x1012
000058   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000059   285c     goto    0x5c             	GOTO	_00381_DS_
00005a   0b03     movai   0x3              	MOVAI	0x03
00005b   1221     rsubar  0x21             	RSUBAR	r0x1011
                                           _00381_DS_
00005c   3003     jbset   0x3, 0           	JBSET	STATUS,0
00005d   2833     goto    0x33             	GOTO	_00288_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	398; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
00005e   1da7     clrr    0x27             	CLRR	_detect_cnt
                                           ;	.line	400; "MC30P6280.c"	if (IS_DETECT_PERSON_FLAG)
00005f   312a     jbset   0x2a, 0x2        	JBSET	_flag1,2
000060   28a4     goto    0xa4             	GOTO	_00272_DS_
                                           ;	.line	403; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 0;
000061   3d2a     bclr    0x2a, 0x2        	BCLR	_flag1,2
                                           ;	.line	405; "MC30P6280.c"	led_on();		// 点亮LED
000062   20f1     call    0xf1             	CALL	_led_on
                                           ;	.line	406; "MC30P6280.c"	delay_ms(5000); // 5s内不做检测
000063   0b88     movai   0x88             	MOVAI	0x88
000064   1594     movra   0x14             	MOVRA	STK02
000065   0b13     movai   0x13             	MOVAI	0x13
000066   1595     movra   0x15             	MOVRA	STK01
000067   0b00     movai   0                	MOVAI	0x00
000068   1596     movra   0x16             	MOVRA	STK00
000069   0b00     movai   0                	MOVAI	0x00
00006a   218b     call    0x18b            	CALL	_delay_ms
                                           ;	.line	409; "MC30P6280.c"	for (i = 0; i < 500; i++)
00006b   1da1     clrr    0x21             	CLRR	r0x1011
00006c   1da2     clrr    0x22             	CLRR	r0x1012
                                           _00290_DS_
                                           ;	.line	411; "MC30P6280.c"	pir_val = get_pirdata();
00006d   20fa     call    0xfa             	CALL	_get_pirdata
00006e   15a4     movra   0x24             	MOVRA	(_pir_val + 1)
00006f   1616     movar   0x16             	MOVAR	STK00
000070   15a3     movra   0x23             	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0x78=120), size=2
                                           ;	.line	412; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
000071   0b00     movai   0                	MOVAI	0x00
000072   1224     rsubar  0x24             	RSUBAR	(_pir_val + 1)
000073   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000074   2877     goto    0x77             	GOTO	_00382_DS_
000075   0b78     movai   0x78             	MOVAI	0x78
000076   1223     rsubar  0x23             	RSUBAR	_pir_val
                                           _00382_DS_
000077   3003     jbset   0x3, 0           	JBSET	STATUS,0
000078   287b     goto    0x7b             	GOTO	_00259_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	415; "MC30P6280.c"	detect_cnt++;
000079   19a7     incr    0x27             	INCR	_detect_cnt
00007a   287c     goto    0x7c             	GOTO	_00260_DS_
                                           _00259_DS_
                                           ;	.line	419; "MC30P6280.c"	detect_cnt = 0;
00007b   1da7     clrr    0x27             	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           _00260_DS_
                                           ;	.line	422; "MC30P6280.c"	if (detect_cnt >= 2)
00007c   0b02     movai   0x2              	MOVAI	0x02
00007d   1227     rsubar  0x27             	RSUBAR	_detect_cnt
00007e   3003     jbset   0x3, 0           	JBSET	STATUS,0
00007f   2883     goto    0x83             	GOTO	_00262_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	424; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
000080   1da7     clrr    0x27             	CLRR	_detect_cnt
                                           ;	.line	425; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
000081   392a     bset    0x2a, 0x2        	BSET	_flag1,2
                                           ;	.line	426; "MC30P6280.c"	break;
000082   2896     goto    0x96             	GOTO	_00263_DS_
                                           _00262_DS_
                                           ;	.line	429; "MC30P6280.c"	delay_ms(20);
000083   0b14     movai   0x14             	MOVAI	0x14
000084   1594     movra   0x14             	MOVRA	STK02
000085   0b00     movai   0                	MOVAI	0x00
000086   1595     movra   0x15             	MOVRA	STK01
000087   0b00     movai   0                	MOVAI	0x00
000088   1596     movra   0x16             	MOVRA	STK00
000089   0b00     movai   0                	MOVAI	0x00
00008a   218b     call    0x18b            	CALL	_delay_ms
                                           ;	.line	409; "MC30P6280.c"	for (i = 0; i < 500; i++)
00008b   19a1     incr    0x21             	INCR	r0x1011
00008c   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
00008d   19a2     incr    0x22             	INCR	r0x1012
                                           ;;unsigned compare: left < lit(0x1F4=500), size=2
00008e   0b01     movai   0x1              	MOVAI	0x01
00008f   1222     rsubar  0x22             	RSUBAR	r0x1012
000090   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000091   2894     goto    0x94             	GOTO	_00384_DS_
000092   0bf4     movai   0xf4             	MOVAI	0xf4
000093   1221     rsubar  0x21             	RSUBAR	r0x1011
                                           _00384_DS_
000094   3003     jbset   0x3, 0           	JBSET	STATUS,0
000095   286d     goto    0x6d             	GOTO	_00290_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00263_DS_
                                           ;	.line	431; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
000096   1da7     clrr    0x27             	CLRR	_detect_cnt
                                           ;	.line	433; "MC30P6280.c"	if (1 == IS_DETECT_PERSON_FLAG)
000097   1da1     clrr    0x21             	CLRR	r0x1011
000098   352a     jbclr   0x2a, 0x2        	JBCLR	_flag1,2
000099   19a1     incr    0x21             	INCR	r0x1011
00009a   1621     movar   0x21             	MOVAR	r0x1011
00009b   0801     xorai   0x1              	XORAI	0x01
00009c   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
00009d   28a0     goto    0xa0             	GOTO	_00267_DS_
                                           ;	.line	437; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 0;
00009e   3d2a     bclr    0x2a, 0x2        	BCLR	_flag1,2
                                           ;	.line	438; "MC30P6280.c"	continue;
00009f   282b     goto    0x2b             	GOTO	_00286_DS_
                                           _00267_DS_
                                           ;	.line	440; "MC30P6280.c"	else if (0 == IS_DETECT_PERSON_FLAG)
0000a0   352a     jbclr   0x2a, 0x2        	JBCLR	_flag1,2
0000a1   28a4     goto    0xa4             	GOTO	_00272_DS_
                                           ;	.line	443; "MC30P6280.c"	led_off(); // 熄灭LED
0000a2   20ee     call    0xee             	CALL	_led_off
                                           ;	.line	444; "MC30P6280.c"	cur_light_status = 0;
0000a3   1dab     clrr    0x2b             	CLRR	_cur_light_status
                                           _00272_DS_
                                           ;	.line	451; "MC30P6280.c"	if (0 == cur_light_status)
0000a4   0b00     movai   0                	MOVAI	0x00
0000a5   172b     orar    0x2b             	ORAR	_cur_light_status
0000a6   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0000a7   282b     goto    0x2b             	GOTO	_00286_DS_
                                           ;	.line	454; "MC30P6280.c"	TMRCR = 0x40;			   // 时钟源为内部 32768 Hz 低频
0000a8   0b40     movai   0x40             	MOVAI	0x40
0000a9   15cb     movra   0x4b             	MOVRA	_TMRCR
                                           ;	.line	455; "MC30P6280.c"	T0CR = 4;				   // 预分频器分配给T0(而不是WDT)，32分频
0000aa   0b04     movai   0x4              	MOVAI	0x04
0000ab   15c1     movra   0x41             	MOVRA	_T0CR
                                           ;	.line	456; "MC30P6280.c"	T0CNT = 255 - T0_CNT_TIME; // 递增计数器(20ms产生一次中断)
0000ac   0beb     movai   0xeb             	MOVAI	0xeb
0000ad   1581     movra   0x1              	MOVRA	_T0CNT
                                           ;	.line	457; "MC30P6280.c"	T0IE = 1;				   // 打开定时器
0000ae   380e     bset    0xe, 0           	BSET	_INTEbits,0
                                           ;	.line	460; "MC30P6280.c"	Stop();
0000af   000b     sleep                    	stop	
                                           ;	.line	461; "MC30P6280.c"	Nop();
0000b0   0000     nop                      	nop	
                                           ;	.line	462; "MC30P6280.c"	Nop();
0000b1   0000     nop                      	nop	
                                           ;	.line	465; "MC30P6280.c"	T0IE = 0;
0000b2   3c0e     bclr    0xe, 0           	BCLR	_INTEbits,0
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x10=16), size=1
                                           ;	.line	467; "MC30P6280.c"	if (wake_up_times <= 15)
0000b3   0b10     movai   0x10             	MOVAI	0x10
0000b4   1229     rsubar  0x29             	RSUBAR	_wake_up_times
0000b5   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
0000b6   28b8     goto    0xb8             	GOTO	_00314_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	469; "MC30P6280.c"	wake_up_times++;
0000b7   19a9     incr    0x29             	INCR	_wake_up_times
                                           _00314_DS_
                                           ;	.line	472; "MC30P6280.c"	for (i = 0; i < 3; i++)
0000b8   1da1     clrr    0x21             	CLRR	r0x1011
0000b9   1da2     clrr    0x22             	CLRR	r0x1012
                                           _00292_DS_
                                           ;	.line	474; "MC30P6280.c"	pir_val = get_pirdata();
0000ba   20fa     call    0xfa             	CALL	_get_pirdata
0000bb   15a4     movra   0x24             	MOVRA	(_pir_val + 1)
0000bc   1616     movar   0x16             	MOVAR	STK00
0000bd   15a3     movra   0x23             	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           ;	.line	476; "MC30P6280.c"	if (wake_up_times >= 15)
0000be   0b0f     movai   0xf              	MOVAI	0x0f
0000bf   1229     rsubar  0x29             	RSUBAR	_wake_up_times
0000c0   3003     jbset   0x3, 0           	JBSET	STATUS,0
0000c1   28d2     goto    0xd2             	GOTO	_00281_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x78=120), size=2
                                           ;	.line	478; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
0000c2   0b00     movai   0                	MOVAI	0x00
0000c3   1224     rsubar  0x24             	RSUBAR	(_pir_val + 1)
0000c4   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0000c5   28c8     goto    0xc8             	GOTO	_00387_DS_
0000c6   0b78     movai   0x78             	MOVAI	0x78
0000c7   1223     rsubar  0x23             	RSUBAR	_pir_val
                                           _00387_DS_
0000c8   3003     jbset   0x3, 0           	JBSET	STATUS,0
0000c9   28cc     goto    0xcc             	GOTO	_00276_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	481; "MC30P6280.c"	detect_cnt++;
0000ca   19a7     incr    0x27             	INCR	_detect_cnt
0000cb   28cd     goto    0xcd             	GOTO	_00277_DS_
                                           _00276_DS_
                                           ;	.line	485; "MC30P6280.c"	detect_cnt = 0;
0000cc   1da7     clrr    0x27             	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00277_DS_
                                           ;	.line	488; "MC30P6280.c"	if (detect_cnt >= 3)
0000cd   0b03     movai   0x3              	MOVAI	0x03
0000ce   1227     rsubar  0x27             	RSUBAR	_detect_cnt
0000cf   3003     jbset   0x3, 0           	JBSET	STATUS,0
0000d0   28d2     goto    0xd2             	GOTO	_00281_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	490; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
0000d1   392a     bset    0x2a, 0x2        	BSET	_flag1,2
                                           _00281_DS_
                                           ;	.line	494; "MC30P6280.c"	delay_ms(20);
0000d2   0b14     movai   0x14             	MOVAI	0x14
0000d3   1594     movra   0x14             	MOVRA	STK02
0000d4   0b00     movai   0                	MOVAI	0x00
0000d5   1595     movra   0x15             	MOVRA	STK01
0000d6   0b00     movai   0                	MOVAI	0x00
0000d7   1596     movra   0x16             	MOVRA	STK00
0000d8   0b00     movai   0                	MOVAI	0x00
0000d9   218b     call    0x18b            	CALL	_delay_ms
                                           ;	.line	472; "MC30P6280.c"	for (i = 0; i < 3; i++)
0000da   19a1     incr    0x21             	INCR	r0x1011
0000db   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0000dc   19a2     incr    0x22             	INCR	r0x1012
                                           ;;unsigned compare: left < lit(0x3=3), size=2
0000dd   0b00     movai   0                	MOVAI	0x00
0000de   1222     rsubar  0x22             	RSUBAR	r0x1012
0000df   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0000e0   28e3     goto    0xe3             	GOTO	_00389_DS_
0000e1   0b03     movai   0x3              	MOVAI	0x03
0000e2   1221     rsubar  0x21             	RSUBAR	r0x1011
                                           _00389_DS_
0000e3   3003     jbset   0x3, 0           	JBSET	STATUS,0
0000e4   28ba     goto    0xba             	GOTO	_00292_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	497; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
0000e5   1da7     clrr    0x27             	CLRR	_detect_cnt
0000e6   282b     goto    0x2b             	GOTO	_00286_DS_
                                           ;	.line	501; "MC30P6280.c"	}
0000e7   000c     return                   	RETURN	
                                           ; exit point of _mode_pir
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_detected_light	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _get_detected_light	;Function start
                                           ; 2 exit points
                                           ;	.line	328; "MC30P6280.c"	if (LIGHT_SENSOR_PIN)
0000e8   3086     jbset   0x6, 0x1         	JBSET	_P1bits,1
0000e9   28ec     goto    0xec             	GOTO	_00243_DS_
                                           ;	.line	331; "MC30P6280.c"	return 1;
0000ea   0b01     movai   0x1              	MOVAI	0x01
0000eb   28ed     goto    0xed             	GOTO	_00245_DS_
                                           _00243_DS_
                                           ;	.line	336; "MC30P6280.c"	return 2;
0000ec   0b02     movai   0x2              	MOVAI	0x02
                                           _00245_DS_
                                           ;	.line	338; "MC30P6280.c"	}
0000ed   000c     return                   	RETURN	
                                           ; exit point of _get_detected_light
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _led_off	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_input_pull_up
                                           ;   ___set_input_pull_up
                                           ;; Starting pCode block
                                           _led_off	;Function start
                                           ; 2 exit points
                                           ;	.line	320; "MC30P6280.c"	__set_input_pull_up();
0000ee   20f7     call    0xf7             	CALL	___set_input_pull_up
                                           ;	.line	321; "MC30P6280.c"	P12D = 1;
0000ef   3906     bset    0x6, 0x2         	BSET	_P1bits,2
                                           ;	.line	322; "MC30P6280.c"	}
0000f0   000c     return                   	RETURN	
                                           ; exit point of _led_off
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _led_on	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_output_open_drain
                                           ;   ___set_output_open_drain
                                           ;; Starting pCode block
                                           _led_on	;Function start
                                           ; 2 exit points
                                           ;	.line	313; "MC30P6280.c"	__set_output_open_drain();
0000f1   20f4     call    0xf4             	CALL	___set_output_open_drain
                                           ;	.line	314; "MC30P6280.c"	P12D = 0;
0000f2   3d06     bclr    0x6, 0x2         	BCLR	_P1bits,2
                                           ;	.line	315; "MC30P6280.c"	}
0000f3   000c     return                   	RETURN	
                                           ; exit point of _led_on
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;	.line	306; "MC30P6280.c"	DDR1 &= ~(0x01 << 3); // P13配置为输出模式，P13只有开漏输出
0000f4   3dc6     bclr    0x46, 0x3        	BCLR	_DDR1,3
                                           ;	.line	307; "MC30P6280.c"	P13D = 0;
0000f5   3d86     bclr    0x6, 0x3         	BCLR	_P1bits,3
                                           ;	.line	308; "MC30P6280.c"	}
0000f6   000c     return                   	RETURN	
                                           ; exit point of ___set_output_open_drain
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;	.line	299; "MC30P6280.c"	DDR1 |= 0x01 << 3;	   // P13配置成输入模式
0000f7   39c6     bset    0x46, 0x3        	BSET	_DDR1,3
                                           ;	.line	300; "MC30P6280.c"	PUCON &= ~(0x01 << 3); // 使能P13上拉电阻
0000f8   3d8d     bclr    0xd, 0x3         	BCLR	_PUCON,3
                                           ;	.line	301; "MC30P6280.c"	}
0000f9   000c     return                   	RETURN	
                                           ; exit point of ___set_input_pull_up
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_pirdata	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _pir_pin_out
                                           ;   _delay_100us
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_in
                                           ;   _pir_pin_out
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_100us
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_in
                                           ;   _pir_pin_out
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;8 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;   r0x100F
                                           ;   r0x1010
                                           ;; Starting pCode block
                                           _get_pirdata	;Function start
                                           ; 2 exit points
                                           ;	.line	200; "MC30P6280.c"	GIE = 0; // 关闭总中断
0000fa   3f8e     bclr    0xe, 0x7         	BCLR	_INTEbits,7
                                           ;	.line	202; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
0000fb   2186     call    0x186            	CALL	_pir_pin_out
                                           ;	.line	203; "MC30P6280.c"	PIR_PIN = 1;   // PIR引脚输出高电平
0000fc   3a06     bset    0x6, 0x4         	BSET	_P1bits,4
                                           ;	.line	205; "MC30P6280.c"	delay_100us(1); // 延时100us
0000fd   0b01     movai   0x1              	MOVAI	0x01
0000fe   1594     movra   0x14             	MOVRA	STK02
0000ff   0b00     movai   0                	MOVAI	0x00
000100   1595     movra   0x15             	MOVRA	STK01
000101   0b00     movai   0                	MOVAI	0x00
000102   1596     movra   0x16             	MOVRA	STK00
000103   0b00     movai   0                	MOVAI	0x00
000104   21c2     call    0x1c2            	CALL	_delay_100us
                                           ;	.line	210; "MC30P6280.c"	delay_5us();
000105   21b7     call    0x1b7            	CALL	_delay_5us
                                           ;	.line	211; "MC30P6280.c"	delay_5us();
000106   21b7     call    0x1b7            	CALL	_delay_5us
                                           ;	.line	213; "MC30P6280.c"	pirData = 0;
000107   1d9c     clrr    0x1c             	CLRR	r0x100C
000108   1d9d     clrr    0x1d             	CLRR	r0x100D
                                           ;	.line	214; "MC30P6280.c"	checkCode = 0;
000109   1d9e     clrr    0x1e             	CLRR	r0x100E
                                           ;	.line	215; "MC30P6280.c"	for (i = 0; i < 19; i++) // 读取19位数据
00010a   1d9f     clrr    0x1f             	CLRR	r0x100F
                                           _00181_DS_
                                           ;	.line	217; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
00010b   2186     call    0x186            	CALL	_pir_pin_out
                                           ;	.line	218; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
00010c   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	220; "MC30P6280.c"	delay_5us();
00010d   21b7     call    0x1b7            	CALL	_delay_5us
                                           ;	.line	222; "MC30P6280.c"	PIR_PIN = 1; // PIR引脚输出高电平
00010e   3a06     bset    0x6, 0x4         	BSET	_P1bits,4
                                           ;	.line	224; "MC30P6280.c"	delay_5us();
00010f   21b7     call    0x1b7            	CALL	_delay_5us
                                           ;	.line	227; "MC30P6280.c"	PIR_PIN_IN(); // 切换输入模式（输入上拉）
000110   2188     call    0x188            	CALL	_pir_pin_in
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	237; "MC30P6280.c"	if (i < 2 || i > 17)
000111   0b02     movai   0x2              	MOVAI	0x02
000112   121f     rsubar  0x1f             	RSUBAR	r0x100F
000113   3003     jbset   0x3, 0           	JBSET	STATUS,0
000114   2919     goto    0x119            	GOTO	_00169_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;swapping arguments (AOP_TYPEs 1/2)
                                           ;;unsigned compare: left >= lit(0x12=18), size=1
000115   0b12     movai   0x12             	MOVAI	0x12
000116   121f     rsubar  0x1f             	RSUBAR	r0x100F
000117   3003     jbset   0x3, 0           	JBSET	STATUS,0
000118   292a     goto    0x12a            	GOTO	_00170_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00169_DS_
                                           ;	.line	239; "MC30P6280.c"	checkCode <<= 1;
000119   161e     movar   0x1e             	MOVAR	r0x100E
00011a   15a0     movra   0x20             	MOVRA	r0x1010
00011b   3c03     bclr    0x3, 0           	BCLR	STATUS,0
00011c   1420     rlar    0x20             	RLAR	r0x1010
00011d   159e     movra   0x1e             	MOVRA	r0x100E
                                           ;	.line	240; "MC30P6280.c"	if (PIR_PIN == 1)
00011e   1da0     clrr    0x20             	CLRR	r0x1010
00011f   3606     jbclr   0x6, 0x4         	JBCLR	_P1bits,4
000120   19a0     incr    0x20             	INCR	r0x1010
000121   1620     movar   0x20             	MOVAR	r0x1010
000122   0801     xorai   0x1              	XORAI	0x01
000123   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000124   2927     goto    0x127            	GOTO	_00164_DS_
                                           ;	.line	242; "MC30P6280.c"	checkCode |= 0x01;
000125   381e     bset    0x1e, 0          	BSET	r0x100E,0
000126   2938     goto    0x138            	GOTO	_00171_DS_
                                           _00164_DS_
                                           ;	.line	246; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
000127   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	247; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
000128   2186     call    0x186            	CALL	_pir_pin_out
000129   2938     goto    0x138            	GOTO	_00171_DS_
                                           _00170_DS_
                                           ;	.line	252; "MC30P6280.c"	pirData <<= 1;
00012a   3c03     bclr    0x3, 0           	BCLR	STATUS,0
00012b   149c     rlr     0x1c             	RLR	r0x100C
00012c   149d     rlr     0x1d             	RLR	r0x100D
                                           ;	.line	253; "MC30P6280.c"	if (PIR_PIN == 1)
00012d   1da0     clrr    0x20             	CLRR	r0x1010
00012e   3606     jbclr   0x6, 0x4         	JBCLR	_P1bits,4
00012f   19a0     incr    0x20             	INCR	r0x1010
000130   1620     movar   0x20             	MOVAR	r0x1010
000131   0801     xorai   0x1              	XORAI	0x01
000132   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000133   2936     goto    0x136            	GOTO	_00167_DS_
                                           ;	.line	255; "MC30P6280.c"	pirData |= 0x01;
000134   381c     bset    0x1c, 0          	BSET	r0x100C,0
000135   2938     goto    0x138            	GOTO	_00171_DS_
                                           _00167_DS_
                                           ;	.line	259; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
000136   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	260; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
000137   2186     call    0x186            	CALL	_pir_pin_out
                                           _00171_DS_
                                           ;	.line	264; "MC30P6280.c"	delay_5us();
000138   21b7     call    0x1b7            	CALL	_delay_5us
                                           ;	.line	215; "MC30P6280.c"	for (i = 0; i < 19; i++) // 读取19位数据
000139   199f     incr    0x1f             	INCR	r0x100F
                                           ;;unsigned compare: left < lit(0x13=19), size=1
00013a   0b13     movai   0x13             	MOVAI	0x13
00013b   121f     rsubar  0x1f             	RSUBAR	r0x100F
00013c   3003     jbset   0x3, 0           	JBSET	STATUS,0
00013d   290b     goto    0x10b            	GOTO	_00181_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	267; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
00013e   2186     call    0x186            	CALL	_pir_pin_out
                                           ;	.line	268; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
00013f   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	271; "MC30P6280.c"	delay_5us();
000140   21b7     call    0x1b7            	CALL	_delay_5us
                                           ;	.line	274; "MC30P6280.c"	GIE = 1; // 开启总中断
000141   3b8e     bset    0xe, 0x7         	BSET	_INTEbits,7
                                           ;	.line	276; "MC30P6280.c"	if (checkCode == 0x04) // 校验头码尾码
000142   161e     movar   0x1e             	MOVAR	r0x100E
000143   0804     xorai   0x4              	XORAI	0x04
000144   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000145   2963     goto    0x163            	GOTO	_00180_DS_
                                           ;	.line	278; "MC30P6280.c"	if ((pirData & (u16)0x8000) != 0) // 校验负数
000146   339d     jbset   0x1d, 0x7        	JBSET	r0x100D,7
000147   2953     goto    0x153            	GOTO	_00175_DS_
                                           ;	.line	280; "MC30P6280.c"	pirData = (~pirData) + 1; // 转换为正数
000148   1c1c     comar   0x1c             	COMAR	r0x100C
000149   159e     movra   0x1e             	MOVRA	r0x100E
00014a   1c1d     comar   0x1d             	COMAR	r0x100D
00014b   159f     movra   0x1f             	MOVRA	r0x100F
00014c   0b01     movai   0x1              	MOVAI	0x01
00014d   1f1e     addar   0x1e             	ADDAR	r0x100E
00014e   159c     movra   0x1c             	MOVRA	r0x100C
00014f   1d9d     clrr    0x1d             	CLRR	r0x100D
000150   149d     rlr     0x1d             	RLR	r0x100D
000151   161f     movar   0x1f             	MOVAR	r0x100F
000152   1f9d     addra   0x1d             	ADDRA	r0x100D
                                           ;;unsigned compare: left < lit(0x5DC=1500), size=2
                                           _00175_DS_
                                           ;	.line	283; "MC30P6280.c"	if (pirData < 1500)
000153   0b05     movai   0x5              	MOVAI	0x05
000154   121d     rsubar  0x1d             	RSUBAR	r0x100D
000155   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000156   2959     goto    0x159            	GOTO	_00221_DS_
000157   0bdc     movai   0xdc             	MOVAI	0xdc
000158   121c     rsubar  0x1c             	RSUBAR	r0x100C
                                           _00221_DS_
000159   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
00015a   295f     goto    0x15f            	GOTO	_00177_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	285; "MC30P6280.c"	return pirData;
00015b   161c     movar   0x1c             	MOVAR	r0x100C
00015c   1596     movra   0x16             	MOVRA	STK00
00015d   161d     movar   0x1d             	MOVAR	r0x100D
00015e   2966     goto    0x166            	GOTO	_00183_DS_
                                           _00177_DS_
                                           ;	.line	289; "MC30P6280.c"	return 0;
00015f   0b00     movai   0                	MOVAI	0x00
000160   1596     movra   0x16             	MOVRA	STK00
000161   0b00     movai   0                	MOVAI	0x00
000162   2966     goto    0x166            	GOTO	_00183_DS_
                                           _00180_DS_
                                           ;	.line	293; "MC30P6280.c"	return 0;
000163   0b00     movai   0                	MOVAI	0x00
000164   1596     movra   0x16             	MOVRA	STK00
000165   0b00     movai   0                	MOVAI	0x00
                                           _00183_DS_
                                           ;	.line	294; "MC30P6280.c"	}
000166   000c     return                   	RETURN	
                                           ; exit point of _get_pirdata
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _sel_pin_config
                                           ;   _light_sensor_pin_config
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _sel_pin_config
                                           ;   _light_sensor_pin_config
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	181; "MC30P6280.c"	GIE = 0;
000167   3f8e     bclr    0xe, 0x7         	BCLR	_INTEbits,7
                                           ;	.line	182; "MC30P6280.c"	C_RAM();
000168   2176     call    0x176            	CALL	_C_RAM
                                           ;	.line	183; "MC30P6280.c"	IO_Init();
000169   216e     call    0x16e            	CALL	_IO_Init
                                           ;	.line	185; "MC30P6280.c"	sel_pin_config();		   // 拨码开关检测引脚的配置
00016a   2183     call    0x183            	CALL	_sel_pin_config
                                           ;	.line	186; "MC30P6280.c"	light_sensor_pin_config(); // 检测光敏的引脚的相关配置
00016b   2180     call    0x180            	CALL	_light_sensor_pin_config
                                           ;	.line	188; "MC30P6280.c"	GIE = 1;
00016c   3b8e     bset    0xe, 0x7         	BSET	_INTEbits,7
                                           ;	.line	189; "MC30P6280.c"	}
00016d   000c     return                   	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	166; "MC30P6280.c"	P1 = 0x00;	  // 1:input 0:output
00016e   1d86     clrr    0x6              	CLRR	_P1
                                           ;	.line	167; "MC30P6280.c"	DDR1 = 0x00;  // 1:input 0:output
00016f   1dc6     clrr    0x46             	CLRR	_DDR1
                                           ;	.line	168; "MC30P6280.c"	PUCON = 0xff; // 0:Effective 1:invalid
000170   0bff     movai   0xff             	MOVAI	0xff
000171   158d     movra   0xd              	MOVRA	_PUCON
                                           ;	.line	169; "MC30P6280.c"	PDCON = 0xff; // 0:Effective 1:invalid
000172   0bff     movai   0xff             	MOVAI	0xff
000173   158b     movra   0xb              	MOVRA	_PDCON
                                           ;	.line	170; "MC30P6280.c"	ODCON = 0x00; // 0:推挽输出  1:开漏输出
000174   1d8c     clrr    0xc              	CLRR	_ODCON
                                           ;	.line	171; "MC30P6280.c"	}
000175   000c     return                   	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _C_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _C_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	155; "MC30P6280.c"	__endasm;
                                           	;
000176   0b3f     movai   0x3f             	movai	0x3F;
000177   1584     movra   0x4              	movra	FSR;
000178   0b2f     movai   0x2f             	movai	47;
000179   15bf     movra   0x3f             	movra	0x3F;
00017a   1b84     decr    0x4              	decr	FSR;
00017b   1d80     clrr    0                	clrr	INDF;
00017c   1abf     djzr    0x3f             	djzr	0x3F;
00017d   297a     goto    0x17a            	goto	$ - 3;
00017e   1dbf     clrr    0x3f             	clrr	0x3F;
                                           	
                                           ;	.line	156; "MC30P6280.c"	}
00017f   000c     return                   	RETURN	
                                           ; exit point of _C_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _light_sensor_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _light_sensor_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	132; "MC30P6280.c"	DDR1 |= 0x01 << 1;
000180   38c6     bset    0x46, 0x1        	BSET	_DDR1,1
                                           ;	.line	134; "MC30P6280.c"	PDCON &= ~(0x01 << 1); // 使能下拉电阻
000181   3c8b     bclr    0xb, 0x1         	BCLR	_PDCON,1
                                           ;	.line	135; "MC30P6280.c"	}
000182   000c     return                   	RETURN	
                                           ; exit point of _light_sensor_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sel_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _sel_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	125; "MC30P6280.c"	DDR1 |= 0x01;	  // 输入模式
000183   3846     bset    0x46, 0          	BSET	_DDR1,0
                                           ;	.line	126; "MC30P6280.c"	PUCON &= ~(0x01); // 使能上拉电阻
000184   3c0d     bclr    0xd, 0           	BCLR	_PUCON,0
                                           ;	.line	127; "MC30P6280.c"	}
000185   000c     return                   	RETURN	
                                           ; exit point of _sel_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pir_pin_out	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pir_pin_out	;Function start
                                           ; 2 exit points
                                           ;	.line	117; "MC30P6280.c"	DDR1 &= ~(0x01 << 4);
000186   3e46     bclr    0x46, 0x4        	BCLR	_DDR1,4
                                           ;	.line	118; "MC30P6280.c"	}
000187   000c     return                   	RETURN	
                                           ; exit point of _pir_pin_out
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pir_pin_in	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pir_pin_in	;Function start
                                           ; 2 exit points
                                           ;	.line	108; "MC30P6280.c"	DDR1 |= 0x01 << 4; // 输入模式
000188   3a46     bset    0x46, 0x4        	BSET	_DDR1,4
                                           ;	.line	111; "MC30P6280.c"	PUCON &= ~(0x01 << 4); // 内部上拉有效
000189   3e0d     bclr    0xd, 0x4         	BCLR	_PUCON,4
                                           ;	.line	112; "MC30P6280.c"	}
00018a   000c     return                   	RETURN	
                                           ; exit point of _pir_pin_in
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;11 compiler assigned registers:
                                           ;   r0x1007
                                           ;   STK00
                                           ;   r0x1008
                                           ;   STK01
                                           ;   r0x1009
                                           ;   STK02
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	91; "MC30P6280.c"	void delay_ms(u32 xms)
00018b   159a     movra   0x1a             	MOVRA	r0x1007
00018c   1616     movar   0x16             	MOVAR	STK00
00018d   1599     movra   0x19             	MOVRA	r0x1008
00018e   1615     movar   0x15             	MOVAR	STK01
00018f   1598     movra   0x18             	MOVRA	r0x1009
000190   1614     movar   0x14             	MOVAR	STK02
000191   1597     movra   0x17             	MOVRA	r0x100A
                                           _00127_DS_
                                           ;	.line	93; "MC30P6280.c"	while (xms)
000192   1617     movar   0x17             	MOVAR	r0x100A
000193   1718     orar    0x18             	ORAR	r0x1009
000194   1719     orar    0x19             	ORAR	r0x1008
000195   171a     orar    0x1a             	ORAR	r0x1007
000196   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
000197   29b6     goto    0x1b6            	GOTO	_00130_DS_
                                           ;	.line	96; "MC30P6280.c"	while (i--)
000198   0b13     movai   0x13             	MOVAI	0x13
000199   159b     movra   0x1b             	MOVRA	r0x100B
00019a   0b02     movai   0x2              	MOVAI	0x02
00019b   159c     movra   0x1c             	MOVRA	r0x100C
                                           _00124_DS_
00019c   161b     movar   0x1b             	MOVAR	r0x100B
00019d   159d     movra   0x1d             	MOVRA	r0x100D
00019e   161c     movar   0x1c             	MOVAR	r0x100C
00019f   159e     movra   0x1e             	MOVRA	r0x100E
0001a0   0bff     movai   0xff             	MOVAI	0xff
0001a1   1f9b     addra   0x1b             	ADDRA	r0x100B
0001a2   3003     jbset   0x3, 0           	JBSET	STATUS,0
0001a3   1b9c     decr    0x1c             	DECR	r0x100C
0001a4   161d     movar   0x1d             	MOVAR	r0x100D
0001a5   171e     orar    0x1e             	ORAR	r0x100E
0001a6   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0001a7   29aa     goto    0x1aa            	GOTO	_00126_DS_
                                           ;	.line	98; "MC30P6280.c"	Nop();
0001a8   0000     nop                      	nop	
0001a9   299c     goto    0x19c            	GOTO	_00124_DS_
                                           _00126_DS_
                                           ;	.line	100; "MC30P6280.c"	xms--;
0001aa   0bff     movai   0xff             	MOVAI	0xff
0001ab   1f97     addra   0x17             	ADDRA	r0x100A
0001ac   0bff     movai   0xff             	MOVAI	0xff
0001ad   3003     jbset   0x3, 0           	JBSET	STATUS,0
0001ae   1f98     addra   0x18             	ADDRA	r0x1009
0001af   0bff     movai   0xff             	MOVAI	0xff
0001b0   3003     jbset   0x3, 0           	JBSET	STATUS,0
0001b1   1f99     addra   0x19             	ADDRA	r0x1008
0001b2   0bff     movai   0xff             	MOVAI	0xff
0001b3   3003     jbset   0x3, 0           	JBSET	STATUS,0
0001b4   1f9a     addra   0x1a             	ADDRA	r0x1007
0001b5   2992     goto    0x192            	GOTO	_00127_DS_
                                           _00130_DS_
                                           ;	.line	102; "MC30P6280.c"	}
0001b6   000c     return                   	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_5us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;2 compiler assigned registers:
                                           ;   r0x1007
                                           ;   r0x1008
                                           ;; Starting pCode block
                                           _delay_5us	;Function start
                                           ; 2 exit points
                                           ;	.line	77; "MC30P6280.c"	while (xus--)
0001b7   0b02     movai   0x2              	MOVAI	0x02
0001b8   159a     movra   0x1a             	MOVRA	r0x1007
                                           _00116_DS_
0001b9   161a     movar   0x1a             	MOVAR	r0x1007
0001ba   1599     movra   0x19             	MOVRA	r0x1008
0001bb   1b9a     decr    0x1a             	DECR	r0x1007
0001bc   0b00     movai   0                	MOVAI	0x00
0001bd   1719     orar    0x19             	ORAR	r0x1008
0001be   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0001bf   29c1     goto    0x1c1            	GOTO	_00119_DS_
                                           ;	.line	85; "MC30P6280.c"	__endasm;
                                           	;
                                           	
0001c0   29b9     goto    0x1b9            	GOTO	_00116_DS_
                                           _00119_DS_
                                           ;	.line	87; "MC30P6280.c"	}
0001c1   000c     return                   	RETURN	
                                           ; exit point of _delay_5us
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_100us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;8 compiler assigned registers:
                                           ;   r0x1007
                                           ;   STK00
                                           ;   r0x1008
                                           ;   STK01
                                           ;   r0x1009
                                           ;   STK02
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;; Starting pCode block
                                           _delay_100us	;Function start
                                           ; 2 exit points
                                           ;	.line	58; "MC30P6280.c"	void delay_100us(u32 xus)
0001c2   159a     movra   0x1a             	MOVRA	r0x1007
0001c3   1616     movar   0x16             	MOVAR	STK00
0001c4   1599     movra   0x19             	MOVRA	r0x1008
0001c5   1615     movar   0x15             	MOVAR	STK01
0001c6   1598     movra   0x18             	MOVRA	r0x1009
0001c7   1614     movar   0x14             	MOVAR	STK02
0001c8   1597     movra   0x17             	MOVRA	r0x100A
                                           _00108_DS_
                                           ;	.line	60; "MC30P6280.c"	while (xus)
0001c9   1617     movar   0x17             	MOVAR	r0x100A
0001ca   1718     orar    0x18             	ORAR	r0x1009
0001cb   1719     orar    0x19             	ORAR	r0x1008
0001cc   171a     orar    0x1a             	ORAR	r0x1007
0001cd   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0001ce   29e4     goto    0x1e4            	GOTO	_00111_DS_
                                           ;	.line	63; "MC30P6280.c"	while (i)
0001cf   0b61     movai   0x61             	MOVAI	0x61
0001d0   159b     movra   0x1b             	MOVRA	r0x100B
                                           _00105_DS_
0001d1   0b00     movai   0                	MOVAI	0x00
0001d2   171b     orar    0x1b             	ORAR	r0x100B
0001d3   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0001d4   29d8     goto    0x1d8            	GOTO	_00107_DS_
                                           ;	.line	65; "MC30P6280.c"	Nop();
0001d5   0000     nop                      	nop	
                                           ;	.line	66; "MC30P6280.c"	i--;
0001d6   1b9b     decr    0x1b             	DECR	r0x100B
0001d7   29d1     goto    0x1d1            	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	68; "MC30P6280.c"	xus--;
0001d8   0bff     movai   0xff             	MOVAI	0xff
0001d9   1f97     addra   0x17             	ADDRA	r0x100A
0001da   0bff     movai   0xff             	MOVAI	0xff
0001db   3003     jbset   0x3, 0           	JBSET	STATUS,0
0001dc   1f98     addra   0x18             	ADDRA	r0x1009
0001dd   0bff     movai   0xff             	MOVAI	0xff
0001de   3003     jbset   0x3, 0           	JBSET	STATUS,0
0001df   1f99     addra   0x19             	ADDRA	r0x1008
0001e0   0bff     movai   0xff             	MOVAI	0xff
0001e1   3003     jbset   0x3, 0           	JBSET	STATUS,0
0001e2   1f9a     addra   0x1a             	ADDRA	r0x1007
0001e3   29c9     goto    0x1c9            	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	70; "MC30P6280.c"	}
0001e4   000c     return                   	RETURN	
                                           ; exit point of _delay_100us
                                           
                                           
                                           ;	code size estimation:
                                           ;	  456+    0 =   456 instructions (  912 byte)
                                           
                                           	end
                                           ;--------------------------------------------------------
                                           ; File Created by SN-SDCC : SinoMCU ANSI-C Compiler
                                           ; Version 2.0.0 (Dec 11 2019) (MINGW32)
                                           ; This file was generated Tue Aug 27 15:08:05 2024
                                           ;--------------------------------------------------------
                                           ; MC30 port for the RISC core
                                           ;--------------------------------------------------------
                                           ;	.file	"MC30P6280.c"
                                           	list	p=1K6280
                                           	radix dec
                                           	include "1K6280.inc"
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_INDFbits
                                           	extern	_T0CNTbits
                                           	extern	_PCLbits
                                           	extern	_STATUSbits
                                           	extern	_FSRbits
                                           	extern	_P1bits
                                           	extern	_MCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_PCLATHbits
                                           	extern	_PDCONbits
                                           	extern	_ODCONbits
                                           	extern	_PUCONbits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_T0CRbits
                                           	extern	_DDR1bits
                                           	extern	_TMRCRbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_INDF
                                           	extern	_T0CNT
                                           	extern	_PCL
                                           	extern	_STATUS
                                           	extern	_FSR
                                           	extern	_P1
                                           	extern	_MCR
                                           	extern	_P1KBCR
                                           	extern	_PCLATH
                                           	extern	_PDCON
                                           	extern	_ODCON
                                           	extern	_PUCON
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_T0CR
                                           	extern	_DDR1
                                           	extern	_TMRCR
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_Sys_Init
                                           	global	_IO_Init
                                           	global	_C_RAM
                                           	global	_delay_100us
                                           	global	_delay_5us
                                           	global	_delay_ms
                                           	global	_pir_pin_in
                                           	global	_pir_pin_out
                                           	global	_sel_pin_config
                                           	global	_light_sensor_pin_config
                                           	global	_get_pirdata
                                           	global	___set_input_pull_up
                                           	global	___set_output_open_drain
                                           	global	_led_on
                                           	global	_led_off
                                           	global	_get_detected_light
                                           	global	_mode_pir
                                           	global	_main
                                           	global	_int_isr
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_cur_light_status
                                           	global	_detect_cnt
                                           	global	_pir_val
                                           	global	_loop_cnt
                                           	global	_wake_up_times
                                           	global	_flag1
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0010
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC30P6280_0	udata
                                           _abuf	res	1
                                           
                                           UD_MC30P6280_1	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC30P6280_2	udata
                                           _detect_cnt	res	1
                                           
                                           UD_MC30P6280_3	udata
                                           _pir_val	res	2
                                           
                                           UD_MC30P6280_4	udata
                                           _loop_cnt	res	1
                                           
                                           UD_MC30P6280_5	udata
                                           _wake_up_times	res	1
                                           
                                           UD_MC30P6280_6	udata
                                           _flag1	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC30P6280_0	udata
                                           r0x100A	res	1
                                           r0x1009	res	1
                                           r0x1008	res	1
                                           r0x1007	res	1
                                           r0x100B	res	1
                                           r0x100C	res	1
                                           r0x100D	res	1
                                           r0x100E	res	1
                                           r0x100F	res	1
                                           r0x1010	res	1
                                           r0x1011	res	1
                                           r0x1012	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ID_MC30P6280_0	idata
                                           _cur_light_status
                                           	db	0x00
                                           
                                           
                                           ;@Allocation info for local variables in function 'delay_100us'
                                           ;@delay_100us C_RAM                     Allocated to registers ;size:2
                                           ;@delay_100us IO_Init                   Allocated to registers ;size:2
                                           ;@delay_100us Sys_Init                  Allocated to registers ;size:2
                                           ;@delay_100us delay_100us               Allocated to registers ;size:2
                                           ;@delay_100us INDFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us PCLbits                   Allocated to registers ;size:1
                                           ;@delay_100us STATUSbits                Allocated to registers ;size:1
                                           ;@delay_100us FSRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1bits                    Allocated to registers ;size:1
                                           ;@delay_100us MCRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_100us PCLATHbits                Allocated to registers ;size:1
                                           ;@delay_100us PDCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us ODCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us PUCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us INTEbits                  Allocated to registers ;size:1
                                           ;@delay_100us INTFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us DDR1bits                  Allocated to registers ;size:1
                                           ;@delay_100us TMRCRbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_100us T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_100us abuf                      Allocated to registers ;size:1
                                           ;@delay_100us statusbuf                 Allocated to registers ;size:1
                                           ;@delay_100us cur_light_status          Allocated to registers ;size:1
                                           ;@delay_100us detect_cnt                Allocated to registers ;size:1
                                           ;@delay_100us pir_val                   Allocated to registers ;size:2
                                           ;@delay_100us loop_cnt                  Allocated to registers ;size:1
                                           ;@delay_100us wake_up_times             Allocated to registers ;size:1
                                           ;@delay_100us flag1                     Allocated to registers ;size:1
                                           ;@delay_100us xus                       Allocated to registers ;size:4
                                           ;@delay_100us i                         Allocated to registers r0x100B ;size:1
                                           ;@delay_100us INDF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CNT                     Allocated to registers ;size:1
                                           ;@delay_100us PCL                       Allocated to registers ;size:1
                                           ;@delay_100us STATUS                    Allocated to registers ;size:1
                                           ;@delay_100us FSR                       Allocated to registers ;size:1
                                           ;@delay_100us P1                        Allocated to registers ;size:1
                                           ;@delay_100us MCR                       Allocated to registers ;size:1
                                           ;@delay_100us P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_100us PCLATH                    Allocated to registers ;size:1
                                           ;@delay_100us PDCON                     Allocated to registers ;size:1
                                           ;@delay_100us ODCON                     Allocated to registers ;size:1
                                           ;@delay_100us PUCON                     Allocated to registers ;size:1
                                           ;@delay_100us INTE                      Allocated to registers ;size:1
                                           ;@delay_100us INTF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CR                      Allocated to registers ;size:1
                                           ;@delay_100us DDR1                      Allocated to registers ;size:1
                                           ;@delay_100us TMRCR                     Allocated to registers ;size:1
                                           ;@delay_100us T1CR                      Allocated to registers ;size:1
                                           ;@delay_100us T1CNT                     Allocated to registers ;size:1
                                           ;@delay_100us T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_100us T1DATA                    Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_100us';
                                           ;@Allocation info for local variables in function 'delay_5us'
                                           ;@delay_5us xus                       Allocated to registers r0x1007 ;size:1
                                           ;@end Allocation info for local variables in function 'delay_5us';
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms xms                       Allocated to registers ;size:4
                                           ;@delay_ms i                         Allocated to registers r0x100B r0x100C ;size:2
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'pir_pin_in'
                                           ;@end Allocation info for local variables in function 'pir_pin_in';
                                           ;@Allocation info for local variables in function 'pir_pin_out'
                                           ;@end Allocation info for local variables in function 'pir_pin_out';
                                           ;@Allocation info for local variables in function 'sel_pin_config'
                                           ;@end Allocation info for local variables in function 'sel_pin_config';
                                           ;@Allocation info for local variables in function 'light_sensor_pin_config'
                                           ;@end Allocation info for local variables in function 'light_sensor_pin_config';
                                           ;@Allocation info for local variables in function 'C_RAM'
                                           ;@end Allocation info for local variables in function 'C_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function 'get_pirdata'
                                           ;@get_pirdata pirData                   Allocated to registers r0x100C r0x100D ;size:2
                                           ;@get_pirdata checkCode                 Allocated to registers r0x100E ;size:1
                                           ;@get_pirdata i                         Allocated to registers r0x100F ;size:1
                                           ;@end Allocation info for local variables in function 'get_pirdata';
                                           ;@Allocation info for local variables in function '__set_input_pull_up'
                                           ;@end Allocation info for local variables in function '__set_input_pull_up';
                                           ;@Allocation info for local variables in function '__set_output_open_drain'
                                           ;@end Allocation info for local variables in function '__set_output_open_drain';
                                           ;@Allocation info for local variables in function 'led_on'
                                           ;@end Allocation info for local variables in function 'led_on';
                                           ;@Allocation info for local variables in function 'led_off'
                                           ;@end Allocation info for local variables in function 'led_off';
                                           ;@Allocation info for local variables in function 'get_detected_light'
                                           ;@end Allocation info for local variables in function 'get_detected_light';
                                           ;@Allocation info for local variables in function 'mode_pir'
                                           ;@mode_pir i                         Allocated to registers r0x1011 r0x1012 ;size:2
                                           ;@end Allocation info for local variables in function 'mode_pir';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@main i                         Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
                                           	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	622; "MC30P6280.c"	__endasm;
                                           	;
                                           	movra	_abuf;
                                           	swapar	_STATUS;
                                           	movra	_statusbuf;
                                           	
                                           ;	.line	624; "MC30P6280.c"	if ((T0IF) && (T0IE))
                                           	JBSET	_INTFbits,0
                                           	GOTO	_00401_DS_
                                           	JBSET	_INTEbits,0
                                           	GOTO	_00401_DS_
                                           ;	.line	626; "MC30P6280.c"	T0CNT = 255 - T0_CNT_TIME; // 递增计数器
                                           	MOVAI	0xeb
                                           	MOVRA	_T0CNT
                                           ;	.line	627; "MC30P6280.c"	T0IF = 0;
                                           	BCLR	_INTFbits,0
                                           _00401_DS_
                                           ;	.line	635; "MC30P6280.c"	__endasm;
                                           	;
                                           	swapar	_statusbuf;
                                           	movra	_STATUS;
                                           	swapr	_abuf;
                                           	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	636; "MC30P6280.c"	}
                                           	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC30P6280	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   _led_off
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _mode_pir
                                           ;   _Sys_Init
                                           ;   _led_off
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _mode_pir
                                           ;3 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	506; "MC30P6280.c"	Sys_Init();
                                           	CALL	_Sys_Init
                                           ;	.line	508; "MC30P6280.c"	P15D = 1;  // 传感器要一直供电
                                           	BSET	_P1bits,5
                                           ;	.line	509; "MC30P6280.c"	led_off(); // 熄灭所有LED
                                           	CALL	_led_off
                                           _00395_DS_
                                           ;	.line	558; "MC30P6280.c"	led_on(); // 点亮LED
                                           	CALL	_led_on
                                           ;	.line	559; "MC30P6280.c"	cur_light_status = 1;
                                           	MOVAI	0x01
                                           	MOVRA	_cur_light_status
                                           ;	.line	560; "MC30P6280.c"	delay_ms(3000);
                                           	MOVAI	0xb8
                                           	MOVRA	STK02
                                           	MOVAI	0x0b
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	561; "MC30P6280.c"	led_off(); // 熄灭LED
                                           	CALL	_led_off
                                           ;	.line	562; "MC30P6280.c"	cur_light_status = 0;
                                           	CLRR	_cur_light_status
                                           ;	.line	564; "MC30P6280.c"	mode_pir(); // 人体感应模式 (内部有关循环)
                                           	CALL	_mode_pir
                                           ;	.line	570; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
                                           	CLRR	_loop_cnt
                                           	GOTO	_00395_DS_
                                           ;	.line	608; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _mode_pir	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _get_detected_light
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _get_detected_light
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;5 compiler assigned registers:
                                           ;   r0x1011
                                           ;   r0x1012
                                           ;   STK00
                                           ;   STK02
                                           ;   STK01
                                           ;; Starting pCode block
                                           _mode_pir	;Function start
                                           ; 2 exit points
                                           _00286_DS_
                                           ;	.line	369; "MC30P6280.c"	if (1 == get_detected_light())
                                           	CALL	_get_detected_light
                                           	MOVRA	r0x1011
                                           	MOVAR	r0x1011
                                           	XORAI	0x01
                                           	JBSET	STATUS,2
                                           	GOTO	_00272_DS_
                                           ;	.line	374; "MC30P6280.c"	for (i = 0; i < 3; i++)
                                           	CLRR	r0x1011
                                           	CLRR	r0x1012
                                           _00288_DS_
                                           ;	.line	376; "MC30P6280.c"	pir_val = get_pirdata();
                                           	CALL	_get_pirdata
                                           	MOVRA	(_pir_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           ;	.line	378; "MC30P6280.c"	if (wake_up_times >= 15)
                                           	MOVAI	0x0f
                                           	RSUBAR	_wake_up_times
                                           	JBSET	STATUS,0
                                           	GOTO	_00256_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x78=120), size=2
                                           ;	.line	380; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
                                           	MOVAI	0x00
                                           	RSUBAR	(_pir_val + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00379_DS_
                                           	MOVAI	0x78
                                           	RSUBAR	_pir_val
                                           _00379_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00251_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	383; "MC30P6280.c"	detect_cnt++;
                                           	INCR	_detect_cnt
                                           	GOTO	_00252_DS_
                                           _00251_DS_
                                           ;	.line	387; "MC30P6280.c"	detect_cnt = 0;
                                           	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00252_DS_
                                           ;	.line	390; "MC30P6280.c"	if (detect_cnt >= 3)
                                           	MOVAI	0x03
                                           	RSUBAR	_detect_cnt
                                           	JBSET	STATUS,0
                                           	GOTO	_00256_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	392; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
                                           	BSET	_flag1,2
                                           _00256_DS_
                                           ;	.line	396; "MC30P6280.c"	delay_ms(20);
                                           	MOVAI	0x14
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	374; "MC30P6280.c"	for (i = 0; i < 3; i++)
                                           	INCR	r0x1011
                                           	JBCLR	STATUS,2
                                           	INCR	r0x1012
                                           ;;unsigned compare: left < lit(0x3=3), size=2
                                           	MOVAI	0x00
                                           	RSUBAR	r0x1012
                                           	JBSET	STATUS,2
                                           	GOTO	_00381_DS_
                                           	MOVAI	0x03
                                           	RSUBAR	r0x1011
                                           _00381_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00288_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	398; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
                                           	CLRR	_detect_cnt
                                           ;	.line	400; "MC30P6280.c"	if (IS_DETECT_PERSON_FLAG)
                                           	JBSET	_flag1,2
                                           	GOTO	_00272_DS_
                                           ;	.line	403; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 0;
                                           	BCLR	_flag1,2
                                           ;	.line	405; "MC30P6280.c"	led_on();		// 点亮LED
                                           	CALL	_led_on
                                           ;	.line	406; "MC30P6280.c"	delay_ms(5000); // 5s内不做检测
                                           	MOVAI	0x88
                                           	MOVRA	STK02
                                           	MOVAI	0x13
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	409; "MC30P6280.c"	for (i = 0; i < 500; i++)
                                           	CLRR	r0x1011
                                           	CLRR	r0x1012
                                           _00290_DS_
                                           ;	.line	411; "MC30P6280.c"	pir_val = get_pirdata();
                                           	CALL	_get_pirdata
                                           	MOVRA	(_pir_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0x78=120), size=2
                                           ;	.line	412; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
                                           	MOVAI	0x00
                                           	RSUBAR	(_pir_val + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00382_DS_
                                           	MOVAI	0x78
                                           	RSUBAR	_pir_val
                                           _00382_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00259_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	415; "MC30P6280.c"	detect_cnt++;
                                           	INCR	_detect_cnt
                                           	GOTO	_00260_DS_
                                           _00259_DS_
                                           ;	.line	419; "MC30P6280.c"	detect_cnt = 0;
                                           	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           _00260_DS_
                                           ;	.line	422; "MC30P6280.c"	if (detect_cnt >= 2)
                                           	MOVAI	0x02
                                           	RSUBAR	_detect_cnt
                                           	JBSET	STATUS,0
                                           	GOTO	_00262_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	424; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
                                           	CLRR	_detect_cnt
                                           ;	.line	425; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
                                           	BSET	_flag1,2
                                           ;	.line	426; "MC30P6280.c"	break;
                                           	GOTO	_00263_DS_
                                           _00262_DS_
                                           ;	.line	429; "MC30P6280.c"	delay_ms(20);
                                           	MOVAI	0x14
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	409; "MC30P6280.c"	for (i = 0; i < 500; i++)
                                           	INCR	r0x1011
                                           	JBCLR	STATUS,2
                                           	INCR	r0x1012
                                           ;;unsigned compare: left < lit(0x1F4=500), size=2
                                           	MOVAI	0x01
                                           	RSUBAR	r0x1012
                                           	JBSET	STATUS,2
                                           	GOTO	_00384_DS_
                                           	MOVAI	0xf4
                                           	RSUBAR	r0x1011
                                           _00384_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00290_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00263_DS_
                                           ;	.line	431; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
                                           	CLRR	_detect_cnt
                                           ;	.line	433; "MC30P6280.c"	if (1 == IS_DETECT_PERSON_FLAG)
                                           	CLRR	r0x1011
                                           	JBCLR	_flag1,2
                                           	INCR	r0x1011
                                           	MOVAR	r0x1011
                                           	XORAI	0x01
                                           	JBSET	STATUS,2
                                           	GOTO	_00267_DS_
                                           ;	.line	437; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 0;
                                           	BCLR	_flag1,2
                                           ;	.line	438; "MC30P6280.c"	continue;
                                           	GOTO	_00286_DS_
                                           _00267_DS_
                                           ;	.line	440; "MC30P6280.c"	else if (0 == IS_DETECT_PERSON_FLAG)
                                           	JBCLR	_flag1,2
                                           	GOTO	_00272_DS_
                                           ;	.line	443; "MC30P6280.c"	led_off(); // 熄灭LED
                                           	CALL	_led_off
                                           ;	.line	444; "MC30P6280.c"	cur_light_status = 0;
                                           	CLRR	_cur_light_status
                                           _00272_DS_
                                           ;	.line	451; "MC30P6280.c"	if (0 == cur_light_status)
                                           	MOVAI	0x00
                                           	ORAR	_cur_light_status
                                           	JBSET	STATUS,2
                                           	GOTO	_00286_DS_
                                           ;	.line	454; "MC30P6280.c"	TMRCR = 0x40;			   // 时钟源为内部 32768 Hz 低频
                                           	MOVAI	0x40
                                           	MOVRA	_TMRCR
                                           ;	.line	455; "MC30P6280.c"	T0CR = 4;				   // 预分频器分配给T0(而不是WDT)，32分频
                                           	MOVAI	0x04
                                           	MOVRA	_T0CR
                                           ;	.line	456; "MC30P6280.c"	T0CNT = 255 - T0_CNT_TIME; // 递增计数器(20ms产生一次中断)
                                           	MOVAI	0xeb
                                           	MOVRA	_T0CNT
                                           ;	.line	457; "MC30P6280.c"	T0IE = 1;				   // 打开定时器
                                           	BSET	_INTEbits,0
                                           ;	.line	460; "MC30P6280.c"	Stop();
                                           	stop	
                                           ;	.line	461; "MC30P6280.c"	Nop();
                                           	nop	
                                           ;	.line	462; "MC30P6280.c"	Nop();
                                           	nop	
                                           ;	.line	465; "MC30P6280.c"	T0IE = 0;
                                           	BCLR	_INTEbits,0
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x10=16), size=1
                                           ;	.line	467; "MC30P6280.c"	if (wake_up_times <= 15)
                                           	MOVAI	0x10
                                           	RSUBAR	_wake_up_times
                                           	JBCLR	STATUS,0
                                           	GOTO	_00314_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	469; "MC30P6280.c"	wake_up_times++;
                                           	INCR	_wake_up_times
                                           _00314_DS_
                                           ;	.line	472; "MC30P6280.c"	for (i = 0; i < 3; i++)
                                           	CLRR	r0x1011
                                           	CLRR	r0x1012
                                           _00292_DS_
                                           ;	.line	474; "MC30P6280.c"	pir_val = get_pirdata();
                                           	CALL	_get_pirdata
                                           	MOVRA	(_pir_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           ;	.line	476; "MC30P6280.c"	if (wake_up_times >= 15)
                                           	MOVAI	0x0f
                                           	RSUBAR	_wake_up_times
                                           	JBSET	STATUS,0
                                           	GOTO	_00281_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x78=120), size=2
                                           ;	.line	478; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
                                           	MOVAI	0x00
                                           	RSUBAR	(_pir_val + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00387_DS_
                                           	MOVAI	0x78
                                           	RSUBAR	_pir_val
                                           _00387_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00276_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	481; "MC30P6280.c"	detect_cnt++;
                                           	INCR	_detect_cnt
                                           	GOTO	_00277_DS_
                                           _00276_DS_
                                           ;	.line	485; "MC30P6280.c"	detect_cnt = 0;
                                           	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00277_DS_
                                           ;	.line	488; "MC30P6280.c"	if (detect_cnt >= 3)
                                           	MOVAI	0x03
                                           	RSUBAR	_detect_cnt
                                           	JBSET	STATUS,0
                                           	GOTO	_00281_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	490; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
                                           	BSET	_flag1,2
                                           _00281_DS_
                                           ;	.line	494; "MC30P6280.c"	delay_ms(20);
                                           	MOVAI	0x14
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	472; "MC30P6280.c"	for (i = 0; i < 3; i++)
                                           	INCR	r0x1011
                                           	JBCLR	STATUS,2
                                           	INCR	r0x1012
                                           ;;unsigned compare: left < lit(0x3=3), size=2
                                           	MOVAI	0x00
                                           	RSUBAR	r0x1012
                                           	JBSET	STATUS,2
                                           	GOTO	_00389_DS_
                                           	MOVAI	0x03
                                           	RSUBAR	r0x1011
                                           _00389_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00292_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	497; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
                                           	CLRR	_detect_cnt
                                           	GOTO	_00286_DS_
                                           ;	.line	501; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _mode_pir
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_detected_light	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _get_detected_light	;Function start
                                           ; 2 exit points
                                           ;	.line	328; "MC30P6280.c"	if (LIGHT_SENSOR_PIN)
                                           	JBSET	_P1bits,1
                                           	GOTO	_00243_DS_
                                           ;	.line	331; "MC30P6280.c"	return 1;
                                           	MOVAI	0x01
                                           	GOTO	_00245_DS_
                                           _00243_DS_
                                           ;	.line	336; "MC30P6280.c"	return 2;
                                           	MOVAI	0x02
                                           _00245_DS_
                                           ;	.line	338; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _get_detected_light
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _led_off	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_input_pull_up
                                           ;   ___set_input_pull_up
                                           ;; Starting pCode block
                                           _led_off	;Function start
                                           ; 2 exit points
                                           ;	.line	320; "MC30P6280.c"	__set_input_pull_up();
                                           	CALL	___set_input_pull_up
                                           ;	.line	321; "MC30P6280.c"	P12D = 1;
                                           	BSET	_P1bits,2
                                           ;	.line	322; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _led_off
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _led_on	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_output_open_drain
                                           ;   ___set_output_open_drain
                                           ;; Starting pCode block
                                           _led_on	;Function start
                                           ; 2 exit points
                                           ;	.line	313; "MC30P6280.c"	__set_output_open_drain();
                                           	CALL	___set_output_open_drain
                                           ;	.line	314; "MC30P6280.c"	P12D = 0;
                                           	BCLR	_P1bits,2
                                           ;	.line	315; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _led_on
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;	.line	306; "MC30P6280.c"	DDR1 &= ~(0x01 << 3); // P13配置为输出模式，P13只有开漏输出
                                           	BCLR	_DDR1,3
                                           ;	.line	307; "MC30P6280.c"	P13D = 0;
                                           	BCLR	_P1bits,3
                                           ;	.line	308; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of ___set_output_open_drain
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;	.line	299; "MC30P6280.c"	DDR1 |= 0x01 << 3;	   // P13配置成输入模式
                                           	BSET	_DDR1,3
                                           ;	.line	300; "MC30P6280.c"	PUCON &= ~(0x01 << 3); // 使能P13上拉电阻
                                           	BCLR	_PUCON,3
                                           ;	.line	301; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of ___set_input_pull_up
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_pirdata	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _pir_pin_out
                                           ;   _delay_100us
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_in
                                           ;   _pir_pin_out
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_100us
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_in
                                           ;   _pir_pin_out
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;8 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;   r0x100F
                                           ;   r0x1010
                                           ;; Starting pCode block
                                           _get_pirdata	;Function start
                                           ; 2 exit points
                                           ;	.line	200; "MC30P6280.c"	GIE = 0; // 关闭总中断
                                           	BCLR	_INTEbits,7
                                           ;	.line	202; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           ;	.line	203; "MC30P6280.c"	PIR_PIN = 1;   // PIR引脚输出高电平
                                           	BSET	_P1bits,4
                                           ;	.line	205; "MC30P6280.c"	delay_100us(1); // 延时100us
                                           	MOVAI	0x01
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           ;	.line	210; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	211; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	213; "MC30P6280.c"	pirData = 0;
                                           	CLRR	r0x100C
                                           	CLRR	r0x100D
                                           ;	.line	214; "MC30P6280.c"	checkCode = 0;
                                           	CLRR	r0x100E
                                           ;	.line	215; "MC30P6280.c"	for (i = 0; i < 19; i++) // 读取19位数据
                                           	CLRR	r0x100F
                                           _00181_DS_
                                           ;	.line	217; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           ;	.line	218; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
                                           	BCLR	_P1bits,4
                                           ;	.line	220; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	222; "MC30P6280.c"	PIR_PIN = 1; // PIR引脚输出高电平
                                           	BSET	_P1bits,4
                                           ;	.line	224; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	227; "MC30P6280.c"	PIR_PIN_IN(); // 切换输入模式（输入上拉）
                                           	CALL	_pir_pin_in
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	237; "MC30P6280.c"	if (i < 2 || i > 17)
                                           	MOVAI	0x02
                                           	RSUBAR	r0x100F
                                           	JBSET	STATUS,0
                                           	GOTO	_00169_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;swapping arguments (AOP_TYPEs 1/2)
                                           ;;unsigned compare: left >= lit(0x12=18), size=1
                                           	MOVAI	0x12
                                           	RSUBAR	r0x100F
                                           	JBSET	STATUS,0
                                           	GOTO	_00170_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00169_DS_
                                           ;	.line	239; "MC30P6280.c"	checkCode <<= 1;
                                           	MOVAR	r0x100E
                                           	MOVRA	r0x1010
                                           	BCLR	STATUS,0
                                           	RLAR	r0x1010
                                           	MOVRA	r0x100E
                                           ;	.line	240; "MC30P6280.c"	if (PIR_PIN == 1)
                                           	CLRR	r0x1010
                                           	JBCLR	_P1bits,4
                                           	INCR	r0x1010
                                           	MOVAR	r0x1010
                                           	XORAI	0x01
                                           	JBSET	STATUS,2
                                           	GOTO	_00164_DS_
                                           ;	.line	242; "MC30P6280.c"	checkCode |= 0x01;
                                           	BSET	r0x100E,0
                                           	GOTO	_00171_DS_
                                           _00164_DS_
                                           ;	.line	246; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
                                           	BCLR	_P1bits,4
                                           ;	.line	247; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           	GOTO	_00171_DS_
                                           _00170_DS_
                                           ;	.line	252; "MC30P6280.c"	pirData <<= 1;
                                           	BCLR	STATUS,0
                                           	RLR	r0x100C
                                           	RLR	r0x100D
                                           ;	.line	253; "MC30P6280.c"	if (PIR_PIN == 1)
                                           	CLRR	r0x1010
                                           	JBCLR	_P1bits,4
                                           	INCR	r0x1010
                                           	MOVAR	r0x1010
                                           	XORAI	0x01
                                           	JBSET	STATUS,2
                                           	GOTO	_00167_DS_
                                           ;	.line	255; "MC30P6280.c"	pirData |= 0x01;
                                           	BSET	r0x100C,0
                                           	GOTO	_00171_DS_
                                           _00167_DS_
                                           ;	.line	259; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
                                           	BCLR	_P1bits,4
                                           ;	.line	260; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           _00171_DS_
                                           ;	.line	264; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	215; "MC30P6280.c"	for (i = 0; i < 19; i++) // 读取19位数据
                                           	INCR	r0x100F
                                           ;;unsigned compare: left < lit(0x13=19), size=1
                                           	MOVAI	0x13
                                           	RSUBAR	r0x100F
                                           	JBSET	STATUS,0
                                           	GOTO	_00181_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	267; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           ;	.line	268; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
                                           	BCLR	_P1bits,4
                                           ;	.line	271; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	274; "MC30P6280.c"	GIE = 1; // 开启总中断
                                           	BSET	_INTEbits,7
                                           ;	.line	276; "MC30P6280.c"	if (checkCode == 0x04) // 校验头码尾码
                                           	MOVAR	r0x100E
                                           	XORAI	0x04
                                           	JBSET	STATUS,2
                                           	GOTO	_00180_DS_
                                           ;	.line	278; "MC30P6280.c"	if ((pirData & (u16)0x8000) != 0) // 校验负数
                                           	JBSET	r0x100D,7
                                           	GOTO	_00175_DS_
                                           ;	.line	280; "MC30P6280.c"	pirData = (~pirData) + 1; // 转换为正数
                                           	COMAR	r0x100C
                                           	MOVRA	r0x100E
                                           	COMAR	r0x100D
                                           	MOVRA	r0x100F
                                           	MOVAI	0x01
                                           	ADDAR	r0x100E
                                           	MOVRA	r0x100C
                                           	CLRR	r0x100D
                                           	RLR	r0x100D
                                           	MOVAR	r0x100F
                                           	ADDRA	r0x100D
                                           ;;unsigned compare: left < lit(0x5DC=1500), size=2
                                           _00175_DS_
                                           ;	.line	283; "MC30P6280.c"	if (pirData < 1500)
                                           	MOVAI	0x05
                                           	RSUBAR	r0x100D
                                           	JBSET	STATUS,2
                                           	GOTO	_00221_DS_
                                           	MOVAI	0xdc
                                           	RSUBAR	r0x100C
                                           _00221_DS_
                                           	JBCLR	STATUS,0
                                           	GOTO	_00177_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	285; "MC30P6280.c"	return pirData;
                                           	MOVAR	r0x100C
                                           	MOVRA	STK00
                                           	MOVAR	r0x100D
                                           	GOTO	_00183_DS_
                                           _00177_DS_
                                           ;	.line	289; "MC30P6280.c"	return 0;
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	GOTO	_00183_DS_
                                           _00180_DS_
                                           ;	.line	293; "MC30P6280.c"	return 0;
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           _00183_DS_
                                           ;	.line	294; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _get_pirdata
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _sel_pin_config
                                           ;   _light_sensor_pin_config
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _sel_pin_config
                                           ;   _light_sensor_pin_config
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	181; "MC30P6280.c"	GIE = 0;
                                           	BCLR	_INTEbits,7
                                           ;	.line	182; "MC30P6280.c"	C_RAM();
                                           	CALL	_C_RAM
                                           ;	.line	183; "MC30P6280.c"	IO_Init();
                                           	CALL	_IO_Init
                                           ;	.line	185; "MC30P6280.c"	sel_pin_config();		   // 拨码开关检测引脚的配置
                                           	CALL	_sel_pin_config
                                           ;	.line	186; "MC30P6280.c"	light_sensor_pin_config(); // 检测光敏的引脚的相关配置
                                           	CALL	_light_sensor_pin_config
                                           ;	.line	188; "MC30P6280.c"	GIE = 1;
                                           	BSET	_INTEbits,7
                                           ;	.line	189; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	166; "MC30P6280.c"	P1 = 0x00;	  // 1:input 0:output
                                           	CLRR	_P1
                                           ;	.line	167; "MC30P6280.c"	DDR1 = 0x00;  // 1:input 0:output
                                           	CLRR	_DDR1
                                           ;	.line	168; "MC30P6280.c"	PUCON = 0xff; // 0:Effective 1:invalid
                                           	MOVAI	0xff
                                           	MOVRA	_PUCON
                                           ;	.line	169; "MC30P6280.c"	PDCON = 0xff; // 0:Effective 1:invalid
                                           	MOVAI	0xff
                                           	MOVRA	_PDCON
                                           ;	.line	170; "MC30P6280.c"	ODCON = 0x00; // 0:推挽输出  1:开漏输出
                                           	CLRR	_ODCON
                                           ;	.line	171; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _C_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _C_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	155; "MC30P6280.c"	__endasm;
                                           	;
                                           	movai	0x3F;
                                           	movra	FSR;
                                           	movai	47;
                                           	movra	0x3F;
                                           	decr	FSR;
                                           	clrr	INDF;
                                           	djzr	0x3F;
                                           	goto	$ - 3;
                                           	clrr	0x3F;
                                           	
                                           ;	.line	156; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _C_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _light_sensor_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _light_sensor_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	132; "MC30P6280.c"	DDR1 |= 0x01 << 1;
                                           	BSET	_DDR1,1
                                           ;	.line	134; "MC30P6280.c"	PDCON &= ~(0x01 << 1); // 使能下拉电阻
                                           	BCLR	_PDCON,1
                                           ;	.line	135; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _light_sensor_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sel_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _sel_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	125; "MC30P6280.c"	DDR1 |= 0x01;	  // 输入模式
                                           	BSET	_DDR1,0
                                           ;	.line	126; "MC30P6280.c"	PUCON &= ~(0x01); // 使能上拉电阻
                                           	BCLR	_PUCON,0
                                           ;	.line	127; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _sel_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pir_pin_out	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pir_pin_out	;Function start
                                           ; 2 exit points
                                           ;	.line	117; "MC30P6280.c"	DDR1 &= ~(0x01 << 4);
                                           	BCLR	_DDR1,4
                                           ;	.line	118; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _pir_pin_out
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pir_pin_in	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pir_pin_in	;Function start
                                           ; 2 exit points
                                           ;	.line	108; "MC30P6280.c"	DDR1 |= 0x01 << 4; // 输入模式
                                           	BSET	_DDR1,4
                                           ;	.line	111; "MC30P6280.c"	PUCON &= ~(0x01 << 4); // 内部上拉有效
                                           	BCLR	_PUCON,4
                                           ;	.line	112; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _pir_pin_in
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;11 compiler assigned registers:
                                           ;   r0x1007
                                           ;   STK00
                                           ;   r0x1008
                                           ;   STK01
                                           ;   r0x1009
                                           ;   STK02
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	91; "MC30P6280.c"	void delay_ms(u32 xms)
                                           	MOVRA	r0x1007
                                           	MOVAR	STK00
                                           	MOVRA	r0x1008
                                           	MOVAR	STK01
                                           	MOVRA	r0x1009
                                           	MOVAR	STK02
                                           	MOVRA	r0x100A
                                           _00127_DS_
                                           ;	.line	93; "MC30P6280.c"	while (xms)
                                           	MOVAR	r0x100A
                                           	ORAR	r0x1009
                                           	ORAR	r0x1008
                                           	ORAR	r0x1007
                                           	JBCLR	STATUS,2
                                           	GOTO	_00130_DS_
                                           ;	.line	96; "MC30P6280.c"	while (i--)
                                           	MOVAI	0x13
                                           	MOVRA	r0x100B
                                           	MOVAI	0x02
                                           	MOVRA	r0x100C
                                           _00124_DS_
                                           	MOVAR	r0x100B
                                           	MOVRA	r0x100D
                                           	MOVAR	r0x100C
                                           	MOVRA	r0x100E
                                           	MOVAI	0xff
                                           	ADDRA	r0x100B
                                           	JBSET	STATUS,0
                                           	DECR	r0x100C
                                           	MOVAR	r0x100D
                                           	ORAR	r0x100E
                                           	JBCLR	STATUS,2
                                           	GOTO	_00126_DS_
                                           ;	.line	98; "MC30P6280.c"	Nop();
                                           	nop	
                                           	GOTO	_00124_DS_
                                           _00126_DS_
                                           ;	.line	100; "MC30P6280.c"	xms--;
                                           	MOVAI	0xff
                                           	ADDRA	r0x100A
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1009
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1008
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1007
                                           	GOTO	_00127_DS_
                                           _00130_DS_
                                           ;	.line	102; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_5us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;2 compiler assigned registers:
                                           ;   r0x1007
                                           ;   r0x1008
                                           ;; Starting pCode block
                                           _delay_5us	;Function start
                                           ; 2 exit points
                                           ;	.line	77; "MC30P6280.c"	while (xus--)
                                           	MOVAI	0x02
                                           	MOVRA	r0x1007
                                           _00116_DS_
                                           	MOVAR	r0x1007
                                           	MOVRA	r0x1008
                                           	DECR	r0x1007
                                           	MOVAI	0x00
                                           	ORAR	r0x1008
                                           	JBCLR	STATUS,2
                                           	GOTO	_00119_DS_
                                           ;	.line	85; "MC30P6280.c"	__endasm;
                                           	;
                                           	
                                           	GOTO	_00116_DS_
                                           _00119_DS_
                                           ;	.line	87; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _delay_5us
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_100us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;8 compiler assigned registers:
                                           ;   r0x1007
                                           ;   STK00
                                           ;   r0x1008
                                           ;   STK01
                                           ;   r0x1009
                                           ;   STK02
                                           ;   r0x100A
                                           ;   r0x100B
                                           ;; Starting pCode block
                                           _delay_100us	;Function start
                                           ; 2 exit points
                                           ;	.line	58; "MC30P6280.c"	void delay_100us(u32 xus)
                                           	MOVRA	r0x1007
                                           	MOVAR	STK00
                                           	MOVRA	r0x1008
                                           	MOVAR	STK01
                                           	MOVRA	r0x1009
                                           	MOVAR	STK02
                                           	MOVRA	r0x100A
                                           _00108_DS_
                                           ;	.line	60; "MC30P6280.c"	while (xus)
                                           	MOVAR	r0x100A
                                           	ORAR	r0x1009
                                           	ORAR	r0x1008
                                           	ORAR	r0x1007
                                           	JBCLR	STATUS,2
                                           	GOTO	_00111_DS_
                                           ;	.line	63; "MC30P6280.c"	while (i)
                                           	MOVAI	0x61
                                           	MOVRA	r0x100B
                                           _00105_DS_
                                           	MOVAI	0x00
                                           	ORAR	r0x100B
                                           	JBCLR	STATUS,2
                                           	GOTO	_00107_DS_
                                           ;	.line	65; "MC30P6280.c"	Nop();
                                           	nop	
                                           ;	.line	66; "MC30P6280.c"	i--;
                                           	DECR	r0x100B
                                           	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	68; "MC30P6280.c"	xus--;
                                           	MOVAI	0xff
                                           	ADDRA	r0x100A
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1009
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1008
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1007
                                           	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	70; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _delay_100us
                                           
                                           
                                           ;	code size estimation:
                                           ;	  456+    0 =   456 instructions (  912 byte)
                                           
                                           	end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXX------------ XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXX------ ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   487

