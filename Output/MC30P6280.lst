gplink-2.2.37 (Jan 22 2024)
Listing File Generated: 2024-8-28  15:16:06
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_INDFbits
                                           	extern	_T0CNTbits
                                           	extern	_PCLbits
                                           	extern	_STATUSbits
                                           	extern	_FSRbits
                                           	extern	_P1bits
                                           	extern	_MCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_PCLATHbits
                                           	extern	_PDCONbits
                                           	extern	_ODCONbits
                                           	extern	_PUCONbits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_T0CRbits
                                           	extern	_DDR1bits
                                           	extern	_TMRCRbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_INDF
                                           	extern	_T0CNT
                                           	extern	_PCL
                                           	extern	_STATUS
                                           	extern	_FSR
                                           	extern	_P1
                                           	extern	_MCR
                                           	extern	_P1KBCR
                                           	extern	_PCLATH
                                           	extern	_PDCON
                                           	extern	_ODCON
                                           	extern	_PUCON
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_T0CR
                                           	extern	_DDR1
                                           	extern	_TMRCR
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_Sys_Init
                                           	global	_IO_Init
                                           	global	_C_RAM
                                           	global	_delay_100us
                                           	global	_delay_5us
                                           	global	_delay_ms
                                           	global	_pir_pin_in
                                           	global	_pir_pin_out
                                           	global	_sel_pin_config
                                           	global	_light_sensor_pin_config
                                           	global	_get_pirdata
                                           	global	___set_input_pull_up
                                           	global	___set_output_open_drain
                                           	global	_led_on
                                           	global	_led_off
                                           	global	_get_detected_light
                                           	global	_mode_pir
                                           	global	_main
                                           	global	_int_isr
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_cur_light_status
                                           	global	_detect_cnt
                                           	global	_pir_val
                                           	global	_loop_cnt
                                           	global	_wake_up_times
                                           	global	_flag1
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0010
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC30P6280_0	udata
                                           _abuf	res	1
                                           
                                           UD_MC30P6280_1	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC30P6280_2	udata
                                           _detect_cnt	res	1
                                           
                                           UD_MC30P6280_3	udata
                                           _pir_val	res	2
                                           
                                           UD_MC30P6280_4	udata
                                           _loop_cnt	res	1
                                           
                                           UD_MC30P6280_5	udata
                                           _wake_up_times	res	1
                                           
                                           UD_MC30P6280_6	udata
                                           _flag1	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC30P6280_0	udata
                                           r0x100C	res	1
                                           r0x100B	res	1
                                           r0x100A	res	1
                                           r0x1009	res	1
                                           r0x100D	res	1
                                           r0x100E	res	1
                                           r0x100F	res	1
                                           r0x1010	res	1
                                           r0x1011	res	1
                                           r0x1012	res	1
                                           r0x1013	res	1
                                           r0x1014	res	1
                                           _mode_pir_i_65536_56	res	2
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ID_MC30P6280_0	idata
                                           _cur_light_status
                                           	db	0x00
                                           
                                           
                                           ;@Allocation info for local variables in function 'delay_100us'
                                           ;@delay_100us C_RAM                     Allocated to registers ;size:2
                                           ;@delay_100us IO_Init                   Allocated to registers ;size:2
                                           ;@delay_100us Sys_Init                  Allocated to registers ;size:2
                                           ;@delay_100us delay_100us               Allocated to registers ;size:2
                                           ;@delay_100us INDFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us PCLbits                   Allocated to registers ;size:1
                                           ;@delay_100us STATUSbits                Allocated to registers ;size:1
                                           ;@delay_100us FSRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1bits                    Allocated to registers ;size:1
                                           ;@delay_100us MCRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_100us PCLATHbits                Allocated to registers ;size:1
                                           ;@delay_100us PDCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us ODCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us PUCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us INTEbits                  Allocated to registers ;size:1
                                           ;@delay_100us INTFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us DDR1bits                  Allocated to registers ;size:1
                                           ;@delay_100us TMRCRbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_100us T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_100us abuf                      Allocated to registers ;size:1
                                           ;@delay_100us statusbuf                 Allocated to registers ;size:1
                                           ;@delay_100us cur_light_status          Allocated to registers ;size:1
                                           ;@delay_100us detect_cnt                Allocated to registers ;size:1
                                           ;@delay_100us pir_val                   Allocated to registers ;size:2
                                           ;@delay_100us loop_cnt                  Allocated to registers ;size:1
                                           ;@delay_100us wake_up_times             Allocated to registers ;size:1
                                           ;@delay_100us flag1                     Allocated to registers ;size:1
                                           ;@delay_100us xus                       Allocated to registers ;size:4
                                           ;@delay_100us i                         Allocated to registers r0x100D ;size:1
                                           ;@delay_100us INDF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CNT                     Allocated to registers ;size:1
                                           ;@delay_100us PCL                       Allocated to registers ;size:1
                                           ;@delay_100us STATUS                    Allocated to registers ;size:1
                                           ;@delay_100us FSR                       Allocated to registers ;size:1
                                           ;@delay_100us P1                        Allocated to registers ;size:1
                                           ;@delay_100us MCR                       Allocated to registers ;size:1
                                           ;@delay_100us P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_100us PCLATH                    Allocated to registers ;size:1
                                           ;@delay_100us PDCON                     Allocated to registers ;size:1
                                           ;@delay_100us ODCON                     Allocated to registers ;size:1
                                           ;@delay_100us PUCON                     Allocated to registers ;size:1
                                           ;@delay_100us INTE                      Allocated to registers ;size:1
                                           ;@delay_100us INTF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CR                      Allocated to registers ;size:1
                                           ;@delay_100us DDR1                      Allocated to registers ;size:1
                                           ;@delay_100us TMRCR                     Allocated to registers ;size:1
                                           ;@delay_100us T1CR                      Allocated to registers ;size:1
                                           ;@delay_100us T1CNT                     Allocated to registers ;size:1
                                           ;@delay_100us T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_100us T1DATA                    Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_100us';
                                           ;@Allocation info for local variables in function 'delay_5us'
                                           ;@delay_5us xus                       Allocated to registers r0x1009 ;size:1
                                           ;@end Allocation info for local variables in function 'delay_5us';
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms xms                       Allocated to registers ;size:4
                                           ;@delay_ms i                         Allocated to registers r0x100D r0x100E ;size:2
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'pir_pin_in'
                                           ;@end Allocation info for local variables in function 'pir_pin_in';
                                           ;@Allocation info for local variables in function 'pir_pin_out'
                                           ;@end Allocation info for local variables in function 'pir_pin_out';
                                           ;@Allocation info for local variables in function 'sel_pin_config'
                                           ;@end Allocation info for local variables in function 'sel_pin_config';
                                           ;@Allocation info for local variables in function 'light_sensor_pin_config'
                                           ;@end Allocation info for local variables in function 'light_sensor_pin_config';
                                           ;@Allocation info for local variables in function 'C_RAM'
                                           ;@end Allocation info for local variables in function 'C_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function 'get_pirdata'
                                           ;@get_pirdata pirData                   Allocated to registers r0x100E r0x100F ;size:2
                                           ;@get_pirdata checkCode                 Allocated to registers r0x1010 ;size:1
                                           ;@get_pirdata i                         Allocated to registers r0x1011 ;size:1
                                           ;@end Allocation info for local variables in function 'get_pirdata';
                                           ;@Allocation info for local variables in function '__set_input_pull_up'
                                           ;@end Allocation info for local variables in function '__set_input_pull_up';
                                           ;@Allocation info for local variables in function '__set_output_open_drain'
                                           ;@end Allocation info for local variables in function '__set_output_open_drain';
                                           ;@Allocation info for local variables in function 'led_on'
                                           ;@end Allocation info for local variables in function 'led_on';
                                           ;@Allocation info for local variables in function 'led_off'
                                           ;@end Allocation info for local variables in function 'led_off';
                                           ;@Allocation info for local variables in function 'get_detected_light'
                                           ;@end Allocation info for local variables in function 'get_detected_light';
                                           ;@Allocation info for local variables in function 'mode_pir'
                                           ;@mode_pir i                         Allocated to registers ;size:2
                                           ;@end Allocation info for local variables in function 'mode_pir';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@main i                         Allocated to registers r0x1014 ;size:1
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
000000   2817     goto    0x17             	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	620; "MC30P6280.c"	__endasm;
                                           	;
000008   15a7     movra   0x27             	movra	_abuf;
000009   1103     swapar  0x3              	swapar	_STATUS;
00000a   15a8     movra   0x28             	movra	_statusbuf;
                                           	
                                           ;	.line	622; "MC30P6280.c"	if ((T0IF) && (T0IE))
00000b   300f     jbset   0xf, 0           	JBSET	_INTFbits,0
00000c   2812     goto    0x12             	GOTO	_00451_DS_
00000d   300e     jbset   0xe, 0           	JBSET	_INTEbits,0
00000e   2812     goto    0x12             	GOTO	_00451_DS_
                                           ;	.line	624; "MC30P6280.c"	T0CNT = 255 - T0_CNT_TIME; // 递增计数器
00000f   0bee     movai   0xee             	MOVAI	0xee
000010   1581     movra   0x1              	MOVRA	_T0CNT
                                           ;	.line	625; "MC30P6280.c"	T0IF = 0;
000011   3c0f     bclr    0xf, 0           	BCLR	_INTFbits,0
                                           _00451_DS_
                                           ;	.line	633; "MC30P6280.c"	__endasm;
                                           	;
000012   1128     swapar  0x28             	swapar	_statusbuf;
000013   1583     movra   0x3              	movra	_STATUS;
000014   11a7     swapr   0x27             	swapr	_abuf;
000015   1127     swapar  0x27             	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	634; "MC30P6280.c"	}
000016   000d     retie                    	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC30P6280	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   _led_off
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _mode_pir
                                           ;   _Sys_Init
                                           ;   _led_off
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _mode_pir
                                           ;4 compiler assigned registers:
                                           ;   r0x1014
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	508; "MC30P6280.c"	Sys_Init();
000017   21c6     call    0x1c6            	CALL	_Sys_Init
                                           ;	.line	510; "MC30P6280.c"	P15D = 1;  // 传感器要一直供电
000018   3a86     bset    0x6, 0x5         	BSET	_P1bits,5
                                           ;	.line	511; "MC30P6280.c"	led_off(); // 熄灭所有LED
000019   214d     call    0x14d            	CALL	_led_off
                                           _00441_DS_
                                           ;	.line	525; "MC30P6280.c"	if (SEL_PIN && 0 == cur_light_status) // 如果灯是灭的，才进行下一步，否则灯会有跳动
00001a   3006     jbset   0x6, 0           	JBSET	_P1bits,0
00001b   283a     goto    0x3a             	GOTO	_00437_DS_
00001c   0b00     movai   0                	MOVAI	0x00
00001d   172d     orar    0x2d             	ORAR	_cur_light_status
00001e   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
00001f   283a     goto    0x3a             	GOTO	_00437_DS_
                                           ;	.line	527; "MC30P6280.c"	for (i = 0; i < 20; i++)
000020   1da2     clrr    0x22             	CLRR	r0x1014
                                           _00443_DS_
                                           ;	.line	529; "MC30P6280.c"	if (SEL_PIN)
000021   3006     jbset   0x6, 0           	JBSET	_P1bits,0
000022   2824     goto    0x24             	GOTO	_00425_DS_
                                           ;	.line	531; "MC30P6280.c"	loop_cnt++;
000023   19aa     incr    0x2a             	INCR	_loop_cnt
                                           _00425_DS_
                                           ;	.line	533; "MC30P6280.c"	delay_ms(1);
000024   0b01     movai   0x1              	MOVAI	0x01
000025   1594     movra   0x14             	MOVRA	STK02
000026   0b00     movai   0                	MOVAI	0x00
000027   1595     movra   0x15             	MOVRA	STK01
000028   0b00     movai   0                	MOVAI	0x00
000029   1596     movra   0x16             	MOVRA	STK00
00002a   0b00     movai   0                	MOVAI	0x00
00002b   21ea     call    0x1ea            	CALL	_delay_ms
                                           ;	.line	527; "MC30P6280.c"	for (i = 0; i < 20; i++)
00002c   19a2     incr    0x22             	INCR	r0x1014
                                           ;;unsigned compare: left < lit(0x14=20), size=1
00002d   0b14     movai   0x14             	MOVAI	0x14
00002e   1222     rsubar  0x22             	RSUBAR	r0x1014
00002f   3003     jbset   0x3, 0           	JBSET	STATUS,0
000030   2821     goto    0x21             	GOTO	_00443_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x10=16), size=1
                                           ;	.line	536; "MC30P6280.c"	if (loop_cnt >= 16)
000031   0b10     movai   0x10             	MOVAI	0x10
000032   122a     rsubar  0x2a             	RSUBAR	_loop_cnt
000033   3003     jbset   0x3, 0           	JBSET	STATUS,0
000034   2838     goto    0x38             	GOTO	_00428_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	539; "MC30P6280.c"	led_on();
000035   2150     call    0x150            	CALL	_led_on
                                           ;	.line	540; "MC30P6280.c"	cur_light_status = 1; //
000036   0b01     movai   0x1              	MOVAI	0x01
000037   15ad     movra   0x2d             	MOVRA	_cur_light_status
                                           _00428_DS_
                                           ;	.line	543; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
000038   1daa     clrr    0x2a             	CLRR	_loop_cnt
000039   281a     goto    0x1a             	GOTO	_00441_DS_
                                           _00437_DS_
                                           ;	.line	545; "MC30P6280.c"	else if (0 == SEL_PIN)
00003a   3406     jbclr   0x6, 0           	JBCLR	_P1bits,0
00003b   281a     goto    0x1a             	GOTO	_00441_DS_
                                           ;	.line	547; "MC30P6280.c"	for (i = 0; i < 20; i++)
00003c   1da2     clrr    0x22             	CLRR	r0x1014
                                           _00445_DS_
                                           ;	.line	549; "MC30P6280.c"	if (0 == SEL_PIN)
00003d   3406     jbclr   0x6, 0           	JBCLR	_P1bits,0
00003e   2840     goto    0x40             	GOTO	_00430_DS_
                                           ;	.line	551; "MC30P6280.c"	loop_cnt++;
00003f   19aa     incr    0x2a             	INCR	_loop_cnt
                                           _00430_DS_
                                           ;	.line	553; "MC30P6280.c"	delay_ms(1);
000040   0b01     movai   0x1              	MOVAI	0x01
000041   1594     movra   0x14             	MOVRA	STK02
000042   0b00     movai   0                	MOVAI	0x00
000043   1595     movra   0x15             	MOVRA	STK01
000044   0b00     movai   0                	MOVAI	0x00
000045   1596     movra   0x16             	MOVRA	STK00
000046   0b00     movai   0                	MOVAI	0x00
000047   21ea     call    0x1ea            	CALL	_delay_ms
                                           ;	.line	547; "MC30P6280.c"	for (i = 0; i < 20; i++)
000048   19a2     incr    0x22             	INCR	r0x1014
                                           ;;unsigned compare: left < lit(0x14=20), size=1
000049   0b14     movai   0x14             	MOVAI	0x14
00004a   1222     rsubar  0x22             	RSUBAR	r0x1014
00004b   3003     jbset   0x3, 0           	JBSET	STATUS,0
00004c   283d     goto    0x3d             	GOTO	_00445_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x10=16), size=1
                                           ;	.line	556; "MC30P6280.c"	if (loop_cnt >= 16)
00004d   0b10     movai   0x10             	MOVAI	0x10
00004e   122a     rsubar  0x2a             	RSUBAR	_loop_cnt
00004f   3003     jbset   0x3, 0           	JBSET	STATUS,0
000050   285f     goto    0x5f             	GOTO	_00433_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	559; "MC30P6280.c"	led_on(); // 点亮LED
000051   2150     call    0x150            	CALL	_led_on
                                           ;	.line	560; "MC30P6280.c"	cur_light_status = 1;
000052   0b01     movai   0x1              	MOVAI	0x01
000053   15ad     movra   0x2d             	MOVRA	_cur_light_status
                                           ;	.line	561; "MC30P6280.c"	delay_ms(3000);
000054   0bb8     movai   0xb8             	MOVAI	0xb8
000055   1594     movra   0x14             	MOVRA	STK02
000056   0b0b     movai   0xb              	MOVAI	0x0b
000057   1595     movra   0x15             	MOVRA	STK01
000058   0b00     movai   0                	MOVAI	0x00
000059   1596     movra   0x16             	MOVRA	STK00
00005a   0b00     movai   0                	MOVAI	0x00
00005b   21ea     call    0x1ea            	CALL	_delay_ms
                                           ;	.line	562; "MC30P6280.c"	led_off(); // 熄灭LED
00005c   214d     call    0x14d            	CALL	_led_off
                                           ;	.line	563; "MC30P6280.c"	cur_light_status = 0;
00005d   1dad     clrr    0x2d             	CLRR	_cur_light_status
                                           ;	.line	565; "MC30P6280.c"	mode_pir(); // 人体感应模式 (内部有关循环)
00005e   2062     call    0x62             	CALL	_mode_pir
                                           _00433_DS_
                                           ;	.line	568; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
00005f   1daa     clrr    0x2a             	CLRR	_loop_cnt
000060   281a     goto    0x1a             	GOTO	_00441_DS_
                                           ;	.line	606; "MC30P6280.c"	}
000061   000c     return                   	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _mode_pir	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;4 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;   r0x1013
                                           ;; Starting pCode block
                                           _mode_pir	;Function start
                                           ; 2 exit points
                                           ;	.line	344; "MC30P6280.c"	volatile u16 i = 0; // 循环计数值
000062   1da3     clrr    0x23             	CLRR	_mode_pir_i_65536_56
000063   1da4     clrr    0x24             	CLRR	(_mode_pir_i_65536_56 + 1)
                                           _00291_DS_
                                           ;	.line	349; "MC30P6280.c"	if (SEL_PIN)
000064   3006     jbset   0x6, 0           	JBSET	_P1bits,0
000065   2886     goto    0x86             	GOTO	_00256_DS_
                                           ;	.line	351; "MC30P6280.c"	for (i = 0; i < 20; i++)
000066   1da3     clrr    0x23             	CLRR	_mode_pir_i_65536_56
000067   1da4     clrr    0x24             	CLRR	(_mode_pir_i_65536_56 + 1)
                                           ;;unsigned compare: left < lit(0x14=20), size=2
                                           _00294_DS_
000068   0b00     movai   0                	MOVAI	0x00
000069   1224     rsubar  0x24             	RSUBAR	(_mode_pir_i_65536_56 + 1)
00006a   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
00006b   286e     goto    0x6e             	GOTO	_00407_DS_
00006c   0b14     movai   0x14             	MOVAI	0x14
00006d   1223     rsubar  0x23             	RSUBAR	_mode_pir_i_65536_56
                                           _00407_DS_
00006e   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
00006f   287f     goto    0x7f             	GOTO	_00252_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	353; "MC30P6280.c"	if (SEL_PIN)
000070   3006     jbset   0x6, 0           	JBSET	_P1bits,0
000071   2873     goto    0x73             	GOTO	_00251_DS_
                                           ;	.line	355; "MC30P6280.c"	loop_cnt++;
000072   19aa     incr    0x2a             	INCR	_loop_cnt
                                           _00251_DS_
                                           ;	.line	357; "MC30P6280.c"	delay_ms(1);
000073   0b01     movai   0x1              	MOVAI	0x01
000074   1594     movra   0x14             	MOVRA	STK02
000075   0b00     movai   0                	MOVAI	0x00
000076   1595     movra   0x15             	MOVRA	STK01
000077   0b00     movai   0                	MOVAI	0x00
000078   1596     movra   0x16             	MOVRA	STK00
000079   0b00     movai   0                	MOVAI	0x00
00007a   21ea     call    0x1ea            	CALL	_delay_ms
                                           ;	.line	351; "MC30P6280.c"	for (i = 0; i < 20; i++)
00007b   19a3     incr    0x23             	INCR	_mode_pir_i_65536_56
00007c   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
00007d   19a4     incr    0x24             	INCR	(_mode_pir_i_65536_56 + 1)
00007e   2868     goto    0x68             	GOTO	_00294_DS_
                                           ;;unsigned compare: left < lit(0x10=16), size=1
                                           _00252_DS_
                                           ;	.line	360; "MC30P6280.c"	if (loop_cnt >= 16)
00007f   0b10     movai   0x10             	MOVAI	0x10
000080   122a     rsubar  0x2a             	RSUBAR	_loop_cnt
000081   3003     jbset   0x3, 0           	JBSET	STATUS,0
000082   2885     goto    0x85             	GOTO	_00254_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	362; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
000083   1daa     clrr    0x2a             	CLRR	_loop_cnt
                                           ;	.line	364; "MC30P6280.c"	return;
000084   2946     goto    0x146            	GOTO	_00305_DS_
                                           _00254_DS_
                                           ;	.line	367; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
000085   1daa     clrr    0x2a             	CLRR	_loop_cnt
                                           _00256_DS_
                                           ;	.line	375; "MC30P6280.c"	for (i = 0; i < 3; i++)
000086   1da3     clrr    0x23             	CLRR	_mode_pir_i_65536_56
000087   1da4     clrr    0x24             	CLRR	(_mode_pir_i_65536_56 + 1)
                                           ;;unsigned compare: left < lit(0x3=3), size=2
                                           _00297_DS_
000088   0b00     movai   0                	MOVAI	0x00
000089   1224     rsubar  0x24             	RSUBAR	(_mode_pir_i_65536_56 + 1)
00008a   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
00008b   288e     goto    0x8e             	GOTO	_00409_DS_
00008c   0b03     movai   0x3              	MOVAI	0x03
00008d   1223     rsubar  0x23             	RSUBAR	_mode_pir_i_65536_56
                                           _00409_DS_
00008e   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
00008f   28b4     goto    0xb4             	GOTO	_00264_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	377; "MC30P6280.c"	pir_val = get_pirdata();
000090   2159     call    0x159            	CALL	_get_pirdata
000091   15a6     movra   0x26             	MOVRA	(_pir_val + 1)
000092   1616     movar   0x16             	MOVAR	STK00
000093   15a5     movra   0x25             	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0x32=50), size=1
                                           ;	.line	379; "MC30P6280.c"	if (wake_up_times >= WAKE_UP_TIMES_VAL)
000094   0b32     movai   0x32             	MOVAI	0x32
000095   122b     rsubar  0x2b             	RSUBAR	_wake_up_times
000096   3003     jbset   0x3, 0           	JBSET	STATUS,0
000097   28a8     goto    0xa8             	GOTO	_00263_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x50=80), size=2
                                           ;	.line	381; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
000098   0b00     movai   0                	MOVAI	0x00
000099   1226     rsubar  0x26             	RSUBAR	(_pir_val + 1)
00009a   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
00009b   289e     goto    0x9e             	GOTO	_00411_DS_
00009c   0b50     movai   0x50             	MOVAI	0x50
00009d   1225     rsubar  0x25             	RSUBAR	_pir_val
                                           _00411_DS_
00009e   3003     jbset   0x3, 0           	JBSET	STATUS,0
00009f   28a2     goto    0xa2             	GOTO	_00258_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	384; "MC30P6280.c"	detect_cnt++;
0000a0   19a9     incr    0x29             	INCR	_detect_cnt
0000a1   28a3     goto    0xa3             	GOTO	_00259_DS_
                                           _00258_DS_
                                           ;	.line	388; "MC30P6280.c"	detect_cnt = 0; // 只要有一次不大于设定值，就认为没有感应到有人经过
0000a2   1da9     clrr    0x29             	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00259_DS_
                                           ;	.line	391; "MC30P6280.c"	if (detect_cnt >= PIR_DETECT_TIMES)
0000a3   0b03     movai   0x3              	MOVAI	0x03
0000a4   1229     rsubar  0x29             	RSUBAR	_detect_cnt
0000a5   3003     jbset   0x3, 0           	JBSET	STATUS,0
0000a6   28a8     goto    0xa8             	GOTO	_00263_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	393; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
0000a7   38ac     bset    0x2c, 0x1        	BSET	_flag1,1
                                           _00263_DS_
                                           ;	.line	397; "MC30P6280.c"	delay_ms(T0_CNT_TIME);
0000a8   0b11     movai   0x11             	MOVAI	0x11
0000a9   1594     movra   0x14             	MOVRA	STK02
0000aa   0b00     movai   0                	MOVAI	0x00
0000ab   1595     movra   0x15             	MOVRA	STK01
0000ac   0b00     movai   0                	MOVAI	0x00
0000ad   1596     movra   0x16             	MOVRA	STK00
0000ae   0b00     movai   0                	MOVAI	0x00
0000af   21ea     call    0x1ea            	CALL	_delay_ms
                                           ;	.line	375; "MC30P6280.c"	for (i = 0; i < 3; i++)
0000b0   19a3     incr    0x23             	INCR	_mode_pir_i_65536_56
0000b1   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0000b2   19a4     incr    0x24             	INCR	(_mode_pir_i_65536_56 + 1)
0000b3   2888     goto    0x88             	GOTO	_00297_DS_
                                           _00264_DS_
                                           ;	.line	399; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
0000b4   1da9     clrr    0x29             	CLRR	_detect_cnt
                                           ;	.line	401; "MC30P6280.c"	if (IS_DETECT_PERSON_FLAG)
0000b5   30ac     jbset   0x2c, 0x1        	JBSET	_flag1,1
0000b6   2902     goto    0x102            	GOTO	_00277_DS_
                                           ;	.line	404; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 0;
0000b7   3cac     bclr    0x2c, 0x1        	BCLR	_flag1,1
                                           ;	.line	406; "MC30P6280.c"	led_on();		// 点亮LED
0000b8   2150     call    0x150            	CALL	_led_on
                                           ;	.line	407; "MC30P6280.c"	delay_ms(5000); // 5s内不做检测
0000b9   0b88     movai   0x88             	MOVAI	0x88
0000ba   1594     movra   0x14             	MOVRA	STK02
0000bb   0b13     movai   0x13             	MOVAI	0x13
0000bc   1595     movra   0x15             	MOVRA	STK01
0000bd   0b00     movai   0                	MOVAI	0x00
0000be   1596     movra   0x16             	MOVRA	STK00
0000bf   0b00     movai   0                	MOVAI	0x00
0000c0   21ea     call    0x1ea            	CALL	_delay_ms
                                           ;	.line	410; "MC30P6280.c"	for (i = 0; i < 500; i++)
0000c1   1da3     clrr    0x23             	CLRR	_mode_pir_i_65536_56
0000c2   1da4     clrr    0x24             	CLRR	(_mode_pir_i_65536_56 + 1)
                                           ;;unsigned compare: left < lit(0x1F4=500), size=2
                                           _00300_DS_
0000c3   0b01     movai   0x1              	MOVAI	0x01
0000c4   1224     rsubar  0x24             	RSUBAR	(_mode_pir_i_65536_56 + 1)
0000c5   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0000c6   28c9     goto    0xc9             	GOTO	_00413_DS_
0000c7   0bf4     movai   0xf4             	MOVAI	0xf4
0000c8   1223     rsubar  0x23             	RSUBAR	_mode_pir_i_65536_56
                                           _00413_DS_
0000c9   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
0000ca   28f4     goto    0xf4             	GOTO	_00270_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	412; "MC30P6280.c"	pir_val = get_pirdata();
0000cb   2159     call    0x159            	CALL	_get_pirdata
0000cc   15a6     movra   0x26             	MOVRA	(_pir_val + 1)
0000cd   1616     movar   0x16             	MOVAR	STK00
0000ce   15a5     movra   0x25             	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0x50=80), size=2
                                           ;	.line	413; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL) // 如果检测到的值大于 设定值，说明可能检测到有人
0000cf   0b00     movai   0                	MOVAI	0x00
0000d0   1226     rsubar  0x26             	RSUBAR	(_pir_val + 1)
0000d1   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0000d2   28d5     goto    0xd5             	GOTO	_00414_DS_
0000d3   0b50     movai   0x50             	MOVAI	0x50
0000d4   1225     rsubar  0x25             	RSUBAR	_pir_val
                                           _00414_DS_
0000d5   3003     jbset   0x3, 0           	JBSET	STATUS,0
0000d6   28d9     goto    0xd9             	GOTO	_00266_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	416; "MC30P6280.c"	detect_cnt++;
0000d7   19a9     incr    0x29             	INCR	_detect_cnt
0000d8   28da     goto    0xda             	GOTO	_00267_DS_
                                           _00266_DS_
                                           ;	.line	420; "MC30P6280.c"	detect_cnt = 0;
0000d9   1da9     clrr    0x29             	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x17=23), size=1
                                           _00267_DS_
                                           ;	.line	424; "MC30P6280.c"	if (detect_cnt >= (PIR_DETECT_TIMES + 20))
0000da   0b17     movai   0x17             	MOVAI	0x17
0000db   1229     rsubar  0x29             	RSUBAR	_detect_cnt
0000dc   3003     jbset   0x3, 0           	JBSET	STATUS,0
0000dd   28e8     goto    0xe8             	GOTO	_00269_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	427; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
0000de   38ac     bset    0x2c, 0x1        	BSET	_flag1,1
                                           ;	.line	428; "MC30P6280.c"	delay_ms(20); // 延时20ms再退出，避免与下一次检测pir的时间过近
0000df   0b14     movai   0x14             	MOVAI	0x14
0000e0   1594     movra   0x14             	MOVRA	STK02
0000e1   0b00     movai   0                	MOVAI	0x00
0000e2   1595     movra   0x15             	MOVRA	STK01
0000e3   0b00     movai   0                	MOVAI	0x00
0000e4   1596     movra   0x16             	MOVRA	STK00
0000e5   0b00     movai   0                	MOVAI	0x00
0000e6   21ea     call    0x1ea            	CALL	_delay_ms
                                           ;	.line	429; "MC30P6280.c"	break;
0000e7   28f4     goto    0xf4             	GOTO	_00270_DS_
                                           _00269_DS_
                                           ;	.line	432; "MC30P6280.c"	delay_ms(20); // 这里的时间和循环次数组合，构成10s，而且单次不能低于17ms
0000e8   0b14     movai   0x14             	MOVAI	0x14
0000e9   1594     movra   0x14             	MOVRA	STK02
0000ea   0b00     movai   0                	MOVAI	0x00
0000eb   1595     movra   0x15             	MOVRA	STK01
0000ec   0b00     movai   0                	MOVAI	0x00
0000ed   1596     movra   0x16             	MOVRA	STK00
0000ee   0b00     movai   0                	MOVAI	0x00
0000ef   21ea     call    0x1ea            	CALL	_delay_ms
                                           ;	.line	410; "MC30P6280.c"	for (i = 0; i < 500; i++)
0000f0   19a3     incr    0x23             	INCR	_mode_pir_i_65536_56
0000f1   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0000f2   19a4     incr    0x24             	INCR	(_mode_pir_i_65536_56 + 1)
0000f3   28c3     goto    0xc3             	GOTO	_00300_DS_
                                           _00270_DS_
                                           ;	.line	434; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
0000f4   1da9     clrr    0x29             	CLRR	_detect_cnt
                                           ;	.line	436; "MC30P6280.c"	if (1 == IS_DETECT_PERSON_FLAG)
0000f5   1da1     clrr    0x21             	CLRR	r0x1013
0000f6   34ac     jbclr   0x2c, 0x1        	JBCLR	_flag1,1
0000f7   19a1     incr    0x21             	INCR	r0x1013
0000f8   1621     movar   0x21             	MOVAR	r0x1013
0000f9   0801     xorai   0x1              	XORAI	0x01
0000fa   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0000fb   28fe     goto    0xfe             	GOTO	_00274_DS_
                                           ;	.line	440; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 0; // 清除标志位
0000fc   3cac     bclr    0x2c, 0x1        	BCLR	_flag1,1
                                           ;	.line	441; "MC30P6280.c"	continue;
0000fd   2864     goto    0x64             	GOTO	_00291_DS_
                                           _00274_DS_
                                           ;	.line	443; "MC30P6280.c"	else if (0 == IS_DETECT_PERSON_FLAG)
0000fe   34ac     jbclr   0x2c, 0x1        	JBCLR	_flag1,1
0000ff   2902     goto    0x102            	GOTO	_00277_DS_
                                           ;	.line	446; "MC30P6280.c"	led_off(); // 熄灭LED
000100   214d     call    0x14d            	CALL	_led_off
                                           ;	.line	447; "MC30P6280.c"	cur_light_status = 0;
000101   1dad     clrr    0x2d             	CLRR	_cur_light_status
                                           _00277_DS_
                                           ;	.line	453; "MC30P6280.c"	if (0 == cur_light_status)
000102   0b00     movai   0                	MOVAI	0x00
000103   172d     orar    0x2d             	ORAR	_cur_light_status
000104   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000105   2864     goto    0x64             	GOTO	_00291_DS_
                                           ;	.line	456; "MC30P6280.c"	TMRCR = 0x40;			   // 时钟源为内部 32768 Hz 低频
000106   0b40     movai   0x40             	MOVAI	0x40
000107   15cb     movra   0x4b             	MOVRA	_TMRCR
                                           ;	.line	457; "MC30P6280.c"	T0CR = 4;				   // 预分频器分配给T0(而不是WDT)，32分频
000108   0b04     movai   0x4              	MOVAI	0x04
000109   15c1     movra   0x41             	MOVRA	_T0CR
                                           ;	.line	458; "MC30P6280.c"	T0CNT = 255 - T0_CNT_TIME; // 递增计数器(20ms产生一次中断)
00010a   0bee     movai   0xee             	MOVAI	0xee
00010b   1581     movra   0x1              	MOVRA	_T0CNT
                                           ;	.line	459; "MC30P6280.c"	T0IE = 1;				   // 打开定时器
00010c   380e     bset    0xe, 0           	BSET	_INTEbits,0
                                           ;	.line	462; "MC30P6280.c"	Stop();
00010d   000b     sleep                    	stop	
                                           ;	.line	463; "MC30P6280.c"	Nop();
00010e   0000     nop                      	nop	
                                           ;	.line	464; "MC30P6280.c"	Nop();
00010f   0000     nop                      	nop	
                                           ;	.line	467; "MC30P6280.c"	T0IE = 0;
000110   3c0e     bclr    0xe, 0           	BCLR	_INTEbits,0
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x33=51), size=1
                                           ;	.line	469; "MC30P6280.c"	if (wake_up_times <= WAKE_UP_TIMES_VAL)
000111   0b33     movai   0x33             	MOVAI	0x33
000112   122b     rsubar  0x2b             	RSUBAR	_wake_up_times
000113   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
000114   2916     goto    0x116            	GOTO	_00279_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	471; "MC30P6280.c"	wake_up_times++;
000115   19ab     incr    0x2b             	INCR	_wake_up_times
                                           _00279_DS_
                                           ;	.line	474; "MC30P6280.c"	for (i = 0; i < 3; i++)
000116   1da3     clrr    0x23             	CLRR	_mode_pir_i_65536_56
000117   1da4     clrr    0x24             	CLRR	(_mode_pir_i_65536_56 + 1)
                                           ;;unsigned compare: left < lit(0x3=3), size=2
                                           _00303_DS_
000118   0b00     movai   0                	MOVAI	0x00
000119   1224     rsubar  0x24             	RSUBAR	(_mode_pir_i_65536_56 + 1)
00011a   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
00011b   291e     goto    0x11e            	GOTO	_00417_DS_
00011c   0b03     movai   0x3              	MOVAI	0x03
00011d   1223     rsubar  0x23             	RSUBAR	_mode_pir_i_65536_56
                                           _00417_DS_
00011e   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
00011f   2944     goto    0x144            	GOTO	_00287_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	476; "MC30P6280.c"	pir_val = get_pirdata();
000120   2159     call    0x159            	CALL	_get_pirdata
000121   15a6     movra   0x26             	MOVRA	(_pir_val + 1)
000122   1616     movar   0x16             	MOVAR	STK00
000123   15a5     movra   0x25             	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0x32=50), size=1
                                           ;	.line	478; "MC30P6280.c"	if (wake_up_times >= WAKE_UP_TIMES_VAL)
000124   0b32     movai   0x32             	MOVAI	0x32
000125   122b     rsubar  0x2b             	RSUBAR	_wake_up_times
000126   3003     jbset   0x3, 0           	JBSET	STATUS,0
000127   2938     goto    0x138            	GOTO	_00286_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x50=80), size=2
                                           ;	.line	480; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
000128   0b00     movai   0                	MOVAI	0x00
000129   1226     rsubar  0x26             	RSUBAR	(_pir_val + 1)
00012a   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
00012b   292e     goto    0x12e            	GOTO	_00419_DS_
00012c   0b50     movai   0x50             	MOVAI	0x50
00012d   1225     rsubar  0x25             	RSUBAR	_pir_val
                                           _00419_DS_
00012e   3003     jbset   0x3, 0           	JBSET	STATUS,0
00012f   2932     goto    0x132            	GOTO	_00281_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	483; "MC30P6280.c"	detect_cnt++;
000130   19a9     incr    0x29             	INCR	_detect_cnt
000131   2933     goto    0x133            	GOTO	_00282_DS_
                                           _00281_DS_
                                           ;	.line	487; "MC30P6280.c"	detect_cnt = 0;
000132   1da9     clrr    0x29             	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00282_DS_
                                           ;	.line	490; "MC30P6280.c"	if (detect_cnt >= PIR_DETECT_TIMES)
000133   0b03     movai   0x3              	MOVAI	0x03
000134   1229     rsubar  0x29             	RSUBAR	_detect_cnt
000135   3003     jbset   0x3, 0           	JBSET	STATUS,0
000136   2938     goto    0x138            	GOTO	_00286_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	492; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
000137   38ac     bset    0x2c, 0x1        	BSET	_flag1,1
                                           _00286_DS_
                                           ;	.line	496; "MC30P6280.c"	delay_ms(T0_CNT_TIME);
000138   0b11     movai   0x11             	MOVAI	0x11
000139   1594     movra   0x14             	MOVRA	STK02
00013a   0b00     movai   0                	MOVAI	0x00
00013b   1595     movra   0x15             	MOVRA	STK01
00013c   0b00     movai   0                	MOVAI	0x00
00013d   1596     movra   0x16             	MOVRA	STK00
00013e   0b00     movai   0                	MOVAI	0x00
00013f   21ea     call    0x1ea            	CALL	_delay_ms
                                           ;	.line	474; "MC30P6280.c"	for (i = 0; i < 3; i++)
000140   19a3     incr    0x23             	INCR	_mode_pir_i_65536_56
000141   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
000142   19a4     incr    0x24             	INCR	(_mode_pir_i_65536_56 + 1)
000143   2918     goto    0x118            	GOTO	_00303_DS_
                                           _00287_DS_
                                           ;	.line	499; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
000144   1da9     clrr    0x29             	CLRR	_detect_cnt
000145   2864     goto    0x64             	GOTO	_00291_DS_
                                           _00305_DS_
                                           ;	.line	503; "MC30P6280.c"	}
000146   000c     return                   	RETURN	
                                           ; exit point of _mode_pir
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_detected_light	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _get_detected_light	;Function start
                                           ; 2 exit points
                                           ;	.line	329; "MC30P6280.c"	if (0 == LIGHT_SENSOR_PIN)
000147   3486     jbclr   0x6, 0x1         	JBCLR	_P1bits,1
000148   294b     goto    0x14b            	GOTO	_00243_DS_
                                           ;	.line	332; "MC30P6280.c"	return 1;
000149   0b01     movai   0x1              	MOVAI	0x01
00014a   294c     goto    0x14c            	GOTO	_00245_DS_
                                           _00243_DS_
                                           ;	.line	337; "MC30P6280.c"	return 2;
00014b   0b02     movai   0x2              	MOVAI	0x02
                                           _00245_DS_
                                           ;	.line	339; "MC30P6280.c"	}
00014c   000c     return                   	RETURN	
                                           ; exit point of _get_detected_light
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _led_off	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_input_pull_up
                                           ;   ___set_input_pull_up
                                           ;; Starting pCode block
                                           _led_off	;Function start
                                           ; 2 exit points
                                           ;	.line	321; "MC30P6280.c"	__set_input_pull_up();
00014d   2156     call    0x156            	CALL	___set_input_pull_up
                                           ;	.line	322; "MC30P6280.c"	P12D = 1;
00014e   3906     bset    0x6, 0x2         	BSET	_P1bits,2
                                           ;	.line	323; "MC30P6280.c"	}
00014f   000c     return                   	RETURN	
                                           ; exit point of _led_off
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _led_on	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_output_open_drain
                                           ;   ___set_output_open_drain
                                           ;; Starting pCode block
                                           _led_on	;Function start
                                           ; 2 exit points
                                           ;	.line	314; "MC30P6280.c"	__set_output_open_drain();
000150   2153     call    0x153            	CALL	___set_output_open_drain
                                           ;	.line	315; "MC30P6280.c"	P12D = 0;
000151   3d06     bclr    0x6, 0x2         	BCLR	_P1bits,2
                                           ;	.line	316; "MC30P6280.c"	}
000152   000c     return                   	RETURN	
                                           ; exit point of _led_on
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;	.line	307; "MC30P6280.c"	DDR1 &= ~(0x01 << 3); // P13配置为输出模式，P13只有开漏输出
000153   3dc6     bclr    0x46, 0x3        	BCLR	_DDR1,3
                                           ;	.line	308; "MC30P6280.c"	P13D = 0;
000154   3d86     bclr    0x6, 0x3         	BCLR	_P1bits,3
                                           ;	.line	309; "MC30P6280.c"	}
000155   000c     return                   	RETURN	
                                           ; exit point of ___set_output_open_drain
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;	.line	300; "MC30P6280.c"	DDR1 |= 0x01 << 3;	   // P13配置成输入模式
000156   39c6     bset    0x46, 0x3        	BSET	_DDR1,3
                                           ;	.line	301; "MC30P6280.c"	PUCON &= ~(0x01 << 3); // 使能P13上拉电阻
000157   3d8d     bclr    0xd, 0x3         	BCLR	_PUCON,3
                                           ;	.line	302; "MC30P6280.c"	}
000158   000c     return                   	RETURN	
                                           ; exit point of ___set_input_pull_up
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_pirdata	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _pir_pin_out
                                           ;   _delay_100us
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_in
                                           ;   _pir_pin_out
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_100us
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_in
                                           ;   _pir_pin_out
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;8 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;   r0x100E
                                           ;   r0x100F
                                           ;   r0x1010
                                           ;   r0x1011
                                           ;   r0x1012
                                           ;; Starting pCode block
                                           _get_pirdata	;Function start
                                           ; 2 exit points
                                           ;	.line	201; "MC30P6280.c"	GIE = 0; // 关闭总中断
000159   3f8e     bclr    0xe, 0x7         	BCLR	_INTEbits,7
                                           ;	.line	203; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
00015a   21e5     call    0x1e5            	CALL	_pir_pin_out
                                           ;	.line	204; "MC30P6280.c"	PIR_PIN = 1;   // PIR引脚输出高电平
00015b   3a06     bset    0x6, 0x4         	BSET	_P1bits,4
                                           ;	.line	206; "MC30P6280.c"	delay_100us(1); // 延时100us
00015c   0b01     movai   0x1              	MOVAI	0x01
00015d   1594     movra   0x14             	MOVRA	STK02
00015e   0b00     movai   0                	MOVAI	0x00
00015f   1595     movra   0x15             	MOVRA	STK01
000160   0b00     movai   0                	MOVAI	0x00
000161   1596     movra   0x16             	MOVRA	STK00
000162   0b00     movai   0                	MOVAI	0x00
000163   2221     call    0x221            	CALL	_delay_100us
                                           ;	.line	211; "MC30P6280.c"	delay_5us();
000164   2216     call    0x216            	CALL	_delay_5us
                                           ;	.line	212; "MC30P6280.c"	delay_5us();
000165   2216     call    0x216            	CALL	_delay_5us
                                           ;	.line	214; "MC30P6280.c"	pirData = 0;
000166   1d9c     clrr    0x1c             	CLRR	r0x100E
000167   1d9d     clrr    0x1d             	CLRR	r0x100F
                                           ;	.line	215; "MC30P6280.c"	checkCode = 0;
000168   1d9e     clrr    0x1e             	CLRR	r0x1010
                                           ;	.line	216; "MC30P6280.c"	for (i = 0; i < 19; i++) // 读取19位数据
000169   1d9f     clrr    0x1f             	CLRR	r0x1011
                                           _00181_DS_
                                           ;	.line	218; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
00016a   21e5     call    0x1e5            	CALL	_pir_pin_out
                                           ;	.line	219; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
00016b   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	221; "MC30P6280.c"	delay_5us();
00016c   2216     call    0x216            	CALL	_delay_5us
                                           ;	.line	223; "MC30P6280.c"	PIR_PIN = 1; // PIR引脚输出高电平
00016d   3a06     bset    0x6, 0x4         	BSET	_P1bits,4
                                           ;	.line	225; "MC30P6280.c"	delay_5us();
00016e   2216     call    0x216            	CALL	_delay_5us
                                           ;	.line	228; "MC30P6280.c"	PIR_PIN_IN(); // 切换输入模式（输入上拉）
00016f   21e7     call    0x1e7            	CALL	_pir_pin_in
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	238; "MC30P6280.c"	if (i < 2 || i > 17)
000170   0b02     movai   0x2              	MOVAI	0x02
000171   121f     rsubar  0x1f             	RSUBAR	r0x1011
000172   3003     jbset   0x3, 0           	JBSET	STATUS,0
000173   2978     goto    0x178            	GOTO	_00169_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;swapping arguments (AOP_TYPEs 1/2)
                                           ;;unsigned compare: left >= lit(0x12=18), size=1
000174   0b12     movai   0x12             	MOVAI	0x12
000175   121f     rsubar  0x1f             	RSUBAR	r0x1011
000176   3003     jbset   0x3, 0           	JBSET	STATUS,0
000177   2989     goto    0x189            	GOTO	_00170_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00169_DS_
                                           ;	.line	240; "MC30P6280.c"	checkCode <<= 1;
000178   161e     movar   0x1e             	MOVAR	r0x1010
000179   15a0     movra   0x20             	MOVRA	r0x1012
00017a   3c03     bclr    0x3, 0           	BCLR	STATUS,0
00017b   1420     rlar    0x20             	RLAR	r0x1012
00017c   159e     movra   0x1e             	MOVRA	r0x1010
                                           ;	.line	241; "MC30P6280.c"	if (PIR_PIN == 1)
00017d   1da0     clrr    0x20             	CLRR	r0x1012
00017e   3606     jbclr   0x6, 0x4         	JBCLR	_P1bits,4
00017f   19a0     incr    0x20             	INCR	r0x1012
000180   1620     movar   0x20             	MOVAR	r0x1012
000181   0801     xorai   0x1              	XORAI	0x01
000182   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000183   2986     goto    0x186            	GOTO	_00164_DS_
                                           ;	.line	243; "MC30P6280.c"	checkCode |= 0x01;
000184   381e     bset    0x1e, 0          	BSET	r0x1010,0
000185   2997     goto    0x197            	GOTO	_00171_DS_
                                           _00164_DS_
                                           ;	.line	247; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
000186   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	248; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
000187   21e5     call    0x1e5            	CALL	_pir_pin_out
000188   2997     goto    0x197            	GOTO	_00171_DS_
                                           _00170_DS_
                                           ;	.line	253; "MC30P6280.c"	pirData <<= 1;
000189   3c03     bclr    0x3, 0           	BCLR	STATUS,0
00018a   149c     rlr     0x1c             	RLR	r0x100E
00018b   149d     rlr     0x1d             	RLR	r0x100F
                                           ;	.line	254; "MC30P6280.c"	if (PIR_PIN == 1)
00018c   1da0     clrr    0x20             	CLRR	r0x1012
00018d   3606     jbclr   0x6, 0x4         	JBCLR	_P1bits,4
00018e   19a0     incr    0x20             	INCR	r0x1012
00018f   1620     movar   0x20             	MOVAR	r0x1012
000190   0801     xorai   0x1              	XORAI	0x01
000191   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
000192   2995     goto    0x195            	GOTO	_00167_DS_
                                           ;	.line	256; "MC30P6280.c"	pirData |= 0x01;
000193   381c     bset    0x1c, 0          	BSET	r0x100E,0
000194   2997     goto    0x197            	GOTO	_00171_DS_
                                           _00167_DS_
                                           ;	.line	260; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
000195   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	261; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
000196   21e5     call    0x1e5            	CALL	_pir_pin_out
                                           _00171_DS_
                                           ;	.line	265; "MC30P6280.c"	delay_5us();
000197   2216     call    0x216            	CALL	_delay_5us
                                           ;	.line	216; "MC30P6280.c"	for (i = 0; i < 19; i++) // 读取19位数据
000198   199f     incr    0x1f             	INCR	r0x1011
                                           ;;unsigned compare: left < lit(0x13=19), size=1
000199   0b13     movai   0x13             	MOVAI	0x13
00019a   121f     rsubar  0x1f             	RSUBAR	r0x1011
00019b   3003     jbset   0x3, 0           	JBSET	STATUS,0
00019c   296a     goto    0x16a            	GOTO	_00181_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	268; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
00019d   21e5     call    0x1e5            	CALL	_pir_pin_out
                                           ;	.line	269; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
00019e   3e06     bclr    0x6, 0x4         	BCLR	_P1bits,4
                                           ;	.line	272; "MC30P6280.c"	delay_5us();
00019f   2216     call    0x216            	CALL	_delay_5us
                                           ;	.line	275; "MC30P6280.c"	GIE = 1; // 开启总中断
0001a0   3b8e     bset    0xe, 0x7         	BSET	_INTEbits,7
                                           ;	.line	277; "MC30P6280.c"	if (checkCode == 0x04) // 校验头码尾码
0001a1   161e     movar   0x1e             	MOVAR	r0x1010
0001a2   0804     xorai   0x4              	XORAI	0x04
0001a3   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0001a4   29c2     goto    0x1c2            	GOTO	_00180_DS_
                                           ;	.line	279; "MC30P6280.c"	if ((pirData & (u16)0x8000) != 0) // 校验负数
0001a5   339d     jbset   0x1d, 0x7        	JBSET	r0x100F,7
0001a6   29b2     goto    0x1b2            	GOTO	_00175_DS_
                                           ;	.line	281; "MC30P6280.c"	pirData = (~pirData) + 1; // 转换为正数
0001a7   1c1c     comar   0x1c             	COMAR	r0x100E
0001a8   159e     movra   0x1e             	MOVRA	r0x1010
0001a9   1c1d     comar   0x1d             	COMAR	r0x100F
0001aa   159f     movra   0x1f             	MOVRA	r0x1011
0001ab   0b01     movai   0x1              	MOVAI	0x01
0001ac   1f1e     addar   0x1e             	ADDAR	r0x1010
0001ad   159c     movra   0x1c             	MOVRA	r0x100E
0001ae   1d9d     clrr    0x1d             	CLRR	r0x100F
0001af   149d     rlr     0x1d             	RLR	r0x100F
0001b0   161f     movar   0x1f             	MOVAR	r0x1011
0001b1   1f9d     addra   0x1d             	ADDRA	r0x100F
                                           ;;unsigned compare: left < lit(0x5DC=1500), size=2
                                           _00175_DS_
                                           ;	.line	284; "MC30P6280.c"	if (pirData < 1500)
0001b2   0b05     movai   0x5              	MOVAI	0x05
0001b3   121d     rsubar  0x1d             	RSUBAR	r0x100F
0001b4   3103     jbset   0x3, 0x2         	JBSET	STATUS,2
0001b5   29b8     goto    0x1b8            	GOTO	_00221_DS_
0001b6   0bdc     movai   0xdc             	MOVAI	0xdc
0001b7   121c     rsubar  0x1c             	RSUBAR	r0x100E
                                           _00221_DS_
0001b8   3403     jbclr   0x3, 0           	JBCLR	STATUS,0
0001b9   29be     goto    0x1be            	GOTO	_00177_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	286; "MC30P6280.c"	return pirData;
0001ba   161c     movar   0x1c             	MOVAR	r0x100E
0001bb   1596     movra   0x16             	MOVRA	STK00
0001bc   161d     movar   0x1d             	MOVAR	r0x100F
0001bd   29c5     goto    0x1c5            	GOTO	_00183_DS_
                                           _00177_DS_
                                           ;	.line	290; "MC30P6280.c"	return 0;
0001be   0b00     movai   0                	MOVAI	0x00
0001bf   1596     movra   0x16             	MOVRA	STK00
0001c0   0b00     movai   0                	MOVAI	0x00
0001c1   29c5     goto    0x1c5            	GOTO	_00183_DS_
                                           _00180_DS_
                                           ;	.line	294; "MC30P6280.c"	return 0;
0001c2   0b00     movai   0                	MOVAI	0x00
0001c3   1596     movra   0x16             	MOVRA	STK00
0001c4   0b00     movai   0                	MOVAI	0x00
                                           _00183_DS_
                                           ;	.line	295; "MC30P6280.c"	}
0001c5   000c     return                   	RETURN	
                                           ; exit point of _get_pirdata
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _sel_pin_config
                                           ;   _light_sensor_pin_config
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _sel_pin_config
                                           ;   _light_sensor_pin_config
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	182; "MC30P6280.c"	GIE = 0;
0001c6   3f8e     bclr    0xe, 0x7         	BCLR	_INTEbits,7
                                           ;	.line	183; "MC30P6280.c"	C_RAM();
0001c7   21d5     call    0x1d5            	CALL	_C_RAM
                                           ;	.line	184; "MC30P6280.c"	IO_Init();
0001c8   21cd     call    0x1cd            	CALL	_IO_Init
                                           ;	.line	186; "MC30P6280.c"	sel_pin_config();		   // 拨码开关检测引脚的配置
0001c9   21e2     call    0x1e2            	CALL	_sel_pin_config
                                           ;	.line	187; "MC30P6280.c"	light_sensor_pin_config(); // 检测光敏的引脚的相关配置
0001ca   21df     call    0x1df            	CALL	_light_sensor_pin_config
                                           ;	.line	189; "MC30P6280.c"	GIE = 1;
0001cb   3b8e     bset    0xe, 0x7         	BSET	_INTEbits,7
                                           ;	.line	190; "MC30P6280.c"	}
0001cc   000c     return                   	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	167; "MC30P6280.c"	P1 = 0x00;	  // 1:input 0:output
0001cd   1d86     clrr    0x6              	CLRR	_P1
                                           ;	.line	168; "MC30P6280.c"	DDR1 = 0x00;  // 1:input 0:output
0001ce   1dc6     clrr    0x46             	CLRR	_DDR1
                                           ;	.line	169; "MC30P6280.c"	PUCON = 0xff; // 0:Effective 1:invalid
0001cf   0bff     movai   0xff             	MOVAI	0xff
0001d0   158d     movra   0xd              	MOVRA	_PUCON
                                           ;	.line	170; "MC30P6280.c"	PDCON = 0xff; // 0:Effective 1:invalid
0001d1   0bff     movai   0xff             	MOVAI	0xff
0001d2   158b     movra   0xb              	MOVRA	_PDCON
                                           ;	.line	171; "MC30P6280.c"	ODCON = 0x00; // 0:推挽输出  1:开漏输出
0001d3   1d8c     clrr    0xc              	CLRR	_ODCON
                                           ;	.line	172; "MC30P6280.c"	}
0001d4   000c     return                   	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _C_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _C_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	156; "MC30P6280.c"	__endasm;
                                           	;
0001d5   0b3f     movai   0x3f             	movai	0x3F;
0001d6   1584     movra   0x4              	movra	FSR;
0001d7   0b2f     movai   0x2f             	movai	47;
0001d8   15bf     movra   0x3f             	movra	0x3F;
0001d9   1b84     decr    0x4              	decr	FSR;
0001da   1d80     clrr    0                	clrr	INDF;
0001db   1abf     djzr    0x3f             	djzr	0x3F;
0001dc   29d9     goto    0x1d9            	goto	$ - 3;
0001dd   1dbf     clrr    0x3f             	clrr	0x3F;
                                           	
                                           ;	.line	157; "MC30P6280.c"	}
0001de   000c     return                   	RETURN	
                                           ; exit point of _C_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _light_sensor_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _light_sensor_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	133; "MC30P6280.c"	DDR1 |= 0x01 << 1;
0001df   38c6     bset    0x46, 0x1        	BSET	_DDR1,1
                                           ;	.line	134; "MC30P6280.c"	PUCON &= ~(0x01 << 1); // 使能上拉电阻
0001e0   3c8d     bclr    0xd, 0x1         	BCLR	_PUCON,1
                                           ;	.line	136; "MC30P6280.c"	}
0001e1   000c     return                   	RETURN	
                                           ; exit point of _light_sensor_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sel_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _sel_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	125; "MC30P6280.c"	DDR1 |= 0x01; // 输入模式
0001e2   3846     bset    0x46, 0          	BSET	_DDR1,0
                                           ;	.line	127; "MC30P6280.c"	PDCON &= ~(0x01); // 使能下拉电阻
0001e3   3c0b     bclr    0xb, 0           	BCLR	_PDCON,0
                                           ;	.line	128; "MC30P6280.c"	}
0001e4   000c     return                   	RETURN	
                                           ; exit point of _sel_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pir_pin_out	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pir_pin_out	;Function start
                                           ; 2 exit points
                                           ;	.line	117; "MC30P6280.c"	DDR1 &= ~(0x01 << 4);
0001e5   3e46     bclr    0x46, 0x4        	BCLR	_DDR1,4
                                           ;	.line	118; "MC30P6280.c"	}
0001e6   000c     return                   	RETURN	
                                           ; exit point of _pir_pin_out
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pir_pin_in	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pir_pin_in	;Function start
                                           ; 2 exit points
                                           ;	.line	108; "MC30P6280.c"	DDR1 |= 0x01 << 4; // 输入模式
0001e7   3a46     bset    0x46, 0x4        	BSET	_DDR1,4
                                           ;	.line	111; "MC30P6280.c"	PUCON &= ~(0x01 << 4); // 内部上拉有效
0001e8   3e0d     bclr    0xd, 0x4         	BCLR	_PUCON,4
                                           ;	.line	112; "MC30P6280.c"	}
0001e9   000c     return                   	RETURN	
                                           ; exit point of _pir_pin_in
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;11 compiler assigned registers:
                                           ;   r0x1009
                                           ;   STK00
                                           ;   r0x100A
                                           ;   STK01
                                           ;   r0x100B
                                           ;   STK02
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;   r0x100F
                                           ;   r0x1010
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	91; "MC30P6280.c"	void delay_ms(u32 xms)
0001ea   159a     movra   0x1a             	MOVRA	r0x1009
0001eb   1616     movar   0x16             	MOVAR	STK00
0001ec   1599     movra   0x19             	MOVRA	r0x100A
0001ed   1615     movar   0x15             	MOVAR	STK01
0001ee   1598     movra   0x18             	MOVRA	r0x100B
0001ef   1614     movar   0x14             	MOVAR	STK02
0001f0   1597     movra   0x17             	MOVRA	r0x100C
                                           _00127_DS_
                                           ;	.line	93; "MC30P6280.c"	while (xms)
0001f1   1617     movar   0x17             	MOVAR	r0x100C
0001f2   1718     orar    0x18             	ORAR	r0x100B
0001f3   1719     orar    0x19             	ORAR	r0x100A
0001f4   171a     orar    0x1a             	ORAR	r0x1009
0001f5   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
0001f6   2a15     goto    0x215            	GOTO	_00130_DS_
                                           ;	.line	96; "MC30P6280.c"	while (i--)
0001f7   0b13     movai   0x13             	MOVAI	0x13
0001f8   159b     movra   0x1b             	MOVRA	r0x100D
0001f9   0b02     movai   0x2              	MOVAI	0x02
0001fa   159c     movra   0x1c             	MOVRA	r0x100E
                                           _00124_DS_
0001fb   161b     movar   0x1b             	MOVAR	r0x100D
0001fc   159d     movra   0x1d             	MOVRA	r0x100F
0001fd   161c     movar   0x1c             	MOVAR	r0x100E
0001fe   159e     movra   0x1e             	MOVRA	r0x1010
0001ff   0bff     movai   0xff             	MOVAI	0xff
000200   1f9b     addra   0x1b             	ADDRA	r0x100D
000201   3003     jbset   0x3, 0           	JBSET	STATUS,0
000202   1b9c     decr    0x1c             	DECR	r0x100E
000203   161d     movar   0x1d             	MOVAR	r0x100F
000204   171e     orar    0x1e             	ORAR	r0x1010
000205   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
000206   2a09     goto    0x209            	GOTO	_00126_DS_
                                           ;	.line	98; "MC30P6280.c"	Nop();
000207   0000     nop                      	nop	
000208   29fb     goto    0x1fb            	GOTO	_00124_DS_
                                           _00126_DS_
                                           ;	.line	100; "MC30P6280.c"	xms--;
000209   0bff     movai   0xff             	MOVAI	0xff
00020a   1f97     addra   0x17             	ADDRA	r0x100C
00020b   0bff     movai   0xff             	MOVAI	0xff
00020c   3003     jbset   0x3, 0           	JBSET	STATUS,0
00020d   1f98     addra   0x18             	ADDRA	r0x100B
00020e   0bff     movai   0xff             	MOVAI	0xff
00020f   3003     jbset   0x3, 0           	JBSET	STATUS,0
000210   1f99     addra   0x19             	ADDRA	r0x100A
000211   0bff     movai   0xff             	MOVAI	0xff
000212   3003     jbset   0x3, 0           	JBSET	STATUS,0
000213   1f9a     addra   0x1a             	ADDRA	r0x1009
000214   29f1     goto    0x1f1            	GOTO	_00127_DS_
                                           _00130_DS_
                                           ;	.line	102; "MC30P6280.c"	}
000215   000c     return                   	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_5us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;2 compiler assigned registers:
                                           ;   r0x1009
                                           ;   r0x100A
                                           ;; Starting pCode block
                                           _delay_5us	;Function start
                                           ; 2 exit points
                                           ;	.line	77; "MC30P6280.c"	while (xus--)
000216   0b02     movai   0x2              	MOVAI	0x02
000217   159a     movra   0x1a             	MOVRA	r0x1009
                                           _00116_DS_
000218   161a     movar   0x1a             	MOVAR	r0x1009
000219   1599     movra   0x19             	MOVRA	r0x100A
00021a   1b9a     decr    0x1a             	DECR	r0x1009
00021b   0b00     movai   0                	MOVAI	0x00
00021c   1719     orar    0x19             	ORAR	r0x100A
00021d   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
00021e   2a20     goto    0x220            	GOTO	_00119_DS_
                                           ;	.line	85; "MC30P6280.c"	__endasm;
                                           	;
                                           	
00021f   2a18     goto    0x218            	GOTO	_00116_DS_
                                           _00119_DS_
                                           ;	.line	87; "MC30P6280.c"	}
000220   000c     return                   	RETURN	
                                           ; exit point of _delay_5us
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_100us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;8 compiler assigned registers:
                                           ;   r0x1009
                                           ;   STK00
                                           ;   r0x100A
                                           ;   STK01
                                           ;   r0x100B
                                           ;   STK02
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;; Starting pCode block
                                           _delay_100us	;Function start
                                           ; 2 exit points
                                           ;	.line	58; "MC30P6280.c"	void delay_100us(u32 xus)
000221   159a     movra   0x1a             	MOVRA	r0x1009
000222   1616     movar   0x16             	MOVAR	STK00
000223   1599     movra   0x19             	MOVRA	r0x100A
000224   1615     movar   0x15             	MOVAR	STK01
000225   1598     movra   0x18             	MOVRA	r0x100B
000226   1614     movar   0x14             	MOVAR	STK02
000227   1597     movra   0x17             	MOVRA	r0x100C
                                           _00108_DS_
                                           ;	.line	60; "MC30P6280.c"	while (xus)
000228   1617     movar   0x17             	MOVAR	r0x100C
000229   1718     orar    0x18             	ORAR	r0x100B
00022a   1719     orar    0x19             	ORAR	r0x100A
00022b   171a     orar    0x1a             	ORAR	r0x1009
00022c   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
00022d   2a43     goto    0x243            	GOTO	_00111_DS_
                                           ;	.line	63; "MC30P6280.c"	while (i)
00022e   0b61     movai   0x61             	MOVAI	0x61
00022f   159b     movra   0x1b             	MOVRA	r0x100D
                                           _00105_DS_
000230   0b00     movai   0                	MOVAI	0x00
000231   171b     orar    0x1b             	ORAR	r0x100D
000232   3503     jbclr   0x3, 0x2         	JBCLR	STATUS,2
000233   2a37     goto    0x237            	GOTO	_00107_DS_
                                           ;	.line	65; "MC30P6280.c"	Nop();
000234   0000     nop                      	nop	
                                           ;	.line	66; "MC30P6280.c"	i--;
000235   1b9b     decr    0x1b             	DECR	r0x100D
000236   2a30     goto    0x230            	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	68; "MC30P6280.c"	xus--;
000237   0bff     movai   0xff             	MOVAI	0xff
000238   1f97     addra   0x17             	ADDRA	r0x100C
000239   0bff     movai   0xff             	MOVAI	0xff
00023a   3003     jbset   0x3, 0           	JBSET	STATUS,0
00023b   1f98     addra   0x18             	ADDRA	r0x100B
00023c   0bff     movai   0xff             	MOVAI	0xff
00023d   3003     jbset   0x3, 0           	JBSET	STATUS,0
00023e   1f99     addra   0x19             	ADDRA	r0x100A
00023f   0bff     movai   0xff             	MOVAI	0xff
000240   3003     jbset   0x3, 0           	JBSET	STATUS,0
000241   1f9a     addra   0x1a             	ADDRA	r0x1009
000242   2a28     goto    0x228            	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	70; "MC30P6280.c"	}
000243   000c     return                   	RETURN	
                                           ; exit point of _delay_100us
                                           
                                           
                                           ;	code size estimation:
                                           ;	  551+    0 =   551 instructions ( 1102 byte)
                                           
                                           	end
                                           ;--------------------------------------------------------
                                           ; File Created by SN-SDCC : SinoMCU ANSI-C Compiler
                                           ; Version 2.0.0 (Dec 11 2019) (MINGW32)
                                           ; This file was generated Wed Aug 28 15:16:06 2024
                                           ;--------------------------------------------------------
                                           ; MC30 port for the RISC core
                                           ;--------------------------------------------------------
                                           ;	.file	"MC30P6280.c"
                                           	list	p=1K6280
                                           	radix dec
                                           	include "1K6280.inc"
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_INDFbits
                                           	extern	_T0CNTbits
                                           	extern	_PCLbits
                                           	extern	_STATUSbits
                                           	extern	_FSRbits
                                           	extern	_P1bits
                                           	extern	_MCRbits
                                           	extern	_P1KBCRbits
                                           	extern	_PCLATHbits
                                           	extern	_PDCONbits
                                           	extern	_ODCONbits
                                           	extern	_PUCONbits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_T0CRbits
                                           	extern	_DDR1bits
                                           	extern	_TMRCRbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_INDF
                                           	extern	_T0CNT
                                           	extern	_PCL
                                           	extern	_STATUS
                                           	extern	_FSR
                                           	extern	_P1
                                           	extern	_MCR
                                           	extern	_P1KBCR
                                           	extern	_PCLATH
                                           	extern	_PDCON
                                           	extern	_ODCON
                                           	extern	_PUCON
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_T0CR
                                           	extern	_DDR1
                                           	extern	_TMRCR
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_Sys_Init
                                           	global	_IO_Init
                                           	global	_C_RAM
                                           	global	_delay_100us
                                           	global	_delay_5us
                                           	global	_delay_ms
                                           	global	_pir_pin_in
                                           	global	_pir_pin_out
                                           	global	_sel_pin_config
                                           	global	_light_sensor_pin_config
                                           	global	_get_pirdata
                                           	global	___set_input_pull_up
                                           	global	___set_output_open_drain
                                           	global	_led_on
                                           	global	_led_off
                                           	global	_get_detected_light
                                           	global	_mode_pir
                                           	global	_main
                                           	global	_int_isr
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_cur_light_status
                                           	global	_detect_cnt
                                           	global	_pir_val
                                           	global	_loop_cnt
                                           	global	_wake_up_times
                                           	global	_flag1
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0010
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC30P6280_0	udata
                                           _abuf	res	1
                                           
                                           UD_MC30P6280_1	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC30P6280_2	udata
                                           _detect_cnt	res	1
                                           
                                           UD_MC30P6280_3	udata
                                           _pir_val	res	2
                                           
                                           UD_MC30P6280_4	udata
                                           _loop_cnt	res	1
                                           
                                           UD_MC30P6280_5	udata
                                           _wake_up_times	res	1
                                           
                                           UD_MC30P6280_6	udata
                                           _flag1	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC30P6280_0	udata
                                           r0x100C	res	1
                                           r0x100B	res	1
                                           r0x100A	res	1
                                           r0x1009	res	1
                                           r0x100D	res	1
                                           r0x100E	res	1
                                           r0x100F	res	1
                                           r0x1010	res	1
                                           r0x1011	res	1
                                           r0x1012	res	1
                                           r0x1013	res	1
                                           r0x1014	res	1
                                           _mode_pir_i_65536_56	res	2
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ID_MC30P6280_0	idata
                                           _cur_light_status
                                           	db	0x00
                                           
                                           
                                           ;@Allocation info for local variables in function 'delay_100us'
                                           ;@delay_100us C_RAM                     Allocated to registers ;size:2
                                           ;@delay_100us IO_Init                   Allocated to registers ;size:2
                                           ;@delay_100us Sys_Init                  Allocated to registers ;size:2
                                           ;@delay_100us delay_100us               Allocated to registers ;size:2
                                           ;@delay_100us INDFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us PCLbits                   Allocated to registers ;size:1
                                           ;@delay_100us STATUSbits                Allocated to registers ;size:1
                                           ;@delay_100us FSRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1bits                    Allocated to registers ;size:1
                                           ;@delay_100us MCRbits                   Allocated to registers ;size:1
                                           ;@delay_100us P1KBCRbits                Allocated to registers ;size:1
                                           ;@delay_100us PCLATHbits                Allocated to registers ;size:1
                                           ;@delay_100us PDCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us ODCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us PUCONbits                 Allocated to registers ;size:1
                                           ;@delay_100us INTEbits                  Allocated to registers ;size:1
                                           ;@delay_100us INTFbits                  Allocated to registers ;size:1
                                           ;@delay_100us T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us DDR1bits                  Allocated to registers ;size:1
                                           ;@delay_100us TMRCRbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_100us T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_100us T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_100us T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_100us abuf                      Allocated to registers ;size:1
                                           ;@delay_100us statusbuf                 Allocated to registers ;size:1
                                           ;@delay_100us cur_light_status          Allocated to registers ;size:1
                                           ;@delay_100us detect_cnt                Allocated to registers ;size:1
                                           ;@delay_100us pir_val                   Allocated to registers ;size:2
                                           ;@delay_100us loop_cnt                  Allocated to registers ;size:1
                                           ;@delay_100us wake_up_times             Allocated to registers ;size:1
                                           ;@delay_100us flag1                     Allocated to registers ;size:1
                                           ;@delay_100us xus                       Allocated to registers ;size:4
                                           ;@delay_100us i                         Allocated to registers r0x100D ;size:1
                                           ;@delay_100us INDF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CNT                     Allocated to registers ;size:1
                                           ;@delay_100us PCL                       Allocated to registers ;size:1
                                           ;@delay_100us STATUS                    Allocated to registers ;size:1
                                           ;@delay_100us FSR                       Allocated to registers ;size:1
                                           ;@delay_100us P1                        Allocated to registers ;size:1
                                           ;@delay_100us MCR                       Allocated to registers ;size:1
                                           ;@delay_100us P1KBCR                    Allocated to registers ;size:1
                                           ;@delay_100us PCLATH                    Allocated to registers ;size:1
                                           ;@delay_100us PDCON                     Allocated to registers ;size:1
                                           ;@delay_100us ODCON                     Allocated to registers ;size:1
                                           ;@delay_100us PUCON                     Allocated to registers ;size:1
                                           ;@delay_100us INTE                      Allocated to registers ;size:1
                                           ;@delay_100us INTF                      Allocated to registers ;size:1
                                           ;@delay_100us T0CR                      Allocated to registers ;size:1
                                           ;@delay_100us DDR1                      Allocated to registers ;size:1
                                           ;@delay_100us TMRCR                     Allocated to registers ;size:1
                                           ;@delay_100us T1CR                      Allocated to registers ;size:1
                                           ;@delay_100us T1CNT                     Allocated to registers ;size:1
                                           ;@delay_100us T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_100us T1DATA                    Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_100us';
                                           ;@Allocation info for local variables in function 'delay_5us'
                                           ;@delay_5us xus                       Allocated to registers r0x1009 ;size:1
                                           ;@end Allocation info for local variables in function 'delay_5us';
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms xms                       Allocated to registers ;size:4
                                           ;@delay_ms i                         Allocated to registers r0x100D r0x100E ;size:2
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'pir_pin_in'
                                           ;@end Allocation info for local variables in function 'pir_pin_in';
                                           ;@Allocation info for local variables in function 'pir_pin_out'
                                           ;@end Allocation info for local variables in function 'pir_pin_out';
                                           ;@Allocation info for local variables in function 'sel_pin_config'
                                           ;@end Allocation info for local variables in function 'sel_pin_config';
                                           ;@Allocation info for local variables in function 'light_sensor_pin_config'
                                           ;@end Allocation info for local variables in function 'light_sensor_pin_config';
                                           ;@Allocation info for local variables in function 'C_RAM'
                                           ;@end Allocation info for local variables in function 'C_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function 'get_pirdata'
                                           ;@get_pirdata pirData                   Allocated to registers r0x100E r0x100F ;size:2
                                           ;@get_pirdata checkCode                 Allocated to registers r0x1010 ;size:1
                                           ;@get_pirdata i                         Allocated to registers r0x1011 ;size:1
                                           ;@end Allocation info for local variables in function 'get_pirdata';
                                           ;@Allocation info for local variables in function '__set_input_pull_up'
                                           ;@end Allocation info for local variables in function '__set_input_pull_up';
                                           ;@Allocation info for local variables in function '__set_output_open_drain'
                                           ;@end Allocation info for local variables in function '__set_output_open_drain';
                                           ;@Allocation info for local variables in function 'led_on'
                                           ;@end Allocation info for local variables in function 'led_on';
                                           ;@Allocation info for local variables in function 'led_off'
                                           ;@end Allocation info for local variables in function 'led_off';
                                           ;@Allocation info for local variables in function 'get_detected_light'
                                           ;@end Allocation info for local variables in function 'get_detected_light';
                                           ;@Allocation info for local variables in function 'mode_pir'
                                           ;@mode_pir i                         Allocated to registers ;size:2
                                           ;@end Allocation info for local variables in function 'mode_pir';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@main i                         Allocated to registers r0x1014 ;size:1
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
                                           	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	620; "MC30P6280.c"	__endasm;
                                           	;
                                           	movra	_abuf;
                                           	swapar	_STATUS;
                                           	movra	_statusbuf;
                                           	
                                           ;	.line	622; "MC30P6280.c"	if ((T0IF) && (T0IE))
                                           	JBSET	_INTFbits,0
                                           	GOTO	_00451_DS_
                                           	JBSET	_INTEbits,0
                                           	GOTO	_00451_DS_
                                           ;	.line	624; "MC30P6280.c"	T0CNT = 255 - T0_CNT_TIME; // 递增计数器
                                           	MOVAI	0xee
                                           	MOVRA	_T0CNT
                                           ;	.line	625; "MC30P6280.c"	T0IF = 0;
                                           	BCLR	_INTFbits,0
                                           _00451_DS_
                                           ;	.line	633; "MC30P6280.c"	__endasm;
                                           	;
                                           	swapar	_statusbuf;
                                           	movra	_STATUS;
                                           	swapr	_abuf;
                                           	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	634; "MC30P6280.c"	}
                                           	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC30P6280	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   _led_off
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _mode_pir
                                           ;   _Sys_Init
                                           ;   _led_off
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _mode_pir
                                           ;4 compiler assigned registers:
                                           ;   r0x1014
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	508; "MC30P6280.c"	Sys_Init();
                                           	CALL	_Sys_Init
                                           ;	.line	510; "MC30P6280.c"	P15D = 1;  // 传感器要一直供电
                                           	BSET	_P1bits,5
                                           ;	.line	511; "MC30P6280.c"	led_off(); // 熄灭所有LED
                                           	CALL	_led_off
                                           _00441_DS_
                                           ;	.line	525; "MC30P6280.c"	if (SEL_PIN && 0 == cur_light_status) // 如果灯是灭的，才进行下一步，否则灯会有跳动
                                           	JBSET	_P1bits,0
                                           	GOTO	_00437_DS_
                                           	MOVAI	0x00
                                           	ORAR	_cur_light_status
                                           	JBSET	STATUS,2
                                           	GOTO	_00437_DS_
                                           ;	.line	527; "MC30P6280.c"	for (i = 0; i < 20; i++)
                                           	CLRR	r0x1014
                                           _00443_DS_
                                           ;	.line	529; "MC30P6280.c"	if (SEL_PIN)
                                           	JBSET	_P1bits,0
                                           	GOTO	_00425_DS_
                                           ;	.line	531; "MC30P6280.c"	loop_cnt++;
                                           	INCR	_loop_cnt
                                           _00425_DS_
                                           ;	.line	533; "MC30P6280.c"	delay_ms(1);
                                           	MOVAI	0x01
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	527; "MC30P6280.c"	for (i = 0; i < 20; i++)
                                           	INCR	r0x1014
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           	MOVAI	0x14
                                           	RSUBAR	r0x1014
                                           	JBSET	STATUS,0
                                           	GOTO	_00443_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x10=16), size=1
                                           ;	.line	536; "MC30P6280.c"	if (loop_cnt >= 16)
                                           	MOVAI	0x10
                                           	RSUBAR	_loop_cnt
                                           	JBSET	STATUS,0
                                           	GOTO	_00428_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	539; "MC30P6280.c"	led_on();
                                           	CALL	_led_on
                                           ;	.line	540; "MC30P6280.c"	cur_light_status = 1; //
                                           	MOVAI	0x01
                                           	MOVRA	_cur_light_status
                                           _00428_DS_
                                           ;	.line	543; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
                                           	CLRR	_loop_cnt
                                           	GOTO	_00441_DS_
                                           _00437_DS_
                                           ;	.line	545; "MC30P6280.c"	else if (0 == SEL_PIN)
                                           	JBCLR	_P1bits,0
                                           	GOTO	_00441_DS_
                                           ;	.line	547; "MC30P6280.c"	for (i = 0; i < 20; i++)
                                           	CLRR	r0x1014
                                           _00445_DS_
                                           ;	.line	549; "MC30P6280.c"	if (0 == SEL_PIN)
                                           	JBCLR	_P1bits,0
                                           	GOTO	_00430_DS_
                                           ;	.line	551; "MC30P6280.c"	loop_cnt++;
                                           	INCR	_loop_cnt
                                           _00430_DS_
                                           ;	.line	553; "MC30P6280.c"	delay_ms(1);
                                           	MOVAI	0x01
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	547; "MC30P6280.c"	for (i = 0; i < 20; i++)
                                           	INCR	r0x1014
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           	MOVAI	0x14
                                           	RSUBAR	r0x1014
                                           	JBSET	STATUS,0
                                           	GOTO	_00445_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x10=16), size=1
                                           ;	.line	556; "MC30P6280.c"	if (loop_cnt >= 16)
                                           	MOVAI	0x10
                                           	RSUBAR	_loop_cnt
                                           	JBSET	STATUS,0
                                           	GOTO	_00433_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	559; "MC30P6280.c"	led_on(); // 点亮LED
                                           	CALL	_led_on
                                           ;	.line	560; "MC30P6280.c"	cur_light_status = 1;
                                           	MOVAI	0x01
                                           	MOVRA	_cur_light_status
                                           ;	.line	561; "MC30P6280.c"	delay_ms(3000);
                                           	MOVAI	0xb8
                                           	MOVRA	STK02
                                           	MOVAI	0x0b
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	562; "MC30P6280.c"	led_off(); // 熄灭LED
                                           	CALL	_led_off
                                           ;	.line	563; "MC30P6280.c"	cur_light_status = 0;
                                           	CLRR	_cur_light_status
                                           ;	.line	565; "MC30P6280.c"	mode_pir(); // 人体感应模式 (内部有关循环)
                                           	CALL	_mode_pir
                                           _00433_DS_
                                           ;	.line	568; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
                                           	CLRR	_loop_cnt
                                           	GOTO	_00441_DS_
                                           ;	.line	606; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _mode_pir	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _led_on
                                           ;   _delay_ms
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _led_off
                                           ;   _get_pirdata
                                           ;   _delay_ms
                                           ;4 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;   r0x1013
                                           ;; Starting pCode block
                                           _mode_pir	;Function start
                                           ; 2 exit points
                                           ;	.line	344; "MC30P6280.c"	volatile u16 i = 0; // 循环计数值
                                           	CLRR	_mode_pir_i_65536_56
                                           	CLRR	(_mode_pir_i_65536_56 + 1)
                                           _00291_DS_
                                           ;	.line	349; "MC30P6280.c"	if (SEL_PIN)
                                           	JBSET	_P1bits,0
                                           	GOTO	_00256_DS_
                                           ;	.line	351; "MC30P6280.c"	for (i = 0; i < 20; i++)
                                           	CLRR	_mode_pir_i_65536_56
                                           	CLRR	(_mode_pir_i_65536_56 + 1)
                                           ;;unsigned compare: left < lit(0x14=20), size=2
                                           _00294_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	(_mode_pir_i_65536_56 + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00407_DS_
                                           	MOVAI	0x14
                                           	RSUBAR	_mode_pir_i_65536_56
                                           _00407_DS_
                                           	JBCLR	STATUS,0
                                           	GOTO	_00252_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	353; "MC30P6280.c"	if (SEL_PIN)
                                           	JBSET	_P1bits,0
                                           	GOTO	_00251_DS_
                                           ;	.line	355; "MC30P6280.c"	loop_cnt++;
                                           	INCR	_loop_cnt
                                           _00251_DS_
                                           ;	.line	357; "MC30P6280.c"	delay_ms(1);
                                           	MOVAI	0x01
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	351; "MC30P6280.c"	for (i = 0; i < 20; i++)
                                           	INCR	_mode_pir_i_65536_56
                                           	JBCLR	STATUS,2
                                           	INCR	(_mode_pir_i_65536_56 + 1)
                                           	GOTO	_00294_DS_
                                           ;;unsigned compare: left < lit(0x10=16), size=1
                                           _00252_DS_
                                           ;	.line	360; "MC30P6280.c"	if (loop_cnt >= 16)
                                           	MOVAI	0x10
                                           	RSUBAR	_loop_cnt
                                           	JBSET	STATUS,0
                                           	GOTO	_00254_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	362; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
                                           	CLRR	_loop_cnt
                                           ;	.line	364; "MC30P6280.c"	return;
                                           	GOTO	_00305_DS_
                                           _00254_DS_
                                           ;	.line	367; "MC30P6280.c"	loop_cnt = 0; // 清除计数值
                                           	CLRR	_loop_cnt
                                           _00256_DS_
                                           ;	.line	375; "MC30P6280.c"	for (i = 0; i < 3; i++)
                                           	CLRR	_mode_pir_i_65536_56
                                           	CLRR	(_mode_pir_i_65536_56 + 1)
                                           ;;unsigned compare: left < lit(0x3=3), size=2
                                           _00297_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	(_mode_pir_i_65536_56 + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00409_DS_
                                           	MOVAI	0x03
                                           	RSUBAR	_mode_pir_i_65536_56
                                           _00409_DS_
                                           	JBCLR	STATUS,0
                                           	GOTO	_00264_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	377; "MC30P6280.c"	pir_val = get_pirdata();
                                           	CALL	_get_pirdata
                                           	MOVRA	(_pir_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0x32=50), size=1
                                           ;	.line	379; "MC30P6280.c"	if (wake_up_times >= WAKE_UP_TIMES_VAL)
                                           	MOVAI	0x32
                                           	RSUBAR	_wake_up_times
                                           	JBSET	STATUS,0
                                           	GOTO	_00263_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x50=80), size=2
                                           ;	.line	381; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
                                           	MOVAI	0x00
                                           	RSUBAR	(_pir_val + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00411_DS_
                                           	MOVAI	0x50
                                           	RSUBAR	_pir_val
                                           _00411_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00258_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	384; "MC30P6280.c"	detect_cnt++;
                                           	INCR	_detect_cnt
                                           	GOTO	_00259_DS_
                                           _00258_DS_
                                           ;	.line	388; "MC30P6280.c"	detect_cnt = 0; // 只要有一次不大于设定值，就认为没有感应到有人经过
                                           	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00259_DS_
                                           ;	.line	391; "MC30P6280.c"	if (detect_cnt >= PIR_DETECT_TIMES)
                                           	MOVAI	0x03
                                           	RSUBAR	_detect_cnt
                                           	JBSET	STATUS,0
                                           	GOTO	_00263_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	393; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
                                           	BSET	_flag1,1
                                           _00263_DS_
                                           ;	.line	397; "MC30P6280.c"	delay_ms(T0_CNT_TIME);
                                           	MOVAI	0x11
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	375; "MC30P6280.c"	for (i = 0; i < 3; i++)
                                           	INCR	_mode_pir_i_65536_56
                                           	JBCLR	STATUS,2
                                           	INCR	(_mode_pir_i_65536_56 + 1)
                                           	GOTO	_00297_DS_
                                           _00264_DS_
                                           ;	.line	399; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
                                           	CLRR	_detect_cnt
                                           ;	.line	401; "MC30P6280.c"	if (IS_DETECT_PERSON_FLAG)
                                           	JBSET	_flag1,1
                                           	GOTO	_00277_DS_
                                           ;	.line	404; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 0;
                                           	BCLR	_flag1,1
                                           ;	.line	406; "MC30P6280.c"	led_on();		// 点亮LED
                                           	CALL	_led_on
                                           ;	.line	407; "MC30P6280.c"	delay_ms(5000); // 5s内不做检测
                                           	MOVAI	0x88
                                           	MOVRA	STK02
                                           	MOVAI	0x13
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	410; "MC30P6280.c"	for (i = 0; i < 500; i++)
                                           	CLRR	_mode_pir_i_65536_56
                                           	CLRR	(_mode_pir_i_65536_56 + 1)
                                           ;;unsigned compare: left < lit(0x1F4=500), size=2
                                           _00300_DS_
                                           	MOVAI	0x01
                                           	RSUBAR	(_mode_pir_i_65536_56 + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00413_DS_
                                           	MOVAI	0xf4
                                           	RSUBAR	_mode_pir_i_65536_56
                                           _00413_DS_
                                           	JBCLR	STATUS,0
                                           	GOTO	_00270_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	412; "MC30P6280.c"	pir_val = get_pirdata();
                                           	CALL	_get_pirdata
                                           	MOVRA	(_pir_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0x50=80), size=2
                                           ;	.line	413; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL) // 如果检测到的值大于 设定值，说明可能检测到有人
                                           	MOVAI	0x00
                                           	RSUBAR	(_pir_val + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00414_DS_
                                           	MOVAI	0x50
                                           	RSUBAR	_pir_val
                                           _00414_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00266_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	416; "MC30P6280.c"	detect_cnt++;
                                           	INCR	_detect_cnt
                                           	GOTO	_00267_DS_
                                           _00266_DS_
                                           ;	.line	420; "MC30P6280.c"	detect_cnt = 0;
                                           	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x17=23), size=1
                                           _00267_DS_
                                           ;	.line	424; "MC30P6280.c"	if (detect_cnt >= (PIR_DETECT_TIMES + 20))
                                           	MOVAI	0x17
                                           	RSUBAR	_detect_cnt
                                           	JBSET	STATUS,0
                                           	GOTO	_00269_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	427; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
                                           	BSET	_flag1,1
                                           ;	.line	428; "MC30P6280.c"	delay_ms(20); // 延时20ms再退出，避免与下一次检测pir的时间过近
                                           	MOVAI	0x14
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	429; "MC30P6280.c"	break;
                                           	GOTO	_00270_DS_
                                           _00269_DS_
                                           ;	.line	432; "MC30P6280.c"	delay_ms(20); // 这里的时间和循环次数组合，构成10s，而且单次不能低于17ms
                                           	MOVAI	0x14
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	410; "MC30P6280.c"	for (i = 0; i < 500; i++)
                                           	INCR	_mode_pir_i_65536_56
                                           	JBCLR	STATUS,2
                                           	INCR	(_mode_pir_i_65536_56 + 1)
                                           	GOTO	_00300_DS_
                                           _00270_DS_
                                           ;	.line	434; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
                                           	CLRR	_detect_cnt
                                           ;	.line	436; "MC30P6280.c"	if (1 == IS_DETECT_PERSON_FLAG)
                                           	CLRR	r0x1013
                                           	JBCLR	_flag1,1
                                           	INCR	r0x1013
                                           	MOVAR	r0x1013
                                           	XORAI	0x01
                                           	JBSET	STATUS,2
                                           	GOTO	_00274_DS_
                                           ;	.line	440; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 0; // 清除标志位
                                           	BCLR	_flag1,1
                                           ;	.line	441; "MC30P6280.c"	continue;
                                           	GOTO	_00291_DS_
                                           _00274_DS_
                                           ;	.line	443; "MC30P6280.c"	else if (0 == IS_DETECT_PERSON_FLAG)
                                           	JBCLR	_flag1,1
                                           	GOTO	_00277_DS_
                                           ;	.line	446; "MC30P6280.c"	led_off(); // 熄灭LED
                                           	CALL	_led_off
                                           ;	.line	447; "MC30P6280.c"	cur_light_status = 0;
                                           	CLRR	_cur_light_status
                                           _00277_DS_
                                           ;	.line	453; "MC30P6280.c"	if (0 == cur_light_status)
                                           	MOVAI	0x00
                                           	ORAR	_cur_light_status
                                           	JBSET	STATUS,2
                                           	GOTO	_00291_DS_
                                           ;	.line	456; "MC30P6280.c"	TMRCR = 0x40;			   // 时钟源为内部 32768 Hz 低频
                                           	MOVAI	0x40
                                           	MOVRA	_TMRCR
                                           ;	.line	457; "MC30P6280.c"	T0CR = 4;				   // 预分频器分配给T0(而不是WDT)，32分频
                                           	MOVAI	0x04
                                           	MOVRA	_T0CR
                                           ;	.line	458; "MC30P6280.c"	T0CNT = 255 - T0_CNT_TIME; // 递增计数器(20ms产生一次中断)
                                           	MOVAI	0xee
                                           	MOVRA	_T0CNT
                                           ;	.line	459; "MC30P6280.c"	T0IE = 1;				   // 打开定时器
                                           	BSET	_INTEbits,0
                                           ;	.line	462; "MC30P6280.c"	Stop();
                                           	stop	
                                           ;	.line	463; "MC30P6280.c"	Nop();
                                           	nop	
                                           ;	.line	464; "MC30P6280.c"	Nop();
                                           	nop	
                                           ;	.line	467; "MC30P6280.c"	T0IE = 0;
                                           	BCLR	_INTEbits,0
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x33=51), size=1
                                           ;	.line	469; "MC30P6280.c"	if (wake_up_times <= WAKE_UP_TIMES_VAL)
                                           	MOVAI	0x33
                                           	RSUBAR	_wake_up_times
                                           	JBCLR	STATUS,0
                                           	GOTO	_00279_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	471; "MC30P6280.c"	wake_up_times++;
                                           	INCR	_wake_up_times
                                           _00279_DS_
                                           ;	.line	474; "MC30P6280.c"	for (i = 0; i < 3; i++)
                                           	CLRR	_mode_pir_i_65536_56
                                           	CLRR	(_mode_pir_i_65536_56 + 1)
                                           ;;unsigned compare: left < lit(0x3=3), size=2
                                           _00303_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	(_mode_pir_i_65536_56 + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00417_DS_
                                           	MOVAI	0x03
                                           	RSUBAR	_mode_pir_i_65536_56
                                           _00417_DS_
                                           	JBCLR	STATUS,0
                                           	GOTO	_00287_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	476; "MC30P6280.c"	pir_val = get_pirdata();
                                           	CALL	_get_pirdata
                                           	MOVRA	(_pir_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_pir_val
                                           ;;unsigned compare: left < lit(0x32=50), size=1
                                           ;	.line	478; "MC30P6280.c"	if (wake_up_times >= WAKE_UP_TIMES_VAL)
                                           	MOVAI	0x32
                                           	RSUBAR	_wake_up_times
                                           	JBSET	STATUS,0
                                           	GOTO	_00286_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;unsigned compare: left < lit(0x50=80), size=2
                                           ;	.line	480; "MC30P6280.c"	if (pir_val >= PIR_THRESHOLD_VAL)
                                           	MOVAI	0x00
                                           	RSUBAR	(_pir_val + 1)
                                           	JBSET	STATUS,2
                                           	GOTO	_00419_DS_
                                           	MOVAI	0x50
                                           	RSUBAR	_pir_val
                                           _00419_DS_
                                           	JBSET	STATUS,0
                                           	GOTO	_00281_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	483; "MC30P6280.c"	detect_cnt++;
                                           	INCR	_detect_cnt
                                           	GOTO	_00282_DS_
                                           _00281_DS_
                                           ;	.line	487; "MC30P6280.c"	detect_cnt = 0;
                                           	CLRR	_detect_cnt
                                           ;;unsigned compare: left < lit(0x3=3), size=1
                                           _00282_DS_
                                           ;	.line	490; "MC30P6280.c"	if (detect_cnt >= PIR_DETECT_TIMES)
                                           	MOVAI	0x03
                                           	RSUBAR	_detect_cnt
                                           	JBSET	STATUS,0
                                           	GOTO	_00286_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	492; "MC30P6280.c"	IS_DETECT_PERSON_FLAG = 1;
                                           	BSET	_flag1,1
                                           _00286_DS_
                                           ;	.line	496; "MC30P6280.c"	delay_ms(T0_CNT_TIME);
                                           	MOVAI	0x11
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	474; "MC30P6280.c"	for (i = 0; i < 3; i++)
                                           	INCR	_mode_pir_i_65536_56
                                           	JBCLR	STATUS,2
                                           	INCR	(_mode_pir_i_65536_56 + 1)
                                           	GOTO	_00303_DS_
                                           _00287_DS_
                                           ;	.line	499; "MC30P6280.c"	detect_cnt = 0; // 清空计数值
                                           	CLRR	_detect_cnt
                                           	GOTO	_00291_DS_
                                           _00305_DS_
                                           ;	.line	503; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _mode_pir
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_detected_light	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _get_detected_light	;Function start
                                           ; 2 exit points
                                           ;	.line	329; "MC30P6280.c"	if (0 == LIGHT_SENSOR_PIN)
                                           	JBCLR	_P1bits,1
                                           	GOTO	_00243_DS_
                                           ;	.line	332; "MC30P6280.c"	return 1;
                                           	MOVAI	0x01
                                           	GOTO	_00245_DS_
                                           _00243_DS_
                                           ;	.line	337; "MC30P6280.c"	return 2;
                                           	MOVAI	0x02
                                           _00245_DS_
                                           ;	.line	339; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _get_detected_light
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _led_off	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_input_pull_up
                                           ;   ___set_input_pull_up
                                           ;; Starting pCode block
                                           _led_off	;Function start
                                           ; 2 exit points
                                           ;	.line	321; "MC30P6280.c"	__set_input_pull_up();
                                           	CALL	___set_input_pull_up
                                           ;	.line	322; "MC30P6280.c"	P12D = 1;
                                           	BSET	_P1bits,2
                                           ;	.line	323; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _led_off
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _led_on	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   ___set_output_open_drain
                                           ;   ___set_output_open_drain
                                           ;; Starting pCode block
                                           _led_on	;Function start
                                           ; 2 exit points
                                           ;	.line	314; "MC30P6280.c"	__set_output_open_drain();
                                           	CALL	___set_output_open_drain
                                           ;	.line	315; "MC30P6280.c"	P12D = 0;
                                           	BCLR	_P1bits,2
                                           ;	.line	316; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _led_on
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_output_open_drain	;Function start
                                           ; 2 exit points
                                           ;	.line	307; "MC30P6280.c"	DDR1 &= ~(0x01 << 3); // P13配置为输出模式，P13只有开漏输出
                                           	BCLR	_DDR1,3
                                           ;	.line	308; "MC30P6280.c"	P13D = 0;
                                           	BCLR	_P1bits,3
                                           ;	.line	309; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of ___set_output_open_drain
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           ___set_input_pull_up	;Function start
                                           ; 2 exit points
                                           ;	.line	300; "MC30P6280.c"	DDR1 |= 0x01 << 3;	   // P13配置成输入模式
                                           	BSET	_DDR1,3
                                           ;	.line	301; "MC30P6280.c"	PUCON &= ~(0x01 << 3); // 使能P13上拉电阻
                                           	BCLR	_PUCON,3
                                           ;	.line	302; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of ___set_input_pull_up
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _get_pirdata	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _pir_pin_out
                                           ;   _delay_100us
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_in
                                           ;   _pir_pin_out
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_100us
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _delay_5us
                                           ;   _pir_pin_in
                                           ;   _pir_pin_out
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;   _pir_pin_out
                                           ;   _delay_5us
                                           ;8 compiler assigned registers:
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;   r0x100E
                                           ;   r0x100F
                                           ;   r0x1010
                                           ;   r0x1011
                                           ;   r0x1012
                                           ;; Starting pCode block
                                           _get_pirdata	;Function start
                                           ; 2 exit points
                                           ;	.line	201; "MC30P6280.c"	GIE = 0; // 关闭总中断
                                           	BCLR	_INTEbits,7
                                           ;	.line	203; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           ;	.line	204; "MC30P6280.c"	PIR_PIN = 1;   // PIR引脚输出高电平
                                           	BSET	_P1bits,4
                                           ;	.line	206; "MC30P6280.c"	delay_100us(1); // 延时100us
                                           	MOVAI	0x01
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_100us
                                           ;	.line	211; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	212; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	214; "MC30P6280.c"	pirData = 0;
                                           	CLRR	r0x100E
                                           	CLRR	r0x100F
                                           ;	.line	215; "MC30P6280.c"	checkCode = 0;
                                           	CLRR	r0x1010
                                           ;	.line	216; "MC30P6280.c"	for (i = 0; i < 19; i++) // 读取19位数据
                                           	CLRR	r0x1011
                                           _00181_DS_
                                           ;	.line	218; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           ;	.line	219; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
                                           	BCLR	_P1bits,4
                                           ;	.line	221; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	223; "MC30P6280.c"	PIR_PIN = 1; // PIR引脚输出高电平
                                           	BSET	_P1bits,4
                                           ;	.line	225; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	228; "MC30P6280.c"	PIR_PIN_IN(); // 切换输入模式（输入上拉）
                                           	CALL	_pir_pin_in
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	238; "MC30P6280.c"	if (i < 2 || i > 17)
                                           	MOVAI	0x02
                                           	RSUBAR	r0x1011
                                           	JBSET	STATUS,0
                                           	GOTO	_00169_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;swapping arguments (AOP_TYPEs 1/2)
                                           ;;unsigned compare: left >= lit(0x12=18), size=1
                                           	MOVAI	0x12
                                           	RSUBAR	r0x1011
                                           	JBSET	STATUS,0
                                           	GOTO	_00170_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           _00169_DS_
                                           ;	.line	240; "MC30P6280.c"	checkCode <<= 1;
                                           	MOVAR	r0x1010
                                           	MOVRA	r0x1012
                                           	BCLR	STATUS,0
                                           	RLAR	r0x1012
                                           	MOVRA	r0x1010
                                           ;	.line	241; "MC30P6280.c"	if (PIR_PIN == 1)
                                           	CLRR	r0x1012
                                           	JBCLR	_P1bits,4
                                           	INCR	r0x1012
                                           	MOVAR	r0x1012
                                           	XORAI	0x01
                                           	JBSET	STATUS,2
                                           	GOTO	_00164_DS_
                                           ;	.line	243; "MC30P6280.c"	checkCode |= 0x01;
                                           	BSET	r0x1010,0
                                           	GOTO	_00171_DS_
                                           _00164_DS_
                                           ;	.line	247; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
                                           	BCLR	_P1bits,4
                                           ;	.line	248; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           	GOTO	_00171_DS_
                                           _00170_DS_
                                           ;	.line	253; "MC30P6280.c"	pirData <<= 1;
                                           	BCLR	STATUS,0
                                           	RLR	r0x100E
                                           	RLR	r0x100F
                                           ;	.line	254; "MC30P6280.c"	if (PIR_PIN == 1)
                                           	CLRR	r0x1012
                                           	JBCLR	_P1bits,4
                                           	INCR	r0x1012
                                           	MOVAR	r0x1012
                                           	XORAI	0x01
                                           	JBSET	STATUS,2
                                           	GOTO	_00167_DS_
                                           ;	.line	256; "MC30P6280.c"	pirData |= 0x01;
                                           	BSET	r0x100E,0
                                           	GOTO	_00171_DS_
                                           _00167_DS_
                                           ;	.line	260; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
                                           	BCLR	_P1bits,4
                                           ;	.line	261; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           _00171_DS_
                                           ;	.line	265; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	216; "MC30P6280.c"	for (i = 0; i < 19; i++) // 读取19位数据
                                           	INCR	r0x1011
                                           ;;unsigned compare: left < lit(0x13=19), size=1
                                           	MOVAI	0x13
                                           	RSUBAR	r0x1011
                                           	JBSET	STATUS,0
                                           	GOTO	_00181_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	268; "MC30P6280.c"	PIR_PIN_OUT(); // 切换输出模式
                                           	CALL	_pir_pin_out
                                           ;	.line	269; "MC30P6280.c"	PIR_PIN = 0;   // PIR引脚输出低电平
                                           	BCLR	_P1bits,4
                                           ;	.line	272; "MC30P6280.c"	delay_5us();
                                           	CALL	_delay_5us
                                           ;	.line	275; "MC30P6280.c"	GIE = 1; // 开启总中断
                                           	BSET	_INTEbits,7
                                           ;	.line	277; "MC30P6280.c"	if (checkCode == 0x04) // 校验头码尾码
                                           	MOVAR	r0x1010
                                           	XORAI	0x04
                                           	JBSET	STATUS,2
                                           	GOTO	_00180_DS_
                                           ;	.line	279; "MC30P6280.c"	if ((pirData & (u16)0x8000) != 0) // 校验负数
                                           	JBSET	r0x100F,7
                                           	GOTO	_00175_DS_
                                           ;	.line	281; "MC30P6280.c"	pirData = (~pirData) + 1; // 转换为正数
                                           	COMAR	r0x100E
                                           	MOVRA	r0x1010
                                           	COMAR	r0x100F
                                           	MOVRA	r0x1011
                                           	MOVAI	0x01
                                           	ADDAR	r0x1010
                                           	MOVRA	r0x100E
                                           	CLRR	r0x100F
                                           	RLR	r0x100F
                                           	MOVAR	r0x1011
                                           	ADDRA	r0x100F
                                           ;;unsigned compare: left < lit(0x5DC=1500), size=2
                                           _00175_DS_
                                           ;	.line	284; "MC30P6280.c"	if (pirData < 1500)
                                           	MOVAI	0x05
                                           	RSUBAR	r0x100F
                                           	JBSET	STATUS,2
                                           	GOTO	_00221_DS_
                                           	MOVAI	0xdc
                                           	RSUBAR	r0x100E
                                           _00221_DS_
                                           	JBCLR	STATUS,0
                                           	GOTO	_00177_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	286; "MC30P6280.c"	return pirData;
                                           	MOVAR	r0x100E
                                           	MOVRA	STK00
                                           	MOVAR	r0x100F
                                           	GOTO	_00183_DS_
                                           _00177_DS_
                                           ;	.line	290; "MC30P6280.c"	return 0;
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	GOTO	_00183_DS_
                                           _00180_DS_
                                           ;	.line	294; "MC30P6280.c"	return 0;
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           _00183_DS_
                                           ;	.line	295; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _get_pirdata
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _sel_pin_config
                                           ;   _light_sensor_pin_config
                                           ;   _C_RAM
                                           ;   _IO_Init
                                           ;   _sel_pin_config
                                           ;   _light_sensor_pin_config
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	182; "MC30P6280.c"	GIE = 0;
                                           	BCLR	_INTEbits,7
                                           ;	.line	183; "MC30P6280.c"	C_RAM();
                                           	CALL	_C_RAM
                                           ;	.line	184; "MC30P6280.c"	IO_Init();
                                           	CALL	_IO_Init
                                           ;	.line	186; "MC30P6280.c"	sel_pin_config();		   // 拨码开关检测引脚的配置
                                           	CALL	_sel_pin_config
                                           ;	.line	187; "MC30P6280.c"	light_sensor_pin_config(); // 检测光敏的引脚的相关配置
                                           	CALL	_light_sensor_pin_config
                                           ;	.line	189; "MC30P6280.c"	GIE = 1;
                                           	BSET	_INTEbits,7
                                           ;	.line	190; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	167; "MC30P6280.c"	P1 = 0x00;	  // 1:input 0:output
                                           	CLRR	_P1
                                           ;	.line	168; "MC30P6280.c"	DDR1 = 0x00;  // 1:input 0:output
                                           	CLRR	_DDR1
                                           ;	.line	169; "MC30P6280.c"	PUCON = 0xff; // 0:Effective 1:invalid
                                           	MOVAI	0xff
                                           	MOVRA	_PUCON
                                           ;	.line	170; "MC30P6280.c"	PDCON = 0xff; // 0:Effective 1:invalid
                                           	MOVAI	0xff
                                           	MOVRA	_PDCON
                                           ;	.line	171; "MC30P6280.c"	ODCON = 0x00; // 0:推挽输出  1:开漏输出
                                           	CLRR	_ODCON
                                           ;	.line	172; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _C_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _C_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	156; "MC30P6280.c"	__endasm;
                                           	;
                                           	movai	0x3F;
                                           	movra	FSR;
                                           	movai	47;
                                           	movra	0x3F;
                                           	decr	FSR;
                                           	clrr	INDF;
                                           	djzr	0x3F;
                                           	goto	$ - 3;
                                           	clrr	0x3F;
                                           	
                                           ;	.line	157; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _C_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _light_sensor_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _light_sensor_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	133; "MC30P6280.c"	DDR1 |= 0x01 << 1;
                                           	BSET	_DDR1,1
                                           ;	.line	134; "MC30P6280.c"	PUCON &= ~(0x01 << 1); // 使能上拉电阻
                                           	BCLR	_PUCON,1
                                           ;	.line	136; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _light_sensor_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _sel_pin_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _sel_pin_config	;Function start
                                           ; 2 exit points
                                           ;	.line	125; "MC30P6280.c"	DDR1 |= 0x01; // 输入模式
                                           	BSET	_DDR1,0
                                           ;	.line	127; "MC30P6280.c"	PDCON &= ~(0x01); // 使能下拉电阻
                                           	BCLR	_PDCON,0
                                           ;	.line	128; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _sel_pin_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pir_pin_out	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pir_pin_out	;Function start
                                           ; 2 exit points
                                           ;	.line	117; "MC30P6280.c"	DDR1 &= ~(0x01 << 4);
                                           	BCLR	_DDR1,4
                                           ;	.line	118; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _pir_pin_out
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _pir_pin_in	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _pir_pin_in	;Function start
                                           ; 2 exit points
                                           ;	.line	108; "MC30P6280.c"	DDR1 |= 0x01 << 4; // 输入模式
                                           	BSET	_DDR1,4
                                           ;	.line	111; "MC30P6280.c"	PUCON &= ~(0x01 << 4); // 内部上拉有效
                                           	BCLR	_PUCON,4
                                           ;	.line	112; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _pir_pin_in
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;11 compiler assigned registers:
                                           ;   r0x1009
                                           ;   STK00
                                           ;   r0x100A
                                           ;   STK01
                                           ;   r0x100B
                                           ;   STK02
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;   r0x100E
                                           ;   r0x100F
                                           ;   r0x1010
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	91; "MC30P6280.c"	void delay_ms(u32 xms)
                                           	MOVRA	r0x1009
                                           	MOVAR	STK00
                                           	MOVRA	r0x100A
                                           	MOVAR	STK01
                                           	MOVRA	r0x100B
                                           	MOVAR	STK02
                                           	MOVRA	r0x100C
                                           _00127_DS_
                                           ;	.line	93; "MC30P6280.c"	while (xms)
                                           	MOVAR	r0x100C
                                           	ORAR	r0x100B
                                           	ORAR	r0x100A
                                           	ORAR	r0x1009
                                           	JBCLR	STATUS,2
                                           	GOTO	_00130_DS_
                                           ;	.line	96; "MC30P6280.c"	while (i--)
                                           	MOVAI	0x13
                                           	MOVRA	r0x100D
                                           	MOVAI	0x02
                                           	MOVRA	r0x100E
                                           _00124_DS_
                                           	MOVAR	r0x100D
                                           	MOVRA	r0x100F
                                           	MOVAR	r0x100E
                                           	MOVRA	r0x1010
                                           	MOVAI	0xff
                                           	ADDRA	r0x100D
                                           	JBSET	STATUS,0
                                           	DECR	r0x100E
                                           	MOVAR	r0x100F
                                           	ORAR	r0x1010
                                           	JBCLR	STATUS,2
                                           	GOTO	_00126_DS_
                                           ;	.line	98; "MC30P6280.c"	Nop();
                                           	nop	
                                           	GOTO	_00124_DS_
                                           _00126_DS_
                                           ;	.line	100; "MC30P6280.c"	xms--;
                                           	MOVAI	0xff
                                           	ADDRA	r0x100C
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x100B
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x100A
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1009
                                           	GOTO	_00127_DS_
                                           _00130_DS_
                                           ;	.line	102; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_5us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;2 compiler assigned registers:
                                           ;   r0x1009
                                           ;   r0x100A
                                           ;; Starting pCode block
                                           _delay_5us	;Function start
                                           ; 2 exit points
                                           ;	.line	77; "MC30P6280.c"	while (xus--)
                                           	MOVAI	0x02
                                           	MOVRA	r0x1009
                                           _00116_DS_
                                           	MOVAR	r0x1009
                                           	MOVRA	r0x100A
                                           	DECR	r0x1009
                                           	MOVAI	0x00
                                           	ORAR	r0x100A
                                           	JBCLR	STATUS,2
                                           	GOTO	_00119_DS_
                                           ;	.line	85; "MC30P6280.c"	__endasm;
                                           	;
                                           	
                                           	GOTO	_00116_DS_
                                           _00119_DS_
                                           ;	.line	87; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _delay_5us
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_100us	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;8 compiler assigned registers:
                                           ;   r0x1009
                                           ;   STK00
                                           ;   r0x100A
                                           ;   STK01
                                           ;   r0x100B
                                           ;   STK02
                                           ;   r0x100C
                                           ;   r0x100D
                                           ;; Starting pCode block
                                           _delay_100us	;Function start
                                           ; 2 exit points
                                           ;	.line	58; "MC30P6280.c"	void delay_100us(u32 xus)
                                           	MOVRA	r0x1009
                                           	MOVAR	STK00
                                           	MOVRA	r0x100A
                                           	MOVAR	STK01
                                           	MOVRA	r0x100B
                                           	MOVAR	STK02
                                           	MOVRA	r0x100C
                                           _00108_DS_
                                           ;	.line	60; "MC30P6280.c"	while (xus)
                                           	MOVAR	r0x100C
                                           	ORAR	r0x100B
                                           	ORAR	r0x100A
                                           	ORAR	r0x1009
                                           	JBCLR	STATUS,2
                                           	GOTO	_00111_DS_
                                           ;	.line	63; "MC30P6280.c"	while (i)
                                           	MOVAI	0x61
                                           	MOVRA	r0x100D
                                           _00105_DS_
                                           	MOVAI	0x00
                                           	ORAR	r0x100D
                                           	JBCLR	STATUS,2
                                           	GOTO	_00107_DS_
                                           ;	.line	65; "MC30P6280.c"	Nop();
                                           	nop	
                                           ;	.line	66; "MC30P6280.c"	i--;
                                           	DECR	r0x100D
                                           	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	68; "MC30P6280.c"	xus--;
                                           	MOVAI	0xff
                                           	ADDRA	r0x100C
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x100B
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x100A
                                           	MOVAI	0xff
                                           	JBSET	STATUS,0
                                           	ADDRA	r0x1009
                                           	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	70; "MC30P6280.c"	}
                                           	RETURN	
                                           ; exit point of _delay_100us
                                           
                                           
                                           ;	code size estimation:
                                           ;	  551+    0 =   551 instructions ( 1102 byte)
                                           
                                           	end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXX------------ XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXX-------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   582

